var $m=Object.defineProperty;var Tm=(mt,st,Jt)=>st in mt?$m(mt,st,{enumerable:!0,configurable:!0,writable:!0,value:Jt}):mt[st]=Jt;var X=(mt,st,Jt)=>Tm(mt,typeof st!="symbol"?st+"":st,Jt);define(["exports","core/ajax"],function(mt,st){"use strict";/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jt(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const Eu={},Ru=()=>{},Mm=Object.assign,$u=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Tu=Object.prototype.hasOwnProperty,Ur=(t,e)=>Tu.call(t,e),bt=Array.isArray,bn=t=>as(t)==="[object Map]",Mu=t=>as(t)==="[object Set]",Hr=t=>typeof t=="function",Iu=t=>typeof t=="string",wn=t=>typeof t=="symbol",_n=t=>t!==null&&typeof t=="object",Ou=Object.prototype.toString,as=t=>Ou.call(t),Fu=t=>as(t).slice(8,-1),ju=t=>as(t)==="[object Object]",Wr=t=>Iu(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wt=(t,e)=>!Object.is(t,e),Lu=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})};/**
* @vue/reactivity v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ye;class Oo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ye,!e&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){if(this._isPaused=!0,this.scopes)for(let e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(let e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){if(this._isPaused=!1,this.scopes)for(let e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(let e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ye;try{return ye=this,e()}finally{ye=n}}}on(){ye=this}off(){ye=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Fo(t){return new Oo(t)}function jo(){return ye}function Du(t,e=!1){ye&&ye.cleanups.push(t)}let se;const Vr=new WeakSet;class Lo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,ye&&ye.active&&ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vr.has(this)&&(Vr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=yn,yn=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Uo(this),Do(this);const e=se,n=Be;se=this,Be=!0;try{return this.fn()}finally{No(this),se=e,Be=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xr(e);this.deps=this.depsTail=void 0,Uo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jr(this)&&this.run()}get dirty(){return Jr(this)}}let ls=0,yn;function qr(){ls++}function Kr(){if(ls>1){ls--;return}ls--;let t;for(;yn;){let e=yn;for(yn=void 0;e;){const n=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Do(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function No(t){let e,n=t.depsTail;for(let s=n;s;s=s.prevDep)s.version===-1?(s===n&&(n=s.prevDep),Xr(s),Nu(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0;t.deps=e,t.depsTail=n}function Jr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&Bo(e.dep.computed)===!1||e.dep.version!==e.version)return!0;return!!t._dirty}function Bo(t){if(t.flags&2)return!1;if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===vn))return;t.globalVersion=vn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&!Jr(t)){t.flags&=-3;return}const n=se,s=Be;se=t,Be=!0;try{Do(t);const r=t.fn();(e.version===0||wt(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{se=n,Be=s,No(t),t.flags&=-3}}function Xr(t){const{dep:e,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)Xr(r)}}function Nu(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Be=!0;const zo=[];function rt(){zo.push(Be),Be=!1}function it(){const t=zo.pop();Be=t===void 0?!0:t}function Uo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=se;se=void 0;try{e()}finally{se=n}}}let vn=0;class Gr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!se||!Be)return;let n=this.activeLink;if(n===void 0||n.sub!==se)n=this.activeLink={dep:this,sub:se,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},se.deps?(n.prevDep=se.depsTail,se.depsTail.nextDep=n,se.depsTail=n):se.deps=se.depsTail=n,se.flags&4&&Ho(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=se.depsTail,n.nextDep=void 0,se.depsTail.nextDep=n,se.depsTail=n,se.deps===n&&(se.deps=s)}return n}trigger(e){this.version++,vn++,this.notify(e)}notify(e){qr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{Kr()}}}function Ho(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Ho(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const cs=new WeakMap,Rt=Symbol(""),Qr=Symbol(""),xn=Symbol("");function ge(t,e,n){if(Be&&se){let s=cs.get(t);s||cs.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=new Gr),r.track()}}function ot(t,e,n,s,r,i){const o=cs.get(t);if(!o){vn++;return}let a=[];if(e==="clear")a=[...o.values()];else{const l=bt(t),u=l&&Wr(n);if(l&&n==="length"){const c=Number(s);o.forEach((d,p)=>{(p==="length"||p===xn||!wn(p)&&p>=c)&&a.push(d)})}else{const c=d=>d&&a.push(d);switch(n!==void 0&&c(o.get(n)),u&&c(o.get(xn)),e){case"add":l?u&&c(o.get("length")):(c(o.get(Rt)),bn(t)&&c(o.get(Qr)));break;case"delete":l||(c(o.get(Rt)),bn(t)&&c(o.get(Qr)));break;case"set":bn(t)&&c(o.get(Rt));break}}}qr();for(const l of a)l.trigger();Kr()}function Bu(t,e){var n;return(n=cs.get(t))==null?void 0:n.get(e)}function Xt(t){const e=q(t);return e===t?e:(ge(e,"iterate",xn),ze(t)?e:e.map(me))}function us(t){return ge(t=q(t),"iterate",xn),t}const zu={__proto__:null,[Symbol.iterator](){return Zr(this,Symbol.iterator,me)},concat(...t){return Xt(this).concat(...t.map(e=>Xt(e)))},entries(){return Zr(this,"entries",t=>(t[1]=me(t[1]),t))},every(t,e){return at(this,"every",t,e,void 0,arguments)},filter(t,e){return at(this,"filter",t,e,n=>n.map(me),arguments)},find(t,e){return at(this,"find",t,e,me,arguments)},findIndex(t,e){return at(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return at(this,"findLast",t,e,me,arguments)},findLastIndex(t,e){return at(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return at(this,"forEach",t,e,void 0,arguments)},includes(...t){return Yr(this,"includes",t)},indexOf(...t){return Yr(this,"indexOf",t)},join(t){return Xt(this).join(t)},lastIndexOf(...t){return Yr(this,"lastIndexOf",t)},map(t,e){return at(this,"map",t,e,void 0,arguments)},pop(){return kn(this,"pop")},push(...t){return kn(this,"push",t)},reduce(t,...e){return Wo(this,"reduce",t,e)},reduceRight(t,...e){return Wo(this,"reduceRight",t,e)},shift(){return kn(this,"shift")},some(t,e){return at(this,"some",t,e,void 0,arguments)},splice(...t){return kn(this,"splice",t)},toReversed(){return Xt(this).toReversed()},toSorted(t){return Xt(this).toSorted(t)},toSpliced(...t){return Xt(this).toSpliced(...t)},unshift(...t){return kn(this,"unshift",t)},values(){return Zr(this,"values",me)}};function Zr(t,e,n){const s=us(t),r=s[e]();return s!==t&&!ze(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Uu=Array.prototype;function at(t,e,n,s,r,i){const o=us(t),a=o!==t&&!ze(t),l=o[e];if(l!==Uu[e]){const d=l.apply(o,i);return a?me(d):d}let u=n;o!==t&&(a?u=function(d,p){return n.call(this,me(d),p,t)}:n.length>2&&(u=function(d,p){return n.call(this,d,p,t)}));const c=l.call(o,u,s);return a&&r?r(c):c}function Wo(t,e,n,s){const r=us(t);let i=n;return r!==t&&(ze(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,me(a),l,t)}),r[e](i,...s)}function Yr(t,e,n){const s=q(t);ge(s,"iterate",xn);const r=s[e](...n);return(r===-1||r===!1)&&ti(n[0])?(n[0]=q(n[0]),s[e](...n)):r}function kn(t,e,n=[]){rt(),qr();const s=q(t)[e].apply(t,n);return Kr(),it(),s}const Hu=Jt("__proto__,__v_isRef,__isVue"),Vo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wn));function Wu(t){wn(t)||(t=String(t));const e=q(this);return ge(e,"has",t),e.hasOwnProperty(t)}class qo{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?na:ta:i?ea:Yo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=bt(e);if(!r){let l;if(o&&(l=zu[n]))return l;if(n==="hasOwnProperty")return Wu}const a=Reflect.get(e,n,le(e)?e:s);return(wn(n)?Vo.has(n):Hu(n))||(r||ge(e,"get",n),i)?a:le(a)?o&&Wr(n)?a:a.value:_n(a)?r?sa(a):ws(a):a}}class Ko extends qo{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=$t(i);if(!ze(s)&&!$t(s)&&(i=q(i),s=q(s)),!bt(e)&&le(i)&&!le(s))return l?!1:(i.value=s,!0)}const o=bt(e)&&Wr(n)?Number(n)<e.length:Ur(e,n),a=Reflect.set(e,n,s,r);return e===q(r)&&(o?wt(s,i)&&ot(e,"set",n,s):ot(e,"add",n,s)),a}deleteProperty(e,n){const s=Ur(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ot(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!wn(n)||!Vo.has(n))&&ge(e,"has",n),s}ownKeys(e){return ge(e,"iterate",bt(e)?"length":Rt),Reflect.ownKeys(e)}}class Jo extends qo{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Vu=new Ko,qu=new Jo,Ku=new Ko(!0),Ju=new Jo(!0),ei=t=>t,fs=t=>Reflect.getPrototypeOf(t);function ds(t,e,n=!1,s=!1){t=t.__v_raw;const r=q(t),i=q(e);n||(wt(e,i)&&ge(r,"get",e),ge(r,"get",i));const{has:o}=fs(r),a=s?ei:n?si:me;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function hs(t,e=!1){const n=this.__v_raw,s=q(n),r=q(t);return e||(wt(t,r)&&ge(s,"has",t),ge(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ps(t,e=!1){return t=t.__v_raw,!e&&ge(q(t),"iterate",Rt),Reflect.get(t,"size",t)}function Xo(t,e=!1){!e&&!ze(t)&&!$t(t)&&(t=q(t));const n=q(this);return fs(n).has.call(n,t)||(n.add(t),ot(n,"add",t,t)),this}function Go(t,e,n=!1){!n&&!ze(e)&&!$t(e)&&(e=q(e));const s=q(this),{has:r,get:i}=fs(s);let o=r.call(s,t);o||(t=q(t),o=r.call(s,t));const a=i.call(s,t);return s.set(t,e),o?wt(e,a)&&ot(s,"set",t,e):ot(s,"add",t,e),this}function Qo(t){const e=q(this),{has:n,get:s}=fs(e);let r=n.call(e,t);r||(t=q(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&ot(e,"delete",t,void 0),i}function Zo(){const t=q(this),e=t.size!==0,n=t.clear();return e&&ot(t,"clear",void 0,void 0),n}function gs(t,e){return function(s,r){const i=this,o=i.__v_raw,a=q(o),l=e?ei:t?si:me;return!t&&ge(a,"iterate",Rt),o.forEach((u,c)=>s.call(r,l(u),l(c),i))}}function ms(t,e,n){return function(...s){const r=this.__v_raw,i=q(r),o=bn(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...s),c=n?ei:e?si:me;return!e&&ge(i,"iterate",l?Qr:Rt),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function _t(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Xu(){const t={get(i){return ds(this,i)},get size(){return ps(this)},has:hs,add:Xo,set:Go,delete:Qo,clear:Zo,forEach:gs(!1,!1)},e={get(i){return ds(this,i,!1,!0)},get size(){return ps(this)},has:hs,add(i){return Xo.call(this,i,!0)},set(i,o){return Go.call(this,i,o,!0)},delete:Qo,clear:Zo,forEach:gs(!1,!0)},n={get(i){return ds(this,i,!0)},get size(){return ps(this,!0)},has(i){return hs.call(this,i,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:gs(!0,!1)},s={get(i){return ds(this,i,!0,!0)},get size(){return ps(this,!0)},has(i){return hs.call(this,i,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:gs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ms(i,!1,!1),n[i]=ms(i,!0,!1),e[i]=ms(i,!1,!0),s[i]=ms(i,!0,!0)}),[t,n,e,s]}const[Gu,Qu,Zu,Yu]=Xu();function bs(t,e){const n=e?t?Yu:Zu:t?Qu:Gu;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ur(n,r)&&r in s?n:s,r,i)}const ef={get:bs(!1,!1)},tf={get:bs(!1,!0)},nf={get:bs(!0,!1)},sf={get:bs(!0,!0)},Yo=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap;function rf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function of(t){return t.__v_skip||!Object.isExtensible(t)?0:rf(Fu(t))}function ws(t){return $t(t)?t:_s(t,!1,Vu,ef,Yo)}function af(t){return _s(t,!1,Ku,tf,ea)}function sa(t){return _s(t,!0,qu,nf,ta)}function Im(t){return _s(t,!0,Ju,sf,na)}function _s(t,e,n,s,r){if(!_n(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=of(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function yt(t){return $t(t)?yt(t.__v_raw):!!(t&&t.__v_isReactive)}function $t(t){return!!(t&&t.__v_isReadonly)}function ze(t){return!!(t&&t.__v_isShallow)}function ti(t){return t?!!t.__v_raw:!1}function q(t){const e=t&&t.__v_raw;return e?q(e):t}function ni(t){return Object.isExtensible(t)&&Lu(t,"__v_skip",!0),t}const me=t=>_n(t)?ws(t):t,si=t=>_n(t)?sa(t):t;function le(t){return t?t.__v_isRef===!0:!1}function ra(t){return lf(t,!1)}function lf(t,e){return le(t)?t:new cf(t,e)}class cf{constructor(e,n){this.dep=new Gr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:q(e),this._value=n?e:me(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ze(e)||$t(e);e=s?e:q(e),wt(e,n)&&(this._rawValue=e,this._value=s?e:me(e),this.dep.trigger())}}function lt(t){return le(t)?t.value:t}const uf={get:(t,e,n)=>lt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return le(r)&&!le(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function ia(t){return yt(t)?t:new Proxy(t,uf)}function ff(t){const e=bt(t)?new Array(t.length):{};for(const n in t)e[n]=hf(t,n);return e}class df{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Bu(q(this._object),this._key)}}function hf(t,e,n){const s=t[e];return le(s)?s:new df(t,e,n)}class pf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Gr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vn-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){se!==this&&(this.flags|=16,this.dep.notify())}get value(){const e=this.dep.track();return Bo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function gf(t,e,n=!1){let s,r;return Hr(t)?s=t:(s=t.get,r=t.set),new pf(s,r,n)}const ys={},vs=new WeakMap;let Tt;function mf(t,e=!1,n=Tt){if(n){let s=vs.get(n);s||vs.set(n,s=[]),s.push(t)}}function bf(t,e,n=Eu){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,u=x=>r?x:ze(x)||r===!1||r===0?ct(x,1):ct(x);let c,d,p,m,S=!1,w=!1;if(le(t)?(d=()=>t.value,S=ze(t)):yt(t)?(d=()=>u(t),S=!0):bt(t)?(w=!0,S=t.some(x=>yt(x)||ze(x)),d=()=>t.map(x=>{if(le(x))return x.value;if(yt(x))return u(x);if(Hr(x))return l?l(x,2):x()})):Hr(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){rt();try{p()}finally{it()}}const x=Tt;Tt=c;try{return l?l(t,3,[m]):t(m)}finally{Tt=x}}:d=Ru,e&&r){const x=d,I=r===!0?1/0:r;d=()=>ct(x(),I)}if(i)if(e){const x=e;e=(...I)=>{x(...I),c.stop()}}else{const x=d;d=()=>{x(),c.stop()}}let k=w?new Array(t.length).fill(ys):ys;const L=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const I=c.run();if(r||S||(w?I.some((z,D)=>wt(z,k[D])):wt(I,k))){p&&p();const z=Tt;Tt=c;try{const D=[I,k===ys?void 0:w&&k[0]===ys?[]:k,m];l?l(e,3,D):e(...D),k=I}finally{Tt=z}}}else c.run()};a&&a(L),c=new Lo(d),c.scheduler=o?()=>o(L,!1):L,m=x=>mf(x,!1,c),p=c.onStop=()=>{const x=vs.get(c);if(x){if(l)l(x,4);else for(const I of x)I();vs.delete(c)}},e?s?L(!0):k=c.run():o?o(L.bind(null,!0),!0):c.run();const O=jo(),$=()=>{c.stop(),O&&$u(O.effects,c)};return $.pause=c.pause.bind(c),$.resume=c.resume.bind(c),$.stop=$,$}function ct(t,e=1/0,n){if(e<=0||!_n(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,le(t))ct(t.value,e,n);else if(bt(t))for(let s=0;s<t.length;s++)ct(t[s],e,n);else if(Mu(t)||bn(t))t.forEach(s=>{ct(s,e,n)});else if(ju(t)){for(const s in t)ct(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ct(t[s],e,n)}return t}/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wf(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const oe={},Gt=[],ut=()=>{},_f=()=>!1,ri=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),oa=t=>t.startsWith("onUpdate:"),be=Object.assign,aa=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},yf=Object.prototype.hasOwnProperty,G=(t,e)=>yf.call(t,e),K=Array.isArray,vf=t=>ii(t)==="[object Map]",xf=t=>ii(t)==="[object Set]",U=t=>typeof t=="function",ve=t=>typeof t=="string",la=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",ca=t=>(de(t)||U(t))&&U(t.then)&&U(t.catch),ua=Object.prototype.toString,ii=t=>ua.call(t),kf=t=>ii(t)==="[object Object]",Sn=wf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Sf=/-(\w)/g,Mt=xs(t=>t.replace(Sf,(e,n)=>n?n.toUpperCase():"")),Cf=/\B([A-Z])/g,Cn=xs(t=>t.replace(Cf,"-$1").toLowerCase()),Pf=xs(t=>t.charAt(0).toUpperCase()+t.slice(1)),oi=xs(t=>t?`on${Pf(t)}`:""),ai=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Af=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Ef=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let fa;const da=()=>fa||(fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function li(t){if(K(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ve(s)?Mf(s):li(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(ve(t)||de(t))return t}const Rf=/;(?![^(]*\))/g,$f=/:([^]+)/,Tf=/\/\*[^]*?\*\//g;function Mf(t){const e={};return t.replace(Tf,"").split(Rf).forEach(n=>{if(n){const s=n.split($f);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Pn(t){let e="";if(ve(t))e=t;else if(K(t))for(let n=0;n<t.length;n++){const s=Pn(t[n]);s&&(e+=s+" ")}else if(de(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ha=t=>!!(t&&t.__v_isRef===!0),ci=t=>ve(t)?t:t==null?"":K(t)||de(t)&&(t.toString===ua||!U(t.toString))?ha(t)?ci(t.value):JSON.stringify(t,pa,2):String(t),pa=(t,e)=>ha(e)?pa(t,e.value):vf(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[ui(s,i)+" =>"]=r,n),{})}:xf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ui(n))}:la(e)?ui(e):de(e)&&!K(e)&&!kf(e)?String(e):e,ui=(t,e="")=>{var n;return la(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/runtime-core v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const An=[];let fi=!1;function Om(t,...e){if(fi)return;fi=!0,rt();const n=An.length?An[An.length-1].component:null,s=n&&n.appContext.config.warnHandler,r=If();if(s)Qt(s,n,11,[t+e.map(i=>{var o,a;return(a=(o=i.toString)==null?void 0:o.call(i))!=null?a:JSON.stringify(i)}).join(""),n&&n.proxy,r.map(({vnode:i})=>`at <${ul(n,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${t}`,...e];r.length&&i.push(`
`,...Of(r)),console.warn(...i)}it(),fi=!1}function If(){let t=An[An.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const s=t.component&&t.component.parent;t=s&&s.vnode}return e}function Of(t){const e=[];return t.forEach((n,s)=>{e.push(...s===0?[]:[`
`],...Ff(n))}),e}function Ff({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",s=t.component?t.component.parent==null:!1,r=` at <${ul(t.component,t.type,s)}`,i=">"+n;return t.props?[r,...jf(t.props),i]:[r+i]}function jf(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(s=>{e.push(...ga(s,t[s]))}),n.length>3&&e.push(" ..."),e}function ga(t,e,n){return ve(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:le(e)?(e=ga(t,q(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):U(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=q(e),n?e:[`${t}=`,e])}function Qt(t,e,n,s){try{return s?t(...s):t()}catch(r){ks(r,e,n)}}function Xe(t,e,n,s){if(U(t)){const r=Qt(t,e,n,s);return r&&ca(r)&&r.catch(i=>{ks(i,e,n)}),r}if(K(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Xe(t[i],e,n,s));return r}}function ks(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||oe;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){rt(),Qt(i,null,10,[t,l,u]),it();return}}Lf(t,n,r,s,o)}function Lf(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}let En=!1,di=!1;const Ae=[];let It=0;const Zt=[];let vt=null,Yt=0;const ma=Promise.resolve();let hi=null;function Ss(t){const e=hi||ma;return t?e.then(this?t.bind(this):t):e}function Df(t){let e=En?It+1:0,n=Ae.length;for(;e<n;){const s=e+n>>>1,r=Ae[s],i=Rn(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function pi(t){if(!(t.flags&1)){const e=Rn(t),n=Ae[Ae.length-1];!n||!(t.flags&2)&&e>=Rn(n)?Ae.push(t):Ae.splice(Df(e),0,t),t.flags&4||(t.flags|=1),ba()}}function ba(){!En&&!di&&(di=!0,hi=ma.then(ya))}function Nf(t){K(t)?Zt.push(...t):vt&&t.id===-1?vt.splice(Yt+1,0,t):t.flags&1||(Zt.push(t),t.flags&4||(t.flags|=1)),ba()}function wa(t,e,n=En?It+1:0){for(;n<Ae.length;n++){const s=Ae[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ae.splice(n,1),n--,s(),s.flags&=-2}}}function _a(t){if(Zt.length){const e=[...new Set(Zt)].sort((n,s)=>Rn(n)-Rn(s));if(Zt.length=0,vt){vt.push(...e);return}for(vt=e,Yt=0;Yt<vt.length;Yt++){const n=vt[Yt];n.flags&8||n(),n.flags&=-2}vt=null,Yt=0}}const Rn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ya(t){di=!1,En=!0;try{for(It=0;It<Ae.length;It++){const e=Ae[It];e&&!(e.flags&8)&&(Qt(e,e.i,e.i?15:14),e.flags&=-2)}}finally{It=0,Ae.length=0,_a(),En=!1,hi=null,(Ae.length||Zt.length)&&ya()}}let Ee=null,va=null;function Cs(t){const e=Ee;return Ee=t,va=t&&t.type.__scopeId||null,e}function Bf(t,e=Ee,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&tl(-1);const i=Cs(e);let o;try{o=t(...r)}finally{Cs(i),s._d&&tl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function xa(t,e){if(Ee===null)return t;const n=Os(Ee),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=oe]=e[r];i&&(U(i)&&(i={mounted:i,updated:i}),i.deep&&ct(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ot(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(rt(),Xe(l,n,8,[t.el,a,t,e]),it())}}const zf=Symbol("_vte"),Uf=t=>t.__isTeleport;function ka(t,e){t.shapeFlag&6&&t.component?ka(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Sa(t,e){return U(t)?be({name:t.name},e,{setup:t}):t}function Ca(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function gi(t,e,n,s,r=!1){if(K(t)){t.forEach((p,m)=>gi(p,e&&(K(e)?e[m]:e),n,s,r));return}if($n(s)&&!r)return;const i=s.shapeFlag&4?Os(s.component):s.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===oe?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(ve(u)?(c[u]=null,G(d,u)&&(d[u]=null)):le(u)&&(u.value=null)),U(l))Qt(l,a,12,[o,c]);else{const p=ve(l),m=le(l);if(p||m){const S=()=>{if(t.f){const w=p?G(d,l)?d[l]:c[l]:l.value;r?K(w)&&aa(w,i):K(w)?w.includes(i)||w.push(i):p?(c[l]=[i],G(d,l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else p?(c[l]=o,G(d,l)&&(d[l]=o)):m&&(l.value=o,t.k&&(c[t.k]=o))};o?(S.id=-1,Re(S,n)):S()}}}const $n=t=>!!t.type.__asyncLoader,Pa=t=>t.type.__isKeepAlive;function Hf(t,e){Aa(t,"a",e)}function Wf(t,e){Aa(t,"da",e)}function Aa(t,e,n=we){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ps(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Pa(r.parent.vnode)&&Vf(s,e,n,r),r=r.parent}}function Vf(t,e,n,s){const r=Ps(e,t,s,!0);Ra(()=>{aa(s[e],r)},n)}function Ps(t,e,n=we,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{rt();const a=jn(n),l=Xe(e,n,t,o);return a(),it(),l});return s?r.unshift(i):r.push(i),i}}const ft=t=>(e,n=we)=>{(!Is||t==="sp")&&Ps(t,(...s)=>e(...s),n)},qf=ft("bm"),Ea=ft("m"),Kf=ft("bu"),Jf=ft("u"),Xf=ft("bum"),Ra=ft("um"),Gf=ft("sp"),Qf=ft("rtg"),Zf=ft("rtc");function Yf(t,e=we){Ps("ec",t,e)}const ed=Symbol.for("v-ndc");function $a(t,e,n,s){let r;const i=n,o=K(t);if(o||ve(t)){const a=o&&yt(t);a&&(t=us(t)),r=new Array(t.length);for(let l=0,u=t.length;l<u;l++)r[l]=e(a?me(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(de(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const mi=t=>t?ol(t)?Os(t):mi(t.parent):null,Tn=be(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mi(t.parent),$root:t=>mi(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>_i(t),$forceUpdate:t=>t.f||(t.f=()=>{pi(t.update)}),$nextTick:t=>t.n||(t.n=Ss.bind(t.proxy)),$watch:t=>kd.bind(t)}),bi=(t,e)=>t!==oe&&!t.__isScriptSetup&&G(t,e),td={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(bi(s,e))return o[e]=1,s[e];if(r!==oe&&G(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&G(u,e))return o[e]=3,i[e];if(n!==oe&&G(n,e))return o[e]=4,n[e];wi&&(o[e]=0)}}const c=Tn[e];let d,p;if(c)return e==="$attrs"&&ge(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==oe&&G(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,G(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return bi(r,e)?(r[e]=n,!0):s!==oe&&G(s,e)?(s[e]=n,!0):G(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==oe&&G(t,o)||bi(e,o)||(a=i[0])&&G(a,o)||G(s,o)||G(Tn,o)||G(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:G(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ta(t){return K(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let wi=!0;function nd(t){const e=_i(t),n=t.proxy,s=t.ctx;wi=!1,e.beforeCreate&&Ma(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:m,updated:S,activated:w,deactivated:k,beforeDestroy:L,beforeUnmount:O,destroyed:$,unmounted:x,render:I,renderTracked:z,renderTriggered:D,errorCaptured:B,serverPrefetch:j,expose:ne,inheritAttrs:J,components:Pe,directives:Et,filters:ss}=e;if(u&&sd(u,s,null),o)for(const W in o){const re=o[W];U(re)&&(s[W]=re.bind(n))}if(r){const W=r.call(n,n);de(W)&&(t.data=ws(W))}if(wi=!0,i)for(const W in i){const re=i[W],qt=U(re)?re.bind(n,n):U(re.get)?re.get.bind(n,n):ut,Br=!U(re)&&U(re.set)?re.set.bind(n):ut,Kt=fl({get:qt,set:Br});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>Kt.value,set:tt=>Kt.value=tt})}if(a)for(const W in a)Ia(a[W],s,n,W);if(l){const W=U(l)?l.call(n):l;Reflect.ownKeys(W).forEach(re=>{cd(re,W[re])})}c&&Ma(c,t,"c");function ue(W,re){K(re)?re.forEach(qt=>W(qt.bind(n))):re&&W(re.bind(n))}if(ue(qf,d),ue(Ea,p),ue(Kf,m),ue(Jf,S),ue(Hf,w),ue(Wf,k),ue(Yf,B),ue(Zf,z),ue(Qf,D),ue(Xf,O),ue(Ra,x),ue(Gf,j),K(ne))if(ne.length){const W=t.exposed||(t.exposed={});ne.forEach(re=>{Object.defineProperty(W,re,{get:()=>n[re],set:qt=>n[re]=qt})})}else t.exposed||(t.exposed={});I&&t.render===ut&&(t.render=I),J!=null&&(t.inheritAttrs=J),Pe&&(t.components=Pe),Et&&(t.directives=Et),j&&Ca(t)}function sd(t,e,n=ut){K(t)&&(t=yi(t));for(const s in t){const r=t[s];let i;de(r)?"default"in r?i=en(r.from||s,r.default,!0):i=en(r.from||s):i=en(r),le(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Ma(t,e,n){Xe(K(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ia(t,e,n,s){let r=s.includes(".")?Qa(n,s):()=>n[s];if(ve(t)){const i=e[t];U(i)&&Es(r,i)}else if(U(t))Es(r,t.bind(n));else if(de(t))if(K(t))t.forEach(i=>Ia(i,e,n,s));else{const i=U(t.handler)?t.handler.bind(n):e[t.handler];U(i)&&Es(r,i,t)}}function _i(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>As(l,u,o,!0)),As(l,e,o)),de(e)&&i.set(e,l),l}function As(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&As(t,i,n,!0),r&&r.forEach(o=>As(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=rd[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rd={data:Oa,props:Fa,emits:Fa,methods:Mn,computed:Mn,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:Mn,directives:Mn,watch:od,provide:Oa,inject:id};function Oa(t,e){return e?t?function(){return be(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function id(t,e){return Mn(yi(t),yi(e))}function yi(t){if(K(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function xe(t,e){return t?[...new Set([].concat(t,e))]:e}function Mn(t,e){return t?be(Object.create(null),t,e):e}function Fa(t,e){return t?K(t)&&K(e)?[...new Set([...t,...e])]:be(Object.create(null),Ta(t),Ta(e??{})):e}function od(t,e){if(!t)return e;if(!e)return t;const n=be(Object.create(null),t);for(const s in e)n[s]=xe(t[s],e[s]);return n}function ja(){return{app:null,config:{isNativeTag:_f,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ad=0;function ld(t,e){return function(s,r=null){U(s)||(s=be({},s)),r!=null&&!de(r)&&(r=null);const i=ja(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:ad++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Xd,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(u,...d)):U(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,p){if(!l){const m=u._ceVNode||Ge(s,r);return m.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(m,c):t(m,c,p),l=!0,u._container=c,c.__vue_app__=u,Os(m.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Xe(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Ft;Ft=u;try{return c()}finally{Ft=d}}};return u}}let Ft=null;function cd(t,e){if(we){let n=we.provides;const s=we.parent&&we.parent.provides;s===n&&(n=we.provides=Object.create(s)),n[t]=e}}function en(t,e,n=!1){const s=we||Ee;if(s||Ft){const r=Ft?Ft._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&U(e)?e.call(s&&s.proxy):e}}function ud(){return!!(we||Ee||Ft)}const La={},Da=()=>Object.create(La),Na=t=>Object.getPrototypeOf(t)===La;function fd(t,e,n,s=!1){const r={},i=Da();t.propsDefaults=Object.create(null),Ba(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:af(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function dd(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=q(r),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(Rs(t.emitsOptions,p))continue;const m=e[p];if(l)if(G(i,p))m!==i[p]&&(i[p]=m,u=!0);else{const S=Mt(p);r[S]=vi(l,a,S,m,t,!1)}else m!==i[p]&&(i[p]=m,u=!0)}}}else{Ba(t,e,r,i)&&(u=!0);let c;for(const d in a)(!e||!G(e,d)&&((c=Cn(d))===d||!G(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=vi(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!G(e,d))&&(delete i[d],u=!0)}u&&ot(t.attrs,"set","")}function Ba(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Sn(l))continue;const u=e[l];let c;r&&G(r,c=Mt(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Rs(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=q(n),u=a||oe;for(let c=0;c<i.length;c++){const d=i[c];n[d]=vi(r,l,d,u[d],t,!G(u,d))}}return o}function vi(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=G(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=jn(r);s=u[n]=l.call(null,e),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Cn(n))&&(s=!0))}return s}const hd=new WeakMap;function za(t,e,n=!1){const s=n?hd:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const c=d=>{l=!0;const[p,m]=za(d,e,!0);be(o,p),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return de(t)&&s.set(t,Gt),Gt;if(K(i))for(let c=0;c<i.length;c++){const d=Mt(i[c]);Ua(d)&&(o[d]=oe)}else if(i)for(const c in i){const d=Mt(c);if(Ua(d)){const p=i[c],m=o[d]=K(p)||U(p)?{type:p}:be({},p),S=m.type;let w=!1,k=!0;if(K(S))for(let L=0;L<S.length;++L){const O=S[L],$=U(O)&&O.name;if($==="Boolean"){w=!0;break}else $==="String"&&(k=!1)}else w=U(S)&&S.name==="Boolean";m[0]=w,m[1]=k,(w||G(m,"default"))&&a.push(d)}}const u=[o,a];return de(t)&&s.set(t,u),u}function Ua(t){return t[0]!=="$"&&!Sn(t)}const Ha=t=>t[0]==="_"||t==="$stable",xi=t=>K(t)?t.map(Qe):[Qe(t)],pd=(t,e,n)=>{if(e._n)return e;const s=Bf((...r)=>xi(e(...r)),n);return s._c=!1,s},Wa=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ha(r))continue;const i=t[r];if(U(i))e[r]=pd(r,i,s);else if(i!=null){const o=xi(i);e[r]=()=>o}}},Va=(t,e)=>{const n=xi(e);t.slots.default=()=>n},qa=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},gd=(t,e,n)=>{const s=t.slots=Da();if(t.vnode.shapeFlag&32){const r=e._;r?(qa(s,e,n),n&&Af(s,"_",r,!0)):Wa(e,s)}else e&&Va(t,e)},md=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=oe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:qa(r,e,n):(i=!e.$stable,Wa(e,r)),o=e}else e&&(Va(t,e),o={default:1});if(i)for(const a in r)!Ha(a)&&o[a]==null&&delete r[a]},Re=$d;function bd(t){return wd(t)}function wd(t,e){const n=da();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:m=ut,insertStaticContent:S}=t,w=(f,h,g,y=null,b=null,_=null,A=void 0,P=null,C=!!h.dynamicChildren)=>{if(f===h)return;f&&!Fn(f,h)&&(y=zr(f),tt(f,b,_,!0),f=null),h.patchFlag===-2&&(C=!1,h.dynamicChildren=null);const{type:v,ref:F,shapeFlag:E}=h;switch(v){case $s:k(f,h,g,y);break;case Lt:L(f,h,g,y);break;case Ci:f==null&&O(h,g,y,A);break;case Ue:Pe(f,h,g,y,b,_,A,P,C);break;default:E&1?I(f,h,g,y,b,_,A,P,C):E&6?Et(f,h,g,y,b,_,A,P,C):(E&64||E&128)&&v.process(f,h,g,y,b,_,A,P,C,is)}F!=null&&b&&gi(F,f&&f.ref,_,h||f,!h)},k=(f,h,g,y)=>{if(f==null)s(h.el=a(h.children),g,y);else{const b=h.el=f.el;h.children!==f.children&&u(b,h.children)}},L=(f,h,g,y)=>{f==null?s(h.el=l(h.children||""),g,y):h.el=f.el},O=(f,h,g,y)=>{[f.el,f.anchor]=S(f.children,h,g,y,f.el,f.anchor)},$=({el:f,anchor:h},g,y)=>{let b;for(;f&&f!==h;)b=p(f),s(f,g,y),f=b;s(h,g,y)},x=({el:f,anchor:h})=>{let g;for(;f&&f!==h;)g=p(f),r(f),f=g;r(h)},I=(f,h,g,y,b,_,A,P,C)=>{h.type==="svg"?A="svg":h.type==="math"&&(A="mathml"),f==null?z(h,g,y,b,_,A,P,C):j(f,h,b,_,A,P,C)},z=(f,h,g,y,b,_,A,P)=>{let C,v;const{props:F,shapeFlag:E,transition:T,dirs:N}=f;if(C=f.el=o(f.type,_,F&&F.is,F),E&8?c(C,f.children):E&16&&B(f.children,C,null,y,b,ki(f,_),A,P),N&&Ot(f,null,y,"created"),D(C,f,f.scopeId,A,y),F){for(const ie in F)ie!=="value"&&!Sn(ie)&&i(C,ie,null,F[ie],_,y);"value"in F&&i(C,"value",null,F.value,_),(v=F.onVnodeBeforeMount)&&Ze(v,y,f)}N&&Ot(f,null,y,"beforeMount");const V=_d(b,T);V&&T.beforeEnter(C),s(C,h,g),((v=F&&F.onVnodeMounted)||V||N)&&Re(()=>{v&&Ze(v,y,f),V&&T.enter(C),N&&Ot(f,null,y,"mounted")},b)},D=(f,h,g,y,b)=>{if(g&&m(f,g),y)for(let _=0;_<y.length;_++)m(f,y[_]);if(b){let _=b.subTree;if(h===_||el(_.type)&&(_.ssContent===h||_.ssFallback===h)){const A=b.vnode;D(f,A,A.scopeId,A.slotScopeIds,b.parent)}}},B=(f,h,g,y,b,_,A,P,C=0)=>{for(let v=C;v<f.length;v++){const F=f[v]=P?kt(f[v]):Qe(f[v]);w(null,F,h,g,y,b,_,A,P)}},j=(f,h,g,y,b,_,A)=>{const P=h.el=f.el;let{patchFlag:C,dynamicChildren:v,dirs:F}=h;C|=f.patchFlag&16;const E=f.props||oe,T=h.props||oe;let N;if(g&&jt(g,!1),(N=T.onVnodeBeforeUpdate)&&Ze(N,g,h,f),F&&Ot(h,f,g,"beforeUpdate"),g&&jt(g,!0),(E.innerHTML&&T.innerHTML==null||E.textContent&&T.textContent==null)&&c(P,""),v?ne(f.dynamicChildren,v,P,g,y,ki(h,b),_):A||re(f,h,P,null,g,y,ki(h,b),_,!1),C>0){if(C&16)J(P,E,T,g,b);else if(C&2&&E.class!==T.class&&i(P,"class",null,T.class,b),C&4&&i(P,"style",E.style,T.style,b),C&8){const V=h.dynamicProps;for(let ie=0;ie<V.length;ie++){const Y=V[ie],Fe=E[Y],Se=T[Y];(Se!==Fe||Y==="value")&&i(P,Y,Fe,Se,b,g)}}C&1&&f.children!==h.children&&c(P,h.children)}else!A&&v==null&&J(P,E,T,g,b);((N=T.onVnodeUpdated)||F)&&Re(()=>{N&&Ze(N,g,h,f),F&&Ot(h,f,g,"updated")},y)},ne=(f,h,g,y,b,_,A)=>{for(let P=0;P<h.length;P++){const C=f[P],v=h[P],F=C.el&&(C.type===Ue||!Fn(C,v)||C.shapeFlag&70)?d(C.el):g;w(C,v,F,null,y,b,_,A,!0)}},J=(f,h,g,y,b)=>{if(h!==g){if(h!==oe)for(const _ in h)!Sn(_)&&!(_ in g)&&i(f,_,h[_],null,b,y);for(const _ in g){if(Sn(_))continue;const A=g[_],P=h[_];A!==P&&_!=="value"&&i(f,_,P,A,b,y)}"value"in g&&i(f,"value",h.value,g.value,b)}},Pe=(f,h,g,y,b,_,A,P,C)=>{const v=h.el=f?f.el:a(""),F=h.anchor=f?f.anchor:a("");let{patchFlag:E,dynamicChildren:T,slotScopeIds:N}=h;N&&(P=P?P.concat(N):N),f==null?(s(v,g,y),s(F,g,y),B(h.children||[],g,F,b,_,A,P,C)):E>0&&E&64&&T&&f.dynamicChildren?(ne(f.dynamicChildren,T,g,b,_,A,P),(h.key!=null||b&&h===b.subTree)&&Ka(f,h,!0)):re(f,h,g,F,b,_,A,P,C)},Et=(f,h,g,y,b,_,A,P,C)=>{h.slotScopeIds=P,f==null?h.shapeFlag&512?b.ctx.activate(h,g,y,A,C):ss(h,g,y,b,_,A,C):Nr(f,h,C)},ss=(f,h,g,y,b,_,A)=>{const P=f.component=Bd(f,y,b);if(Pa(f)&&(P.ctx.renderer=is),zd(P,!1,A),P.asyncDep){if(b&&b.registerDep(P,ue,A),!f.el){const C=P.subTree=Ge(Lt);L(null,C,h,g)}}else ue(P,f,h,g,b,_,A)},Nr=(f,h,g)=>{const y=h.component=f.component;if(Ed(f,h,g))if(y.asyncDep&&!y.asyncResolved){W(y,h,g);return}else y.next=h,y.update();else h.el=f.el,y.vnode=h},ue=(f,h,g,y,b,_,A)=>{const P=()=>{if(f.isMounted){let{next:E,bu:T,u:N,parent:V,vnode:ie}=f;{const je=Ja(f);if(je){E&&(E.el=ie.el,W(f,E,A)),je.asyncDep.then(()=>{f.isUnmounted||P()});return}}let Y=E,Fe;jt(f,!1),E?(E.el=ie.el,W(f,E,A)):E=ie,T&&ai(T),(Fe=E.props&&E.props.onVnodeBeforeUpdate)&&Ze(Fe,V,E,ie),jt(f,!0);const Se=Si(f),Je=f.subTree;f.subTree=Se,w(Je,Se,d(Je.el),zr(Je),f,b,_),E.el=Se.el,Y===null&&Rd(f,Se.el),N&&Re(N,b),(Fe=E.props&&E.props.onVnodeUpdated)&&Re(()=>Ze(Fe,V,E,ie),b)}else{let E;const{el:T,props:N}=h,{bm:V,m:ie,parent:Y,root:Fe,type:Se}=f,Je=$n(h);if(jt(f,!1),V&&ai(V),!Je&&(E=N&&N.onVnodeBeforeMount)&&Ze(E,Y,h),jt(f,!0),T&&Cu){const je=()=>{f.subTree=Si(f),Cu(T,f.subTree,f,b,null)};Je?Se.__asyncHydrate(T,f,je):je()}else{Fe.ce&&Fe.ce._injectChildStyle(Se);const je=f.subTree=Si(f);w(null,je,g,y,f,b,_),h.el=je.el}if(ie&&Re(ie,b),!Je&&(E=N&&N.onVnodeMounted)){const je=h;Re(()=>Ze(E,Y,je),b)}(h.shapeFlag&256||Y&&$n(Y.vnode)&&Y.vnode.shapeFlag&256)&&f.a&&Re(f.a,b),f.isMounted=!0,h=g=y=null}};f.scope.on();const C=f.effect=new Lo(P);f.scope.off();const v=f.update=C.run.bind(C),F=f.job=C.runIfDirty.bind(C);F.i=f,F.id=f.uid,C.scheduler=()=>pi(F),jt(f,!0),v()},W=(f,h,g)=>{h.component=f;const y=f.vnode.props;f.vnode=h,f.next=null,dd(f,h.props,y,g),md(f,h.children,g),rt(),wa(f),it()},re=(f,h,g,y,b,_,A,P,C=!1)=>{const v=f&&f.children,F=f?f.shapeFlag:0,E=h.children,{patchFlag:T,shapeFlag:N}=h;if(T>0){if(T&128){Br(v,E,g,y,b,_,A,P,C);return}else if(T&256){qt(v,E,g,y,b,_,A,P,C);return}}N&8?(F&16&&rs(v,b,_),E!==v&&c(g,E)):F&16?N&16?Br(v,E,g,y,b,_,A,P,C):rs(v,b,_,!0):(F&8&&c(g,""),N&16&&B(E,g,y,b,_,A,P,C))},qt=(f,h,g,y,b,_,A,P,C)=>{f=f||Gt,h=h||Gt;const v=f.length,F=h.length,E=Math.min(v,F);let T;for(T=0;T<E;T++){const N=h[T]=C?kt(h[T]):Qe(h[T]);w(f[T],N,g,null,b,_,A,P,C)}v>F?rs(f,b,_,!0,!1,E):B(h,g,y,b,_,A,P,C,E)},Br=(f,h,g,y,b,_,A,P,C)=>{let v=0;const F=h.length;let E=f.length-1,T=F-1;for(;v<=E&&v<=T;){const N=f[v],V=h[v]=C?kt(h[v]):Qe(h[v]);if(Fn(N,V))w(N,V,g,null,b,_,A,P,C);else break;v++}for(;v<=E&&v<=T;){const N=f[E],V=h[T]=C?kt(h[T]):Qe(h[T]);if(Fn(N,V))w(N,V,g,null,b,_,A,P,C);else break;E--,T--}if(v>E){if(v<=T){const N=T+1,V=N<F?h[N].el:y;for(;v<=T;)w(null,h[v]=C?kt(h[v]):Qe(h[v]),g,V,b,_,A,P,C),v++}}else if(v>T)for(;v<=E;)tt(f[v],b,_,!0),v++;else{const N=v,V=v,ie=new Map;for(v=V;v<=T;v++){const Le=h[v]=C?kt(h[v]):Qe(h[v]);Le.key!=null&&ie.set(Le.key,v)}let Y,Fe=0;const Se=T-V+1;let Je=!1,je=0;const os=new Array(Se);for(v=0;v<Se;v++)os[v]=0;for(v=N;v<=E;v++){const Le=f[v];if(Fe>=Se){tt(Le,b,_,!0);continue}let nt;if(Le.key!=null)nt=ie.get(Le.key);else for(Y=V;Y<=T;Y++)if(os[Y-V]===0&&Fn(Le,h[Y])){nt=Y;break}nt===void 0?tt(Le,b,_,!0):(os[nt-V]=v+1,nt>=je?je=nt:Je=!0,w(Le,h[nt],g,null,b,_,A,P,C),Fe++)}const Pu=Je?yd(os):Gt;for(Y=Pu.length-1,v=Se-1;v>=0;v--){const Le=V+v,nt=h[Le],Au=Le+1<F?h[Le+1].el:y;os[v]===0?w(null,nt,g,Au,b,_,A,P,C):Je&&(Y<0||v!==Pu[Y]?Kt(nt,g,Au,2):Y--)}}},Kt=(f,h,g,y,b=null)=>{const{el:_,type:A,transition:P,children:C,shapeFlag:v}=f;if(v&6){Kt(f.component.subTree,h,g,y);return}if(v&128){f.suspense.move(h,g,y);return}if(v&64){A.move(f,h,g,is);return}if(A===Ue){s(_,h,g);for(let E=0;E<C.length;E++)Kt(C[E],h,g,y);s(f.anchor,h,g);return}if(A===Ci){$(f,h,g);return}if(y!==2&&v&1&&P)if(y===0)P.beforeEnter(_),s(_,h,g),Re(()=>P.enter(_),b);else{const{leave:E,delayLeave:T,afterLeave:N}=P,V=()=>s(_,h,g),ie=()=>{E(_,()=>{V(),N&&N()})};T?T(_,V,ie):ie()}else s(_,h,g)},tt=(f,h,g,y=!1,b=!1)=>{const{type:_,props:A,ref:P,children:C,dynamicChildren:v,shapeFlag:F,patchFlag:E,dirs:T,cacheIndex:N}=f;if(E===-2&&(b=!1),P!=null&&gi(P,null,g,f,!0),N!=null&&(h.renderCache[N]=void 0),F&256){h.ctx.deactivate(f);return}const V=F&1&&T,ie=!$n(f);let Y;if(ie&&(Y=A&&A.onVnodeBeforeUnmount)&&Ze(Y,h,f),F&6)Rm(f.component,g,y);else{if(F&128){f.suspense.unmount(g,y);return}V&&Ot(f,null,h,"beforeUnmount"),F&64?f.type.remove(f,h,g,is,y):v&&!v.hasOnce&&(_!==Ue||E>0&&E&64)?rs(v,h,g,!1,!0):(_===Ue&&E&384||!b&&F&16)&&rs(C,h,g),y&&xu(f)}(ie&&(Y=A&&A.onVnodeUnmounted)||V)&&Re(()=>{Y&&Ze(Y,h,f),V&&Ot(f,null,h,"unmounted")},g)},xu=f=>{const{type:h,el:g,anchor:y,transition:b}=f;if(h===Ue){Em(g,y);return}if(h===Ci){x(f);return}const _=()=>{r(g),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:A,delayLeave:P}=b,C=()=>A(g,_);P?P(f.el,_,C):C()}else _()},Em=(f,h)=>{let g;for(;f!==h;)g=p(f),r(f),f=g;r(h)},Rm=(f,h,g)=>{const{bum:y,scope:b,job:_,subTree:A,um:P,m:C,a:v}=f;Xa(C),Xa(v),y&&ai(y),b.stop(),_&&(_.flags|=8,tt(A,f,h,g)),P&&Re(P,h),Re(()=>{f.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},rs=(f,h,g,y=!1,b=!1,_=0)=>{for(let A=_;A<f.length;A++)tt(f[A],h,g,y,b)},zr=f=>{if(f.shapeFlag&6)return zr(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const h=p(f.anchor||f.el),g=h&&h[zf];return g?p(g):h};let Io=!1;const ku=(f,h,g)=>{f==null?h._vnode&&tt(h._vnode,null,null,!0):w(h._vnode||null,f,h,null,null,null,g),h._vnode=f,Io||(Io=!0,wa(),_a(),Io=!1)},is={p:w,um:tt,m:Kt,r:xu,mt:ss,mc:B,pc:re,pbc:ne,n:zr,o:t};let Su,Cu;return{render:ku,hydrate:Su,createApp:ld(ku,Su)}}function ki({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function jt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function _d(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ka(t,e,n=!1){const s=t.children,r=e.children;if(K(s)&&K(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=kt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Ka(o,a)),a.type===$s&&(a.el=o.el)}}function yd(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Ja(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ja(e)}function Xa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vd=Symbol.for("v-scx"),xd=()=>en(vd);function Es(t,e,n){return Ga(t,e,n)}function Ga(t,e,n=oe){const{immediate:s,deep:r,flush:i,once:o}=n,a=be({},n);let l;if(Is)if(i==="sync"){const p=xd();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!e||s)a.once=!0;else return{stop:ut,resume:ut,pause:ut};const u=we;a.call=(p,m,S)=>Xe(p,u,m,S);let c=!1;i==="post"?a.scheduler=p=>{Re(p,u&&u.suspense)}:i!=="sync"&&(c=!0,a.scheduler=(p,m)=>{m?p():pi(p)}),a.augmentJob=p=>{e&&(p.flags|=4),c&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const d=bf(t,e,a);return l&&l.push(d),d}function kd(t,e,n){const s=this.proxy,r=ve(t)?t.includes(".")?Qa(s,t):()=>s[t]:t.bind(s,s);let i;U(e)?i=e:(i=e.handler,n=e);const o=jn(this),a=Ga(r,i.bind(s),n);return o(),a}function Qa(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Sd=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Mt(e)}Modifiers`]||t[`${Cn(e)}Modifiers`];function Cd(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||oe;let r=n;const i=e.startsWith("update:"),o=i&&Sd(s,e.slice(7));o&&(o.trim&&(r=n.map(c=>ve(c)?c.trim():c)),o.number&&(r=n.map(Ef)));let a,l=s[a=oi(e)]||s[a=oi(Mt(e))];!l&&i&&(l=s[a=oi(Cn(e))]),l&&Xe(l,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Xe(u,t,6,r)}}function Za(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!U(t)){const l=u=>{const c=Za(u,e,!0);c&&(a=!0,be(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(de(t)&&s.set(t,null),null):(K(i)?i.forEach(l=>o[l]=null):be(o,i),de(t)&&s.set(t,o),o)}function Rs(t,e){return!t||!ri(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,Cn(e))||G(t,e))}function Fm(){}function Si(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:m,ctx:S,inheritAttrs:w}=t,k=Cs(t);let L,O;try{if(n.shapeFlag&4){const x=r||s,I=x;L=Qe(u.call(I,x,c,d,m,p,S)),O=a}else{const x=e;L=Qe(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),O=e.props?a:Pd(a)}}catch(x){In.length=0,ks(x,t,1),L=Ge(Lt)}let $=L;if(O&&w!==!1){const x=Object.keys(O),{shapeFlag:I}=$;x.length&&I&7&&(i&&x.some(oa)&&(O=Ad(O,i)),$=tn($,O,!1,!0))}return n.dirs&&($=tn($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),L=$,Cs(k),L}const Pd=t=>{let e;for(const n in t)(n==="class"||n==="style"||ri(n))&&((e||(e={}))[n]=t[n]);return e},Ad=(t,e)=>{const n={};for(const s in t)(!oa(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Ed(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Ya(s,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==s[p]&&!Rs(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ya(s,o,u):!0:!!o;return!1}function Ya(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Rs(n,i))return!0}return!1}function Rd({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const el=t=>t.__isSuspense;function $d(t,e){e&&e.pendingBranch?K(t)?e.effects.push(...t):e.effects.push(t):Nf(t)}const Ue=Symbol.for("v-fgt"),$s=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),Ci=Symbol.for("v-stc"),In=[];let $e=null;function xt(t=!1){In.push($e=t?null:[])}function Td(){In.pop(),$e=In[In.length-1]||null}let On=1;function tl(t){On+=t,t<0&&$e&&($e.hasOnce=!0)}function nl(t){return t.dynamicChildren=On>0?$e||Gt:null,Td(),On>0&&$e&&$e.push(t),t}function Dt(t,e,n,s,r,i){return nl(ke(t,e,n,s,r,i,!0))}function Md(t,e,n,s,r){return nl(Ge(t,e,n,s,r,!0))}function Id(t){return t?t.__v_isVNode===!0:!1}function Fn(t,e){return t.type===e.type&&t.key===e.key}const sl=({key:t})=>t??null,Ts=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ve(t)||le(t)||U(t)?{i:Ee,r:t,k:e,f:!!n}:t:null);function ke(t,e=null,n=null,s=0,r=null,i=t===Ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sl(e),ref:e&&Ts(e),scopeId:va,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ee};return a?(Pi(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ve(n)?8:16),On>0&&!o&&$e&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$e.push(l),l}const Ge=Od;function Od(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===ed)&&(t=Lt),Id(t)){const a=tn(t,e,!0);return n&&Pi(a,n),On>0&&!i&&$e&&(a.shapeFlag&6?$e[$e.indexOf(t)]=a:$e.push(a)),a.patchFlag=-2,a}if(Jd(t)&&(t=t.__vccOpts),e){e=Fd(e);let{class:a,style:l}=e;a&&!ve(a)&&(e.class=Pn(a)),de(l)&&(ti(l)&&!K(l)&&(l=be({},l)),e.style=li(l))}const o=ve(t)?1:el(t)?128:Uf(t)?64:de(t)?4:U(t)?2:0;return ke(t,e,n,s,r,o,i,!0)}function Fd(t){return t?ti(t)||Na(t)?be({},t):t:null}function tn(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Ld(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&sl(u),ref:e&&e.ref?n&&i?K(i)?i.concat(Ts(e)):[i,Ts(e)]:Ts(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&tn(t.ssContent),ssFallback:t.ssFallback&&tn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&ka(c,l.clone(c)),c}function jd(t=" ",e=0){return Ge($s,null,t,e)}function rl(t="",e=!1){return e?(xt(),Md(Lt,null,t)):Ge(Lt,null,t)}function Qe(t){return t==null||typeof t=="boolean"?Ge(Lt):K(t)?Ge(Ue,null,t.slice()):typeof t=="object"?kt(t):Ge($s,null,String(t))}function kt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:tn(t)}function Pi(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(K(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Pi(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Na(e)?e._ctx=Ee:r===3&&Ee&&(Ee.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:Ee},n=32):(e=String(e),s&64?(n=16,e=[jd(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ld(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Pn([e.class,s.class]));else if(r==="style")e.style=li([e.style,s.style]);else if(ri(r)){const i=e[r],o=s[r];o&&i!==o&&!(K(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ze(t,e,n,s=null){Xe(t,e,7,[n,s])}const Dd=ja();let Nd=0;function Bd(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Dd,i={uid:Nd++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Oo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:za(s,r),emitsOptions:Za(s,r),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Cd.bind(null,i),t.ce&&t.ce(i),i}let we=null,Ms,Ai;{const t=da(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Ms=e("__VUE_INSTANCE_SETTERS__",n=>we=n),Ai=e("__VUE_SSR_SETTERS__",n=>Is=n)}const jn=t=>{const e=we;return Ms(t),t.scope.on(),()=>{t.scope.off(),Ms(e)}},il=()=>{we&&we.scope.off(),Ms(null)};function ol(t){return t.vnode.shapeFlag&4}let Is=!1;function zd(t,e=!1,n=!1){e&&Ai(e);const{props:s,children:r}=t.vnode,i=ol(t);fd(t,s,i,e),gd(t,r,n);const o=i?Ud(t,e):void 0;return e&&Ai(!1),o}function Ud(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,td);const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Wd(t):null,i=jn(t);rt();const o=Qt(s,t,0,[t.props,r]);if(it(),i(),ca(o)){if($n(t)||Ca(t),o.then(il,il),e)return o.then(a=>{al(t,a,e)}).catch(a=>{ks(a,t,0)});t.asyncDep=o}else al(t,o,e)}else cl(t,e)}function al(t,e,n){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=ia(e)),cl(t,n)}let ll;function cl(t,e,n){const s=t.type;if(!t.render){if(!e&&ll&&!s.render){const r=s.template||_i(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,u=be(be({isCustomElement:i,delimiters:a},o),l);s.render=ll(r,u)}}t.render=s.render||ut}{const r=jn(t);rt();try{nd(t)}finally{it(),r()}}}const Hd={get(t,e){return ge(t,"get",""),t[e]}};function Wd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Hd),slots:t.slots,emit:t.emit,expose:e}}function Os(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ia(ni(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Tn)return Tn[n](t)},has(e,n){return n in e||n in Tn}})):t.proxy}const Vd=/(?:^|[-_])(\w)/g,qd=t=>t.replace(Vd,e=>e.toUpperCase()).replace(/[-_]/g,"");function Kd(t,e=!0){return U(t)?t.displayName||t.name:t.name||e&&t.__name}function ul(t,e,n=!1){let s=Kd(e);if(!s&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(s=r[1])}if(!s&&t&&t.parent){const r=i=>{for(const o in i)if(i[o]===e)return o};s=r(t.components||t.parent.type.components)||r(t.appContext.components)}return s?qd(s):n?"App":"Anonymous"}function Jd(t){return U(t)&&"__vccOpts"in t}const fl=(t,e)=>gf(t,e,Is),Xd="3.5.0-beta.3";/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gd(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const Qd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Zd=t=>t.startsWith("onUpdate:"),Fs=Object.assign,Yd=Object.prototype.hasOwnProperty,eh=(t,e)=>Yd.call(t,e),St=Array.isArray,dl=t=>Ri(t)==="[object Set]",hl=t=>Ri(t)==="[object Date]",pl=t=>typeof t=="function",nn=t=>typeof t=="string",Ei=t=>typeof t=="symbol",gl=t=>t!==null&&typeof t=="object",th=Object.prototype.toString,Ri=t=>th.call(t),ml=t=>Ri(t)==="[object Object]",$i=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},nh=/-(\w)/g,Ti=$i(t=>t.replace(nh,(e,n)=>n?n.toUpperCase():"")),sh=/\B([A-Z])/g,Ct=$i(t=>t.replace(sh,"-$1").toLowerCase()),rh=$i(t=>t.charAt(0).toUpperCase()+t.slice(1)),ih=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Mi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},bl=t=>{const e=nn(t)?Number(t):NaN;return isNaN(e)?t:e},oh=Gd("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function wl(t){return!!t||t===""}function ah(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=js(t[s],e[s]);return n}function js(t,e){if(t===e)return!0;let n=hl(t),s=hl(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Ei(t),s=Ei(e),n||s)return t===e;if(n=St(t),s=St(e),n||s)return n&&s?ah(t,e):!1;if(n=gl(t),s=gl(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!js(t[o],e[o]))return!1}}return String(t)===String(e)}function lh(t,e){return t.findIndex(n=>js(n,e))}/**
* @vue/runtime-dom v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ii;const _l=typeof window<"u"&&window.trustedTypes;if(_l)try{Ii=_l.createPolicy("vue",{createHTML:t=>t})}catch{}const ch=Ii?t=>Ii.createHTML(t):t=>t,uh="http://www.w3.org/2000/svg",fh="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,yl=dt&&dt.createElement("template"),dh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?dt.createElementNS(uh,t):e==="mathml"?dt.createElementNS(fh,t):n?dt.createElement(t,{is:n}):dt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{yl.innerHTML=ch(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=yl.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},hh=Symbol("_vtc");function ph(t,e,n){const s=t[hh];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const vl=Symbol("_vod"),gh=Symbol("_vsh"),mh=Symbol(""),bh=/(^|;)\s*display\s*:/;function wh(t,e,n){const s=t.style,r=nn(n);let i=!1;if(n&&!r){if(e)if(nn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Ls(s,a,"")}else for(const o in e)n[o]==null&&Ls(s,o,"");for(const o in n)o==="display"&&(i=!0),Ls(s,o,n[o])}else if(r){if(e!==n){const o=s[mh];o&&(n+=";"+o),s.cssText=n,i=bh.test(n)}}else e&&t.removeAttribute("style");vl in t&&(t[vl]=i?s.display:"",t[gh]&&(s.display="none"))}const xl=/\s*!important$/;function Ls(t,e,n){if(St(n))n.forEach(s=>Ls(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=_h(t,e);xl.test(n)?t.setProperty(Ct(s),n.replace(xl,""),"important"):t[s]=n}}const kl=["Webkit","Moz","ms"],Oi={};function _h(t,e){const n=Oi[e];if(n)return n;let s=Mt(e);if(s!=="filter"&&s in t)return Oi[e]=s;s=rh(s);for(let r=0;r<kl.length;r++){const i=kl[r]+s;if(i in t)return Oi[e]=i}return e}const Sl="http://www.w3.org/1999/xlink";function Cl(t,e,n,s,r,i=oh(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Sl,e.slice(6,e.length)):t.setAttributeNS(Sl,e,n):n==null||i&&!wl(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ei(n)?String(n):n)}function yh(t,e,n,s){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=wl(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function Nt(t,e,n,s){t.addEventListener(e,n,s)}function vh(t,e,n,s){t.removeEventListener(e,n,s)}const Pl=Symbol("_vei");function xh(t,e,n,s,r=null){const i=t[Pl]||(t[Pl]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=kh(e);if(s){const u=i[e]=Ph(s,r);Nt(t,a,u,l)}else o&&(vh(t,a,o,l),i[e]=void 0)}}const Al=/(?:Once|Passive|Capture)$/;function kh(t){let e;if(Al.test(t)){e={};let s;for(;s=t.match(Al);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ct(t.slice(2)),e]}let Fi=0;const Sh=Promise.resolve(),Ch=()=>Fi||(Sh.then(()=>Fi=0),Fi=Date.now());function Ph(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Xe(Ah(s,n.value),e,5,[s])};return n.value=t,n.attached=Ch(),n}function Ah(t,e){if(St(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const El=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Eh=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?ph(t,s,o):e==="style"?wh(t,n,s):Qd(e)?Zd(e)||xh(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Rh(t,e,s,o))?(yh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Cl(t,e,s,o,i,e!=="value")):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Cl(t,e,s,o))};function Rh(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&El(e)&&pl(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return El(e)&&nn(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!nn(n)))}const Rl={};/*! #__NO_SIDE_EFFECTS__ */function $h(t,e,n){const s=Sa(t,e);ml(s)&&Fs(s,e);class r extends ji{constructor(o){super(s,o,n)}}return r.def=s,r}const Th=typeof HTMLElement<"u"?HTMLElement:class{};class ji extends Th{constructor(e,n={},s=Ol){super(),this._def=e,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Ol?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof ji){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Ss(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance.ce=void 0,this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=s;let a;if(i&&!St(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=bl(this._props[l])),(a||(a=Object.create(null)))[Ti(l)]=!0)}this._numberProps=a,r&&this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>e(this._def=s,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)eh(this,s)||Object.defineProperty(this,s,{get:()=>lt(n[s])})}_resolveProps(e){const{props:n}=e,s=St(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map(Ti))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let s=n?this.getAttribute(e):Rl;const r=Ti(e);n&&this._numberProps&&this._numberProps[r]&&(s=bl(s)),this._setProp(r,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,r=!1){n!==this._props[e]&&(n===Rl?delete this._props[e]:this._props[e]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ct(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ct(e),n+""):n||this.removeAttribute(Ct(e))))}_update(){Dh(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Ge(this._def,Fs(e,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,ml(o[0])?Fs({detail:o},o[0]):{detail:o}))};s.emit=(i,...o)=>{r(i,o),Ct(i)!==i&&r(Ct(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let r=e.length-1;r>=0;r--){const i=document.createElement("style");s&&i.setAttribute("nonce",s),i.textContent=e[r],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=this.querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const r=e[s],i=r.getAttribute("name")||"default",o=this._slots[i],a=r.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let d;for(;d=c.nextNode();)d.setAttribute(u,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}const Ds=t=>{const e=t.props["onUpdate:modelValue"]||!1;return St(e)?n=>ih(e,n):e};function Mh(t){t.target.composing=!0}function $l(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const sn=Symbol("_assign"),Ih={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[sn]=Ds(r);const i=s||r.props&&r.props.type==="number";Nt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Mi(a)),t[sn](a)}),n&&Nt(t,"change",()=>{t.value=t.value.trim()}),e||(Nt(t,"compositionstart",Mh),Nt(t,"compositionend",$l),Nt(t,"change",$l))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[sn]=Ds(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Mi(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Oh={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=dl(e);Nt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Mi(Ns(o)):Ns(o));t[sn](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Ss(()=>{t._assigning=!1})}),t[sn]=Ds(s)},mounted(t,{value:e,modifiers:{number:n}}){Tl(t,e)},beforeUpdate(t,e,n){t[sn]=Ds(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Tl(t,e)}};function Tl(t,e,n){const s=t.multiple,r=St(e);if(!(s&&!r&&!dl(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=Ns(a);if(s)if(r){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=lh(e,l)>-1}else a.selected=e.has(l);else if(js(Ns(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ns(t){return"_value"in t?t._value:t.value}const Fh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=Ct(r.key);if(e.some(o=>o===i||Fh[o]===i))return t(r)})},Lh=Fs({patchProp:Eh},dh);let Ml;function Il(){return Ml||(Ml=bd(Lh))}const Dh=(...t)=>{Il().render(...t)},Ol=(...t)=>{const e=Il().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Bh(s);if(!r)return;const i=e._component;!pl(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Nh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Nh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Bh(t){return nn(t)?document.querySelector(t):t}const rn="4.56.0";let Fl=!1,Ln,jl,Ll,Li,Dl,Nl,Bl,zl,Ul;function zh(t,e={auto:!1}){if(Fl)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Ln)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Ln}'\``);Fl=e.auto,Ln=t.kind,jl=t.fetch,Ll=t.FormData,Li=t.File,Dl=t.ReadableStream,Nl=t.getMultipartRequestOptions,Bl=t.getDefaultAgent,zl=t.fileFromPath,Ul=t.isFsReadStream}class Uh{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Hh({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new Uh(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}Ln||zh(Hh(),{auto:!0});class Ye{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const o of Wh(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new he(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new he(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Ye(r,n)}static fromReadableStream(e,n){let s=!1;async function*r(){const o=new Bt,a=Hl(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Ye(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();e.push(o),n.push(o)}return i.shift()}});return[new Ye(()=>r(e),this.controller),new Ye(()=>r(n),this.controller)]}toReadableStream(){const e=this;let n;const s=new TextEncoder;return new Dl({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*Wh(t,e){if(!t.body)throw e.abort(),new H("Attempted to iterate over a response with no body");const n=new Kh,s=new Bt,r=Hl(t.body);for await(const i of Vh(r))for(const o of s.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of s.flush()){const o=n.decode(i);o&&(yield o)}}async function*Vh(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=qh(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function qh(t){for(let s=0;s<t.length-2;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}class Kh{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=Jh(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}class Bt{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const s=Bt.NEWLINE_CHARS.has(n[n.length-1]||"");let r=n.split(Bt.NEWLINE_REGEXP);return s&&r.pop(),r.length===1&&!s?(this.buffer.push(r[0]),[]):(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),s||(this.buffer=[r.pop()||""]),r)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new H(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new H(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new H("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Bt.NEWLINE_CHARS=new Set([`
`,"\r"]),Bt.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Jh(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function Hl(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Wl=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Vl=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Di(t),Di=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Xh=t=>Vl(t)||Wl(t)||Ul(t);async function ql(t,e,n){var r;if(t=await t,n??(n=Vl(t)?{lastModified:t.lastModified,type:t.type}:{}),Wl(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Li([i],e,n)}const s=await Gh(t);if(e||(e=Zh(t)??"unknown_file"),!n.type){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new Li(s,e,n)}async function Gh(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Di(t))e.push(await t.arrayBuffer());else if(Yh(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Qh(t)}`);return e}function Qh(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Zh(t){var e;return Ni(t.name)||Ni(t.filename)||((e=Ni(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Ni=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Yh=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Kl=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",on=async t=>{const e=await ep(t.body);return Nl(e,t)},ep=async t=>{const e=new Ll;return await Promise.all(Object.entries(t||{}).map(([n,s])=>Bi(e,n,s))),e},Bi=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Xh(n)){const s=await ql(n);t.append(e,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>Bi(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>Bi(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var an={},tp=function(t,e,n,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},np=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Bs;async function Jl(t){const{response:e}=t;if(t.options.stream)return ln("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ye.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return ln("response",e.status,e.url,e.headers,i),i}const r=await e.text();return ln("response",e.status,e.url,e.headers,r),r}class zs extends Promise{constructor(e,n=Jl){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new zs(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class sp{constructor({baseURL:e,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=zi("maxRetries",n),this.timeout=zi("timeout",s),this.httpAgent=r,this.fetch=i??jl}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...cp(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${hp()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&Di(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:e,path:n,...r,body:i}}))}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){var S;const{method:n,path:s,query:r,headers:i={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Kl(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(o),l=this.buildURL(s,r);"timeout"in e&&zi("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??Bl(l),d=u+1e3;typeof((S=c==null?void 0:c.options)==null?void 0:S.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:i,contentLength:a});return{req:{method:n,...o&&{body:o},headers:p,...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:s}){const r={};s&&(r["content-length"]=s);const i=this.defaultHeaders(e);return tc(r,i),tc(r,n),Kl(e.body)&&Ln!=="node"&&delete r["content-type"],this.validateHeaders(r,n),r}async prepareOptions(e){}async prepareRequest(e,{url:n,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,s,r){return he.generate(e,n,s,r)}request(e,n=null){return new zs(this.makeRequest(e,n))}async makeRequest(e,n){var c,d;const s=await e;n==null&&(n=s.maxRetries??this.maxRetries),await this.prepareOptions(s);const{req:r,url:i,timeout:o}=this.buildRequest(s);if(await this.prepareRequest(r,{url:i,options:s}),ln("request",i,s,r.headers),(c=s.signal)!=null&&c.aborted)throw new He;const a=new AbortController,l=await this.fetchWithTimeout(i,r,o,a).catch(Ui);if(l instanceof Error){if((d=s.signal)!=null&&d.aborted)throw new He;if(n)return this.retryRequest(s,n);throw l.name==="AbortError"?new Hi:new Hs({cause:l})}const u=ip(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const L=`retrying, ${n} attempts remaining`;return ln(`response (error; ${L})`,l.status,i,u),this.retryRequest(s,n,u)}const p=await l.text().catch(L=>Ui(L).message),m=up(p),S=m?void 0:p;throw ln(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,i,u,S),this.makeStatusError(l.status,m,S,u)}return{response:l,options:s,controller:a}}requestAPIList(e,n){const s=this.makeRequest(n,null);return new rp(this,s,e)}buildURL(e,n){const s=dp(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return Yl(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new H(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(r=a)}const o=s==null?void 0:s["retry-after"];if(o&&!r){const a=parseFloat(o);Number.isNaN(a)?r=Date.parse(o)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Dn(r),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${rn}`}}class Xl{constructor(e,n,s,r){Bs.set(this,void 0),tp(this,Bs,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new H("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const s=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[r,i]of s)e.url.searchParams.set(r,i);n.query=void 0,n.path=e.url.toString()}return await np(this,Bs,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Bs=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class rp extends zs{constructor(e,n,s){super(n,async r=>new s(e,r.response,await Jl(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const ip=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const s=n.toString();return e[s.toLowerCase()]||e[s]}}),op={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Te=t=>typeof t=="object"&&t!==null&&!Yl(t)&&Object.keys(t).every(e=>ec(op,e)),ap=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":Ql(Deno.build.os),"X-Stainless-Arch":Gl(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":Ql(process.platform),"X-Stainless-Arch":Gl(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=lp();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lp(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:e,version:`${r}.${i}.${o}`}}}return null}const Gl=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Ql=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Zl;const cp=()=>Zl??(Zl=ap()),up=t=>{try{return JSON.parse(t)}catch{return}},fp=new RegExp("^(?:[a-z]+:)?//","i"),dp=t=>fp.test(t),Dn=t=>new Promise(e=>setTimeout(e,t)),zi=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new H(`${t} must be an integer`);if(e<0)throw new H(`${t} must be a positive integer`);return e},Ui=t=>t instanceof Error?t:new Error(t),Us=t=>{var e,n,s,r;if(typeof process<"u")return((e=an==null?void 0:an[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,t))==null?void 0:r.trim()};function Yl(t){if(!t)return!0;for(const e in t)return!1;return!0}function ec(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tc(t,e){for(const n in e){if(!ec(e,n))continue;const s=n.toLowerCase();if(!s)continue;const r=e[n];r===null?delete t[s]:r!==void 0&&(t[s]=r)}}function ln(t,...e){typeof process<"u"&&(an==null?void 0:an.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const hp=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),pp=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function nc(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class H extends Error{}class he extends H{constructor(e,n,s,r){super(`${he.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e)return new Hs({cause:Ui(n)});const i=n==null?void 0:n.error;return e===400?new sc(e,i,s,r):e===401?new rc(e,i,s,r):e===403?new ic(e,i,s,r):e===404?new oc(e,i,s,r):e===409?new ac(e,i,s,r):e===422?new lc(e,i,s,r):e===429?new cc(e,i,s,r):e>=500?new uc(e,i,s,r):new he(e,i,s,r)}}class He extends he{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Hs extends he{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class Hi extends Hs{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sc extends he{constructor(){super(...arguments),this.status=400}}class rc extends he{constructor(){super(...arguments),this.status=401}}class ic extends he{constructor(){super(...arguments),this.status=403}}class oc extends he{constructor(){super(...arguments),this.status=404}}class ac extends he{constructor(){super(...arguments),this.status=409}}class lc extends he{constructor(){super(...arguments),this.status=422}}class cc extends he{constructor(){super(...arguments),this.status=429}}class uc extends he{}class fc extends H{constructor(){super("Could not parse response content as the length limit was reached")}}class dc extends H{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Wi extends Xl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class We extends Xl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const n=(s=e[e.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class Q{constructor(e){this._client=e}}let Ws=class extends Q{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};Ws||(Ws={});let Vs=class extends Q{constructor(){super(...arguments),this.completions=new Ws(this._client)}};(function(t){t.Completions=Ws})(Vs||(Vs={}));class qs extends Q{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}qs||(qs={});class Ks extends Q{create(e,n){return this._client.post("/audio/transcriptions",on({body:e,...n}))}}Ks||(Ks={});class Js extends Q{create(e,n){return this._client.post("/audio/translations",on({body:e,...n}))}}Js||(Js={});class Xs extends Q{constructor(){super(...arguments),this.transcriptions=new Ks(this._client),this.translations=new Js(this._client),this.speech=new qs(this._client)}}(function(t){t.Transcriptions=Ks,t.Translations=Js,t.Speech=qs})(Xs||(Xs={}));class Gs extends Q{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/batches",Vi,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Vi extends We{}(function(t){t.BatchesPage=Vi})(Gs||(Gs={}));class Qs extends Q{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/assistants/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/assistants",qi,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class qi extends We{}(function(t){t.AssistantsPage=qi})(Qs||(Qs={}));function hc(t){return typeof t.parse=="function"}const cn=t=>(t==null?void 0:t.role)==="assistant",pc=t=>(t==null?void 0:t.role)==="function",gc=t=>(t==null?void 0:t.role)==="tool";var Ve=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ae=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Ki,Zs,Ys,Nn,Bn,er,zn,ht,Un,tr,nr,un,mc;class bc{constructor(){Ki.add(this),this.controller=new AbortController,Zs.set(this,void 0),Ys.set(this,()=>{}),Nn.set(this,()=>{}),Bn.set(this,void 0),er.set(this,()=>{}),zn.set(this,()=>{}),ht.set(this,{}),Un.set(this,!1),tr.set(this,!1),nr.set(this,!1),un.set(this,!1),Ve(this,Zs,new Promise((e,n)=>{Ve(this,Ys,e,"f"),Ve(this,Nn,n,"f")}),"f"),Ve(this,Bn,new Promise((e,n)=>{Ve(this,er,e,"f"),Ve(this,zn,n,"f")}),"f"),ae(this,Zs,"f").catch(()=>{}),ae(this,Bn,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ae(this,Ki,"m",mc).bind(this))},0)}_connected(){this.ended||(ae(this,Ys,"f").call(this),this._emit("connect"))}get ended(){return ae(this,Un,"f")}get errored(){return ae(this,tr,"f")}get aborted(){return ae(this,nr,"f")}abort(){this.controller.abort()}on(e,n){return(ae(this,ht,"f")[e]||(ae(this,ht,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=ae(this,ht,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(ae(this,ht,"f")[e]||(ae(this,ht,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{Ve(this,un,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){Ve(this,un,!0,"f"),await ae(this,Bn,"f")}_emit(e,...n){if(ae(this,Un,"f"))return;e==="end"&&(Ve(this,Un,!0,"f"),ae(this,er,"f").call(this));const s=ae(this,ht,"f")[e];if(s&&(ae(this,ht,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!ae(this,un,"f")&&!(s!=null&&s.length)&&Promise.reject(r),ae(this,Nn,"f").call(this,r),ae(this,zn,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!ae(this,un,"f")&&!(s!=null&&s.length)&&Promise.reject(r),ae(this,Nn,"f").call(this,r),ae(this,zn,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Zs=new WeakMap,Ys=new WeakMap,Nn=new WeakMap,Bn=new WeakMap,er=new WeakMap,zn=new WeakMap,ht=new WeakMap,Un=new WeakMap,tr=new WeakMap,nr=new WeakMap,un=new WeakMap,Ki=new WeakSet,mc=function(e){if(Ve(this,tr,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new He),e instanceof He)return Ve(this,nr,!0,"f"),this._emit("abort",e);if(e instanceof H)return this._emit("error",e);if(e instanceof Error){const n=new H(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new H(String(e)))};function wc(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Hn(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function gp(t,e){return!e||!_c(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:Ji(t,e)}function Ji(t,e){const n=t.choices.map(s=>{var r;if(s.finish_reason==="length")throw new fc;if(s.finish_reason==="content_filter")throw new dc;return{...s,message:{...s.message,tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>bp(e,i)))??[],parsed:s.message.content&&!s.message.refusal?mp(e,s.message.content):null}}});return{...t,choices:n}}function mp(t,e){var n,s;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=t.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function bp(t,e){var s;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Hn(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function wp(t,e){var s;if(!t)return!1;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return Hn(n)||(n==null?void 0:n.function.strict)||!1}function _c(t){var e;return wc(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Hn(n)||n.type==="function"&&n.function.strict===!0))??!1}function _p(t){for(const e of t??[]){if(e.type!=="function")throw new H(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new H(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ce=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},_e,Xi,sr,Gi,Qi,Zi,yc,Yi;const vc=10;class xc extends bc{constructor(){super(...arguments),_e.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(s=e.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(pc(e)||gc(e))&&e.content)this._emit("functionCallResult",e.content);else if(cn(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(cn(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new H("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ce(this,_e,"m",Xi).call(this)}async finalMessage(){return await this.done(),Ce(this,_e,"m",sr).call(this)}async finalFunctionCall(){return await this.done(),Ce(this,_e,"m",Gi).call(this)}async finalFunctionCallResult(){return await this.done(),Ce(this,_e,"m",Qi).call(this)}async totalUsage(){return await this.done(),Ce(this,_e,"m",Zi).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ce(this,_e,"m",sr).call(this);n&&this._emit("finalMessage",n);const s=Ce(this,_e,"m",Xi).call(this);s&&this._emit("finalContent",s);const r=Ce(this,_e,"m",Gi).call(this);r&&this._emit("finalFunctionCall",r);const i=Ce(this,_e,"m",Qi).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ce(this,_e,"m",Zi).call(this))}async _createChatCompletion(e,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ce(this,_e,"m",yc).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ji(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runFunctions(e,n,s){var p;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=vc}=s||{},c={};for(const m of n.functions)c[m.name||m.function.name]=m;const d=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const w=(p=(await this._createChatCompletion(e,{...a,function_call:i,functions:d,messages:[...this.messages]},s)).choices[0])==null?void 0:p.message;if(!w)throw new H("missing message in ChatCompletion response");if(!w.function_call)return;const{name:k,arguments:L}=w.function_call,O=c[k];if(O){if(l&&l!==k){const z=`Invalid function_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:k,content:z});continue}}else{const z=`Invalid function_call: ${JSON.stringify(k)}. Available options are: ${d.map(D=>JSON.stringify(D.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:k,content:z});continue}let $;try{$=hc(O)?await O.parse(L):L}catch(z){this._addMessage({role:r,name:k,content:z instanceof Error?z.message:String(z)});continue}const x=await O.function($,this),I=Ce(this,_e,"m",Yi).call(this,x);if(this._addMessage({role:r,name:k,content:I}),l)return}}async _runTools(e,n,s){var m,S,w;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:u=vc}=s||{},c=n.tools.map(k=>{if(Hn(k)){if(!k.$callback)throw new H("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:k.$callback,name:k.function.name,description:k.function.description||"",parameters:k.function.parameters,parse:k.$parseRaw,strict:!0}}}return k}),d={};for(const k of c)k.type==="function"&&(d[k.function.name||k.function.function.name]=k.function);const p="tools"in n?c.map(k=>k.type==="function"?{type:"function",function:{name:k.function.name||k.function.function.name,parameters:k.function.parameters,description:k.function.description,strict:k.function.strict}}:k):void 0;for(const k of n.messages)this._addMessage(k,!1);for(let k=0;k<u;++k){const O=(S=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:p,messages:[...this.messages]},s)).choices[0])==null?void 0:S.message;if(!O)throw new H("missing message in ChatCompletion response");if(!((w=O.tool_calls)!=null&&w.length))return;for(const $ of O.tool_calls){if($.type!=="function")continue;const x=$.id,{name:I,arguments:z}=$.function,D=d[I];if(D){if(l&&l!==I){const J=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:x,content:J});continue}}else{const J=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(d).map(Pe=>JSON.stringify(Pe)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:x,content:J});continue}let B;try{B=hc(D)?await D.parse(z):z}catch(J){const Pe=J instanceof Error?J.message:String(J);this._addMessage({role:r,tool_call_id:x,content:Pe});continue}const j=await D.function(B,this),ne=Ce(this,_e,"m",Yi).call(this,j);if(this._addMessage({role:r,tool_call_id:x,content:ne}),l)return}}}}_e=new WeakSet,Xi=function(){return Ce(this,_e,"m",sr).call(this).content??null},sr=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(cn(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new H("stream ended without producing a ChatCompletionMessage with role=assistant")},Gi=function(){var e,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(cn(r)&&(r!=null&&r.function_call))return r.function_call;if(cn(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},Qi=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(pc(n)&&n.content!=null||gc(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Zi=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},yc=function(e){if(e.n!=null&&e.n>1)throw new H("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Yi=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Wn extends xc{static runFunctions(e,n,s){const r=new Wn,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new Wn,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e){super._addMessage(e),cn(e)&&e.content&&this._emit("content",e.content)}}const yp=t=>{let e=0,n=[];for(;e<t.length;){let s=t[e];if(s==="\\"){e++;continue}if(s==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(s==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(s==="["){n.push({type:"paren",value:"["}),e++;continue}if(s==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(s===":"){n.push({type:"separator",value:":"}),e++;continue}if(s===","){n.push({type:"delimiter",value:","}),e++;continue}if(s==='"'){let a="",l=!1;for(s=t[++e];s!=='"';){if(e===t.length){l=!0;break}if(s==="\\"){if(e++,e===t.length){l=!0;break}a+=s+t[e],s=t[++e]}else a+=s,s=t[++e]}s=t[++e],l||n.push({type:"string",value:a});continue}if(s&&/\s/.test(s)){e++;continue}let i=/[0-9]/;if(s&&i.test(s)||s==="-"||s==="."){let a="";for(s==="-"&&(a+=s,s=t[++e]);s&&i.test(s)||s===".";)a+=s,s=t[++e];n.push({type:"number",value:a});continue}let o=/[a-z]/i;if(s&&o.test(s)){let a="";for(;s&&o.test(s)&&e!==t.length;)a+=s,s=t[++e];if(a=="true"||a=="false"||a==="null")n.push({type:"name",value:a});else{e++;continue}continue}e++}return n},fn=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),fn(t);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),fn(t);case"string":let s=t[t.length-2];if((s==null?void 0:s.type)==="delimiter")return t=t.slice(0,t.length-1),fn(t);if((s==null?void 0:s.type)==="brace"&&s.value==="{")return t=t.slice(0,t.length-1),fn(t);break;case"delimiter":return t=t.slice(0,t.length-1),fn(t)}return t},vp=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},xp=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},kc=t=>JSON.parse(xp(vp(fn(yp(t)))));var dn=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ee=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},fe,pt,hn,Pt,eo,rr,to,no,so,ir,ro,Sc;class Vn extends xc{constructor(e){super(),fe.add(this),pt.set(this,void 0),hn.set(this,void 0),Pt.set(this,void 0),dn(this,pt,e,"f"),dn(this,hn,[],"f")}get currentChatCompletionSnapshot(){return ee(this,Pt,"f")}static fromReadableStream(e){const n=new Vn(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new Vn(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){var o;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ee(this,fe,"m",eo).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)ee(this,fe,"m",to).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new He;return this._addChatCompletion(ee(this,fe,"m",ir).call(this))}async _fromReadableStream(e,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ee(this,fe,"m",eo).call(this),this._connected();const r=Ye.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(ee(this,fe,"m",ir).call(this)),ee(this,fe,"m",to).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new He;return this._addChatCompletion(ee(this,fe,"m",ir).call(this))}[(pt=new WeakMap,hn=new WeakMap,Pt=new WeakMap,fe=new WeakSet,eo=function(){this.ended||dn(this,Pt,void 0,"f")},rr=function(n){let s=ee(this,hn,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ee(this,hn,"f")[n.index]=s,s)},to=function(n){var r,i,o,a,l,u,c,d,p,m,S,w,k,L,O;if(this.ended)return;const s=ee(this,fe,"m",Sc).call(this,n);this._emit("chunk",n,s);for(const $ of n.choices){const x=s.choices[$.index];$.delta.content!=null&&((r=x.message)==null?void 0:r.role)==="assistant"&&((i=x.message)!=null&&i.content)&&(this._emit("content",$.delta.content,x.message.content),this._emit("content.delta",{delta:$.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),$.delta.refusal!=null&&((o=x.message)==null?void 0:o.role)==="assistant"&&((a=x.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:$.delta.refusal,snapshot:x.message.refusal}),((l=$.logprobs)==null?void 0:l.content)!=null&&((u=x.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=$.logprobs)==null?void 0:c.content,snapshot:((d=x.logprobs)==null?void 0:d.content)??[]}),((p=$.logprobs)==null?void 0:p.refusal)!=null&&((m=x.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(S=$.logprobs)==null?void 0:S.refusal,snapshot:((w=x.logprobs)==null?void 0:w.refusal)??[]});const I=ee(this,fe,"m",rr).call(this,x);x.finish_reason&&(ee(this,fe,"m",so).call(this,x),I.current_tool_call_index!=null&&ee(this,fe,"m",no).call(this,x,I.current_tool_call_index));for(const z of $.delta.tool_calls??[])I.current_tool_call_index!==z.index&&(ee(this,fe,"m",so).call(this,x),I.current_tool_call_index!=null&&ee(this,fe,"m",no).call(this,x,I.current_tool_call_index)),I.current_tool_call_index=z.index;for(const z of $.delta.tool_calls??[]){const D=(k=x.message.tool_calls)==null?void 0:k[z.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(L=D.function)==null?void 0:L.name,index:z.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:((O=z.function)==null?void 0:O.arguments)??""}):(D==null||D.type,void 0))}}},no=function(n,s){var o,a,l;if(ee(this,fe,"m",rr).call(this,n).done_tool_calls.has(s))return;const i=(o=n.message.tool_calls)==null?void 0:o[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(a=ee(this,pt,"f"))==null?void 0:a.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:Hn(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},so=function(n){var r,i;const s=ee(this,fe,"m",rr).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=ee(this,fe,"m",ro).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ir=function(){if(this.ended)throw new H("stream has ended, this shouldn't happen");const n=ee(this,Pt,"f");if(!n)throw new H("request ended without sending any chunks");return dn(this,Pt,void 0,"f"),dn(this,hn,[],"f"),kp(n,ee(this,pt,"f"))},ro=function(){var s;const n=(s=ee(this,pt,"f"))==null?void 0:s.response_format;return wc(n)?n:null},Sc=function(n){var s,r,i,o;let a=ee(this,Pt,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=dn(this,Pt,{...u,choices:[]},"f");for(const{delta:c,finish_reason:d,index:p,logprobs:m=null,...S}of n.choices){let w=a.choices[p];if(w||(w=a.choices[p]={finish_reason:d,index:p,message:{},logprobs:m,...S}),m)if(!w.logprobs)w.logprobs=Object.assign({},m);else{const{content:z,refusal:D,...B}=m;Object.assign(w.logprobs,B),z&&((s=w.logprobs).content??(s.content=[]),w.logprobs.content.push(...z)),D&&((r=w.logprobs).refusal??(r.refusal=[]),w.logprobs.refusal.push(...D))}if(d&&(w.finish_reason=d,ee(this,pt,"f")&&_c(ee(this,pt,"f")))){if(d==="length")throw new fc;if(d==="content_filter")throw new dc}if(Object.assign(w,S),!c)continue;const{content:k,refusal:L,function_call:O,role:$,tool_calls:x,...I}=c;if(Object.assign(w.message,I),L&&(w.message.refusal=(w.message.refusal||"")+L),$&&(w.message.role=$),O&&(w.message.function_call?(O.name&&(w.message.function_call.name=O.name),O.arguments&&((i=w.message.function_call).arguments??(i.arguments=""),w.message.function_call.arguments+=O.arguments)):w.message.function_call=O),k&&(w.message.content=(w.message.content||"")+k,!w.message.refusal&&ee(this,fe,"m",ro).call(this)&&(w.message.parsed=kc(w.message.content))),x){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:z,id:D,type:B,function:j,...ne}of x){const J=(o=w.message.tool_calls)[z]??(o[z]={});Object.assign(J,ne),D&&(J.id=D),B&&(J.type=B),j&&(J.function??(J.function={name:j.name??"",arguments:""})),j!=null&&j.name&&(J.function.name=j.name),j!=null&&j.arguments&&(J.function.arguments+=j.arguments,wp(ee(this,pt,"f"),J)&&(J.function.parsed_arguments=kc(J.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ye(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function kp(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:s.map(({message:u,finish_reason:c,index:d,logprobs:p,...m})=>{if(!c)throw new H(`missing finish_reason for choice ${d}`);const{content:S=null,function_call:w,tool_calls:k,...L}=u,O=u.role;if(!O)throw new H(`missing role for choice ${d}`);if(w){const{arguments:$,name:x}=w;if($==null)throw new H(`missing function_call.arguments for choice ${d}`);if(!x)throw new H(`missing function_call.name for choice ${d}`);return{...m,message:{content:S,function_call:{arguments:$,name:x},role:O,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:p}}return k?{...m,index:d,finish_reason:c,logprobs:p,message:{...L,role:O,content:S,refusal:u.refusal??null,tool_calls:k.map(($,x)=>{const{function:I,type:z,id:D,...B}=$,{arguments:j,name:ne,...J}=I||{};if(D==null)throw new H(`missing choices[${d}].tool_calls[${x}].id
${or(t)}`);if(z==null)throw new H(`missing choices[${d}].tool_calls[${x}].type
${or(t)}`);if(ne==null)throw new H(`missing choices[${d}].tool_calls[${x}].function.name
${or(t)}`);if(j==null)throw new H(`missing choices[${d}].tool_calls[${x}].function.arguments
${or(t)}`);return{...B,id:D,type:z,function:{...J,name:ne,arguments:j}}})}}:{...m,message:{...L,content:S,role:O,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:p}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return gp(l,e)}function or(t){return JSON.stringify(t)}function Lm(t){}class pn extends Vn{static fromReadableStream(e){const n=new pn(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,s){const r=new pn(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new pn(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let Cc=class extends Q{async parse(e,n){_p(e.tools);const s=await this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}});return Ji(s,e)}runFunctions(e,n){return e.stream?pn.runFunctions(this._client,e,n):Wn.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?pn.runTools(this._client,e,n):Wn.runTools(this._client,e,n)}stream(e,n){return Vn.createChatCompletion(this._client,e,n)}};class ar extends Q{constructor(){super(...arguments),this.completions=new Cc(this._client)}}(function(t){t.Completions=Cc})(ar||(ar={}));var R=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Me=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},pe,io,et,lr,qe,zt,gn,Ut,cr,Ie,ur,fr,qn,Kn,Jn,Pc,Ac,Ec,Rc,$c,Tc,Mc;class Ke extends bc{constructor(){super(...arguments),pe.add(this),io.set(this,[]),et.set(this,{}),lr.set(this,{}),qe.set(this,void 0),zt.set(this,void 0),gn.set(this,void 0),Ut.set(this,void 0),cr.set(this,void 0),Ie.set(this,void 0),ur.set(this,void 0),fr.set(this,void 0),qn.set(this,void 0)}[(io=new WeakMap,et=new WeakMap,lr=new WeakMap,qe=new WeakMap,zt=new WeakMap,gn=new WeakMap,Ut=new WeakMap,cr=new WeakMap,Ie=new WeakMap,ur=new WeakMap,fr=new WeakMap,qn=new WeakMap,pe=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Ke;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Ye.fromReadableStream(e,this.controller);for await(const o of r)R(this,pe,"m",Kn).call(this,o);if((i=r.controller.signal)!=null&&i.aborted)throw new He;return this._addRun(R(this,pe,"m",Jn).call(this))}toReadableStream(){return new Ye(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r,i){const o=new Ke;return o._run(()=>o._runToolAssistantStream(e,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,s,r,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await e.submitToolOutputs(n,s,a,{...i,signal:this.controller.signal});this._connected();for await(const c of l)R(this,pe,"m",Kn).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new He;return this._addRun(R(this,pe,"m",Jn).call(this))}static createThreadAssistantStream(e,n,s){const r=new Ke;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new Ke;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return R(this,ur,"f")}currentRun(){return R(this,fr,"f")}currentMessageSnapshot(){return R(this,qe,"f")}currentRunStepSnapshot(){return R(this,qn,"f")}async finalRunSteps(){return await this.done(),Object.values(R(this,et,"f"))}async finalMessages(){return await this.done(),Object.values(R(this,lr,"f"))}async finalRun(){if(await this.done(),!R(this,zt,"f"))throw Error("Final run was not received.");return R(this,zt,"f")}async _createThreadAssistantStream(e,n,s){var a;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)R(this,pe,"m",Kn).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new He;return this._addRun(R(this,pe,"m",Jn).call(this))}async _createAssistantStream(e,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},a=await e.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const u of a)R(this,pe,"m",Kn).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new He;return this._addRun(R(this,pe,"m",Jn).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(nc(i)&&nc(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r,i){return await this._createToolAssistantStream(s,e,n,r,i)}}Kn=function(e){if(!this.ended)switch(Me(this,ur,e,"f"),R(this,pe,"m",Ec).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":R(this,pe,"m",Mc).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,pe,"m",Ac).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":R(this,pe,"m",Pc).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Jn=function(){if(this.ended)throw new H("stream has ended, this shouldn't happen");if(!R(this,zt,"f"))throw Error("Final run has not been received");return R(this,zt,"f")},Pc=function(e){const[n,s]=R(this,pe,"m",$c).call(this,e,R(this,qe,"f"));Me(this,qe,n,"f"),R(this,lr,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=R(this,gn,"f")){if(R(this,Ut,"f"))switch(R(this,Ut,"f").type){case"text":this._emit("textDone",R(this,Ut,"f").text,R(this,qe,"f"));break;case"image_file":this._emit("imageFileDone",R(this,Ut,"f").image_file,R(this,qe,"f"));break}Me(this,gn,r.index,"f")}Me(this,Ut,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(R(this,gn,"f")!==void 0){const r=e.data.content[R(this,gn,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,R(this,qe,"f"));break;case"text":this._emit("textDone",r.text,R(this,qe,"f"));break}}R(this,qe,"f")&&this._emit("messageDone",e.data),Me(this,qe,void 0,"f")}},Ac=function(e){const n=R(this,pe,"m",Rc).call(this,e);switch(Me(this,qn,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==R(this,cr,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(R(this,Ie,"f")&&this._emit("toolCallDone",R(this,Ie,"f")),Me(this,cr,i.index,"f"),Me(this,Ie,n.step_details.tool_calls[i.index],"f"),R(this,Ie,"f")&&this._emit("toolCallCreated",R(this,Ie,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Me(this,qn,void 0,"f"),e.data.step_details.type=="tool_calls"&&R(this,Ie,"f")&&(this._emit("toolCallDone",R(this,Ie,"f")),Me(this,Ie,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Ec=function(e){R(this,io,"f").push(e),this._emit("event",e)},Rc=function(e){switch(e.event){case"thread.run.step.created":return R(this,et,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=R(this,et,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Ke.accumulateDelta(n,s.delta);R(this,et,"f")[e.data.id]=r}return R(this,et,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":R(this,et,"f")[e.data.id]=e.data;break}if(R(this,et,"f")[e.data.id])return R(this,et,"f")[e.data.id];throw new Error("No snapshot available")},$c=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=R(this,pe,"m",Tc).call(this,i,o)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Tc=function(e,n){return Ke.accumulateDelta(n,e)},Mc=function(e){switch(Me(this,fr,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Me(this,zt,e.data,"f"),R(this,Ie,"f")&&(this._emit("toolCallDone",R(this,Ie,"f")),Me(this,Ie,void 0,"f"));break}};class dr extends Q{create(e,n,s){return this._client.post(`/threads/${e}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,oo,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class oo extends We{}(function(t){t.MessagesPage=oo})(dr||(dr={}));class hr extends Q{retrieve(e,n,s,r){return this._client.get(`/threads/${e}/runs/${n}/steps/${s}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n,s={},r){return Te(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,ao,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ao extends We{}(function(t){t.RunStepsPage=ao})(hr||(hr={}));class pr extends Q{constructor(){super(...arguments),this.steps=new hr(this._client)}create(e,n,s){return this._client.post(`/threads/${e}/runs`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(e,n,s){return this._client.get(`/threads/${e}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,lo,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}createAndStream(e,n,s){return Ke.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Dn(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return Ke.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,n,s,r){const i=await this.submitToolOutputs(e,n,s,r);return await this.poll(e,i.id,r)}submitToolOutputsStream(e,n,s,r){return Ke.createToolAssistantStream(e,n,this._client.beta.threads.runs,s,r)}}class lo extends We{}(function(t){t.RunsPage=lo,t.Steps=hr,t.RunStepsPage=ao})(pr||(pr={}));class gr extends Q{constructor(){super(...arguments),this.runs=new pr(this._client),this.messages=new dr(this._client)}create(e={},n){return Te(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/threads/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(e,n){return Ke.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=pr,t.RunsPage=lo,t.Messages=dr,t.MessagesPage=oo})(gr||(gr={}));const Sp=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};let mr=class extends Q{create(e,n,s){return this._client.post(`/vector_stores/${e}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},s){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,br,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...s,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Dn(a);break;case"failed":case"completed":return o}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}};class br extends We{}(function(t){t.VectorStoreFilesPage=br})(mr||(mr={}));class wr extends Q{create(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s={},r){return Te(s)?this.listFiles(e,n,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,br,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Dn(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),u=[...s];async function c(p){for(let m of p){const S=await a.files.create({file:m,purpose:"assistants"},r);u.push(S.id)}}const d=Array(o).fill(l).map(c);return await Sp(d),await this.createAndPoll(e,{file_ids:u})}}wr||(wr={});class _r extends Q{constructor(){super(...arguments),this.files=new mr(this._client),this.fileBatches=new wr(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/vector_stores/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/vector_stores",co,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class co extends We{}(function(t){t.VectorStoresPage=co,t.Files=mr,t.VectorStoreFilesPage=br,t.FileBatches=wr})(_r||(_r={}));class yr extends Q{constructor(){super(...arguments),this.vectorStores=new _r(this._client),this.chat=new ar(this._client),this.assistants=new Qs(this._client),this.threads=new gr(this._client)}}(function(t){t.VectorStores=_r,t.VectorStoresPage=co,t.Chat=ar,t.Assistants=Qs,t.AssistantsPage=qi,t.Threads=gr})(yr||(yr={}));class vr extends Q{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}vr||(vr={});class xr extends Q{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}xr||(xr={});class kr extends Q{create(e,n){return this._client.post("/files",on({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/files",uo,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await Dn(n),o=await this.retrieve(e),Date.now()-i>s)throw new Hi({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return o}}class uo extends Wi{}(function(t){t.FileObjectsPage=uo})(kr||(kr={}));class Sr extends Q{list(e,n={},s){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,fo,{query:n,...s})}}class fo extends We{}(function(t){t.FineTuningJobCheckpointsPage=fo})(Sr||(Sr={}));class Cr extends Q{constructor(){super(...arguments),this.checkpoints=new Sr(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",ho,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return Te(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,po,{query:n,...s})}}class ho extends We{}class po extends We{}(function(t){t.FineTuningJobsPage=ho,t.FineTuningJobEventsPage=po,t.Checkpoints=Sr,t.FineTuningJobCheckpointsPage=fo})(Cr||(Cr={}));class Pr extends Q{constructor(){super(...arguments),this.jobs=new Cr(this._client)}}(function(t){t.Jobs=Cr,t.FineTuningJobsPage=ho,t.FineTuningJobEventsPage=po})(Pr||(Pr={}));class Ar extends Q{createVariation(e,n){return this._client.post("/images/variations",on({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",on({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}Ar||(Ar={});class Er extends Q{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",go,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class go extends Wi{}(function(t){t.ModelsPage=go})(Er||(Er={}));class Rr extends Q{create(e,n){return this._client.post("/moderations",{body:e,...n})}}Rr||(Rr={});class $r extends Q{create(e,n,s){return this._client.post(`/uploads/${e}/parts`,on({body:n,...s}))}}$r||($r={});class Tr extends Q{constructor(){super(...arguments),this.parts=new $r(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(`/uploads/${e}/complete`,{body:n,...s})}}(function(t){t.Parts=$r})(Tr||(Tr={}));var Ic;class ce extends sp{constructor({baseURL:e=Us("OPENAI_BASE_URL"),apiKey:n=Us("OPENAI_API_KEY"),organization:s=Us("OPENAI_ORG_ID")??null,project:r=Us("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new H("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:s,project:r,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&pp())throw new H(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new vr(this),this.chat=new Vs(this),this.embeddings=new xr(this),this.files=new kr(this),this.images=new Ar(this),this.audio=new Xs(this),this.moderations=new Rr(this),this.models=new Er(this),this.fineTuning=new Pr(this),this.beta=new yr(this),this.batches=new Gs(this),this.uploads=new Tr(this),this._options=o,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}Ic=ce,ce.OpenAI=Ic,ce.DEFAULT_TIMEOUT=6e5,ce.OpenAIError=H,ce.APIError=he,ce.APIConnectionError=Hs,ce.APIConnectionTimeoutError=Hi,ce.APIUserAbortError=He,ce.NotFoundError=oc,ce.ConflictError=ac,ce.RateLimitError=cc,ce.BadRequestError=sc,ce.AuthenticationError=rc,ce.InternalServerError=uc,ce.PermissionDeniedError=ic,ce.UnprocessableEntityError=lc,ce.toFile=ql,ce.fileFromPath=zl,function(t){t.Page=Wi,t.CursorPage=We,t.Completions=vr,t.Chat=Vs,t.Embeddings=xr,t.Files=kr,t.FileObjectsPage=uo,t.Images=Ar,t.Audio=Xs,t.Moderations=Rr,t.Models=Er,t.ModelsPage=go,t.FineTuning=Pr,t.Beta=yr,t.Batches=Gs,t.BatchesPage=Vi,t.Uploads=Tr}(ce||(ce={}));var Cp=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Oc;const Mr=t=>Oc=t,Fc=Symbol();function mo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xn||(Xn={}));function Pp(){const t=Fo(!0),e=t.run(()=>ra({}));let n=[],s=[];const r=ni({install(i){Mr(r),r._a=i,i.provide(Fc,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!Cp?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const jc=()=>{};function Lc(t,e,n,s=jc){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&jo()&&Du(r),r}function mn(t,...e){t.slice().forEach(n=>{n(...e)})}const Ap=t=>t(),Dc=Symbol(),bo=Symbol();function wo(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];mo(r)&&mo(s)&&t.hasOwnProperty(n)&&!le(s)&&!yt(s)?t[n]=wo(r,s):t[n]=s}return t}const Ep=Symbol();function Rp(t){return!mo(t)||!t.hasOwnProperty(Ep)}const{assign:At}=Object;function $p(t){return!!(le(t)&&t.effect)}function Tp(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=r?r():{});const c=ff(n.state.value[t]);return At(c,i,Object.keys(o||{}).reduce((d,p)=>(d[p]=ni(fl(()=>{Mr(n);const m=n._s.get(t);return o[p].call(m,m)})),d),{}))}return l=Nc(t,u,e,n,s,!0),l}function Nc(t,e,n={},s,r,i){let o;const a=At({actions:{}},n),l={deep:!0};let u,c,d=[],p=[],m;const S=s.state.value[t];!i&&!S&&(s.state.value[t]={}),ra({});let w;function k(B){let j;u=c=!1,typeof B=="function"?(B(s.state.value[t]),j={type:Xn.patchFunction,storeId:t,events:m}):(wo(s.state.value[t],B),j={type:Xn.patchObject,payload:B,storeId:t,events:m});const ne=w=Symbol();Ss().then(()=>{w===ne&&(u=!0)}),c=!0,mn(d,j,s.state.value[t])}const L=i?function(){const{state:j}=n,ne=j?j():{};this.$patch(J=>{At(J,ne)})}:jc;function O(){o.stop(),d=[],p=[],s._s.delete(t)}const $=(B,j="")=>{if(Dc in B)return B[bo]=j,B;const ne=function(){Mr(s);const J=Array.from(arguments),Pe=[],Et=[];function ss(W){Pe.push(W)}function Nr(W){Et.push(W)}mn(p,{args:J,name:ne[bo],store:I,after:ss,onError:Nr});let ue;try{ue=B.apply(this&&this.$id===t?this:I,J)}catch(W){throw mn(Et,W),W}return ue instanceof Promise?ue.then(W=>(mn(Pe,W),W)).catch(W=>(mn(Et,W),Promise.reject(W))):(mn(Pe,ue),ue)};return ne[Dc]=!0,ne[bo]=j,ne},x={_p:s,$id:t,$onAction:Lc.bind(null,p),$patch:k,$reset:L,$subscribe(B,j={}){const ne=Lc(d,B,j.detached,()=>J()),J=o.run(()=>Es(()=>s.state.value[t],Pe=>{(j.flush==="sync"?c:u)&&B({storeId:t,type:Xn.direct,events:m},Pe)},At({},l,j)));return ne},$dispose:O},I=ws(x);s._s.set(t,I);const D=(s._a&&s._a.runWithContext||Ap)(()=>s._e.run(()=>(o=Fo()).run(()=>e({action:$}))));for(const B in D){const j=D[B];if(le(j)&&!$p(j)||yt(j))i||(S&&Rp(j)&&(le(j)?j.value=S[B]:wo(j,S[B])),s.state.value[t][B]=j);else if(typeof j=="function"){const ne=$(j,B);D[B]=ne,a.actions[B]=j}}return At(I,D),At(q(I),D),Object.defineProperty(I,"$state",{get:()=>s.state.value[t],set:B=>{k(j=>{At(j,B)})}}),s._p.forEach(B=>{At(I,o.run(()=>B({store:I,app:s._a,pinia:s,options:a})))}),S&&i&&n.hydrate&&n.hydrate(I.$state,S),u=!0,c=!0,I}function Mp(t,e,n){let s,r;const i=typeof e=="function";s=t,r=i?n:e;function o(a,l){const u=ud();return a=a||(u?en(Fc,null):null),a&&Mr(a),a=Oc,a._s.has(s)||(i?Nc(s,e,r,a):Tp(s,r,a)),a._s.get(s)}return o.$id=s,o}function Ip(t){return t&&typeof t.then=="function"}Promise.resolve(!1),Promise.resolve(!0);var Ht=Promise.resolve();function Bc(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function Op(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function _o(){return Math.random().toString(36).substring(2)}var yo=0;function Gn(){var t=Date.now()*1e3;return t<=yo&&(t=yo+1),yo=t,t}var Fp=Gn,jp="native";function Lp(t){var e={time:Gn(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(n){e.messagesCallback&&e.messagesCallback(n.data)},e}function Dp(t){t.bc.close(),t.subFns=[]}function Np(t,e){try{return t.bc.postMessage(e,!1),Ht}catch(n){return Promise.reject(n)}}function Bp(t,e){t.messagesCallback=e}function zp(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Up(){return 150}var Hp={create:Lp,close:Dp,onMessage:Bp,postMessage:Np,canBeUsed:zp,type:jp,averageResponseTime:Up,microSeconds:Fp};class zc{constructor(e){X(this,"ttl");X(this,"map",new Map);X(this,"_to",!1);this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,Uc()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,Wp(this)},0))}clear(){this.map.clear()}}function Wp(t){const e=Uc()-t.ttl,n=t.map[Symbol.iterator]();for(;;){const s=n.next().value;if(!s)return;const r=s[0];if(s[1]<e)t.map.delete(r);else return}}function Uc(){return Date.now()}function vo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var Vp=Gn,qp="pubkey.broadcast-channel-0-",gt="messages",Ir={durability:"relaxed"},Kp="idb";function Hc(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function xo(t){t.commit&&t.commit()}function Jp(t){var e=Hc(),n=qp+t,s=e.open(n);return s.onupgradeneeded=function(r){var i=r.target.result;i.createObjectStore(gt,{keyPath:"id",autoIncrement:!0})},new Promise(function(r,i){s.onerror=function(o){return i(o)},s.onsuccess=function(){r(s.result)}})}function Xp(t,e,n){var s=Date.now(),r={uuid:e,time:s,data:n},i=t.transaction([gt],"readwrite",Ir);return new Promise(function(o,a){i.oncomplete=function(){return o()},i.onerror=function(u){return a(u)};var l=i.objectStore(gt);l.add(r),xo(i)})}function Gp(t,e){var n=t.transaction(gt,"readonly",Ir),s=n.objectStore(gt),r=[],i=IDBKeyRange.bound(e+1,1/0);if(s.getAll){var o=s.getAll(i);return new Promise(function(l,u){o.onerror=function(c){return u(c)},o.onsuccess=function(c){l(c.target.result)}})}function a(){try{return i=IDBKeyRange.bound(e+1,1/0),s.openCursor(i)}catch{return s.openCursor()}}return new Promise(function(l,u){var c=a();c.onerror=function(d){return u(d)},c.onsuccess=function(d){var p=d.target.result;p?p.value.id<e+1?p.continue(e+1):(r.push(p.value),p.continue()):(xo(n),l(r))}})}function Qp(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(gt,"readwrite",Ir),s=n.objectStore(gt);return Promise.all(e.map(function(r){var i=s.delete(r);return new Promise(function(o){i.onsuccess=function(){return o()}})}))}function Zp(t,e){var n=Date.now()-e,s=t.transaction(gt,"readonly",Ir),r=s.objectStore(gt),i=[];return new Promise(function(o){r.openCursor().onsuccess=function(a){var l=a.target.result;if(l){var u=l.value;u.time<n?(i.push(u),l.continue()):(xo(s),o(i))}else o(i)}})}function Yp(t){return Zp(t.db,t.options.idb.ttl).then(function(e){return Qp(t,e.map(function(n){return n.id}))})}function eg(t,e){return e=vo(e),Jp(t).then(function(n){var s={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:_o(),eMIs:new zc(e.idb.ttl*2),writeBlockPromise:Ht,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){s.closed=!0,e.idb.onclose&&e.idb.onclose()},Wc(s),s})}function Wc(t){t.closed||Vc(t).then(function(){return Bc(t.options.idb.fallbackInterval)}).then(function(){return Wc(t)})}function tg(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function Vc(t){return t.closed||!t.messagesCallback?Ht:Gp(t.db,t.lastCursorId).then(function(e){var n=e.filter(function(s){return!!s}).map(function(s){return s.id>t.lastCursorId&&(t.lastCursorId=s.id),s}).filter(function(s){return tg(s,t)}).sort(function(s,r){return s.time-r.time});return n.forEach(function(s){t.messagesCallback&&(t.eMIs.add(s.id),t.messagesCallback(s.data))}),Ht})}function ng(t){t.closed=!0,t.db.close()}function sg(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return Xp(t.db,t.uuid,e)}).then(function(){Op(0,10)===0&&Yp(t)}),t.writeBlockPromise}function rg(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,Vc(t)}function ig(){return!!Hc()}function og(t){return t.idb.fallbackInterval*2}var ag={create:eg,close:ng,onMessage:rg,postMessage:sg,canBeUsed:ig,type:Kp,averageResponseTime:og,microSeconds:Vp},lg=Gn,cg="pubkey.broadcastChannel-",ug="localstorage";function qc(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Kc(t){return cg+t}function fg(t,e){return new Promise(function(n){Bc().then(function(){var s=Kc(t.channelName),r={token:_o(),time:Date.now(),data:e,uuid:t.uuid},i=JSON.stringify(r);qc().setItem(s,i);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=s,o.newValue=i,window.dispatchEvent(o),n()})})}function dg(t,e){var n=Kc(t),s=function(i){i.key===n&&e(JSON.parse(i.newValue))};return window.addEventListener("storage",s),s}function hg(t){window.removeEventListener("storage",t)}function pg(t,e){if(e=vo(e),!Jc())throw new Error("BroadcastChannel: localstorage cannot be used");var n=_o(),s=new zc(e.localstorage.removeTimeout),r={channelName:t,uuid:n,eMIs:s};return r.listener=dg(t,function(i){r.messagesCallback&&i.uuid!==n&&(!i.token||s.has(i.token)||i.data.time&&i.data.time<r.messagesCallbackTime||(s.add(i.token),r.messagesCallback(i.data)))}),r}function gg(t){hg(t.listener)}function mg(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function Jc(){var t=qc();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function bg(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var wg={create:pg,close:gg,onMessage:mg,postMessage:fg,canBeUsed:Jc,type:ug,averageResponseTime:bg,microSeconds:lg},Xc=Gn,_g="simulate",ko=new Set;function yg(t){var e={time:Xc(),name:t,messagesCallback:null};return ko.add(e),e}function vg(t){ko.delete(t)}var Gc=5;function xg(t,e){return new Promise(function(n){return setTimeout(function(){var s=Array.from(ko);s.forEach(function(r){r.name===t.name&&r!==t&&r.messagesCallback&&r.time<e.time&&r.messagesCallback(e)}),n()},Gc)})}function kg(t,e){t.messagesCallback=e}function Sg(){return!0}function Cg(){return Gc}var Pg={create:yg,close:vg,onMessage:kg,postMessage:xg,canBeUsed:Sg,type:_g,averageResponseTime:Cg,microSeconds:Xc},Qc=[Hp,ag,wg];function Ag(t){var e=[].concat(t.methods,Qc).filter(Boolean);if(t.type){if(t.type==="simulate")return Pg;var n=e.find(function(r){return r.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(r){return r.type!=="idb"}));var s=e.find(function(r){return r.canBeUsed()});if(s)return s;throw new Error("No usable method found in "+JSON.stringify(Qc.map(function(r){return r.type})))}var Zc=new Set,Eg=0,So=function(e,n){this.id=Eg++,Zc.add(this),this.name=e,Yc&&(n=Yc),this.options=vo(n),this.method=Ag(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Rg(this)};So._pubkey=!0;var Yc;So.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return eu(this,"message",e)},postInternal:function(e){return eu(this,"internal",e)},set onmessage(t){var e=this.method.microSeconds(),n={time:e,fn:t};su(this,"message",this._onML),t&&typeof t=="function"?(this._onML=n,nu(this,"message",n)):this._onML=null},addEventListener:function(e,n){var s=this.method.microSeconds(),r={time:s,fn:n};nu(this,e,r)},removeEventListener:function(e,n){var s=this._addEL[e].find(function(r){return r.fn===n});su(this,e,s)},close:function(){var e=this;if(!this.closed){Zc.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Ht;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(s){return s()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function eu(t,e,n){var s=t.method.microSeconds(),r={time:s,type:e,data:n},i=t._prepP?t._prepP:Ht;return i.then(function(){var o=t.method.postMessage(t._state,r);return t._uMP.add(o),o.catch().then(function(){return t._uMP.delete(o)}),o})}function Rg(t){var e=t.method.create(t.name,t.options);Ip(e)?(t._prepP=e,e.then(function(n){t._state=n})):t._state=e}function tu(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function nu(t,e,n){t._addEL[e].push(n),$g(t)}function su(t,e,n){t._addEL[e]=t._addEL[e].filter(function(s){return s!==n}),Tg(t)}function $g(t){if(!t._iL&&tu(t)){var e=function(r){t._addEL[r.type].forEach(function(i){r.time>=i.time&&i.fn(r.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function Tg(t){if(t._iL&&!tu(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}function ru(t,e={serialize:JSON.stringify,deserialize:JSON.parse}){return e.deserialize(e.serialize(t))}function Mg(t,e){return Object.keys(e).includes(t)}function Ig({enable:t=!0,initialize:e=!0,type:n,serializer:s}){return({store:r,options:i})=>{var m,S,w;const o=((m=i==null?void 0:i.share)==null?void 0:m.enable)??t,a=((S=i==null?void 0:i.share)==null?void 0:S.omit)??[];if(!o)return;const l=new So(r.$id,{type:n});let u=0,c=!1;const d=Object.keys(r.$state).filter(k=>!a.includes(k)&&Mg(k,r.$state));l.onmessage=k=>{if(k===void 0){l.postMessage({timestamp:u,state:ru(r.$state,s)});return}k.timestamp<=u||(c=!0,u=Date.now(),r.$patch(L=>{d.forEach(O=>{L[O]=k.state[O]})}))},(((w=i==null?void 0:i.share)==null?void 0:w.initialize)??e)&&l.postMessage(void 0),r.$subscribe((k,L)=>{c||(u=Date.now(),l.postMessage({timestamp:u,state:ru(L,s)})),c=!1})}}const iu=Symbol("client"),Og=({client:t,systemPrompt:e})=>n=>{const s=Pp();s.use(Ig({enable:!0,initialize:!1,type:"localstorage"})),n.use(s).provide(iu,{client:t,systemPrompt:e})};function Fg(){return en(iu)}const jg=Mp("chatbox",{state:()=>({models:[],selectedModel:"",systemPrompt:"",userMessages:[],newMessage:"",maxTokens:5e3}),actions:{setSystemPrompt(t){this.systemPrompt=t},setModels(t){this.models=t},setSelectedModel(t){this.selectedModel=t},addMessage(t){this.userMessages.push(t)},setNewMessage(t){this.newMessage=t},clearNewMessage(){this.newMessage=""},clearMessages(){this.userMessages=[]}},getters:{messages:t=>[{role:"system",content:t.systemPrompt},...t.userMessages]}});function Co(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Wt=Co();function ou(t){Wt=t}const au=/[&<>"']/,Lg=new RegExp(au.source,"g"),lu=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Dg=new RegExp(lu.source,"g"),Ng={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cu=t=>Ng[t];function Oe(t,e){if(e){if(au.test(t))return t.replace(Lg,cu)}else if(lu.test(t))return t.replace(Dg,cu);return t}const Bg=/(^|[^\[])\^/g;function te(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const s={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Bg,"$1"),n=n.replace(r,o),s},getRegex:()=>new RegExp(n,e)};return s}function uu(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Qn={exec:()=>null};function fu(t,e){const n=t.replace(/\|/g,(i,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),s=n.split(/ \|/);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(/\\\|/g,"|");return s}function Zn(t,e,n){const s=t.length;if(s===0)return"";let r=0;for(;r<s;){const i=t.charAt(s-r-1);if(i===e&&!n)r++;else if(i!==e&&n)r++;else break}return t.slice(0,s-r)}function zg(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return-1}function du(t,e,n,s){const r=e.href,i=e.title?Oe(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const a={type:"link",raw:n,href:r,title:i,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:i,text:Oe(o)}}function Ug(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(r=>{const i=r.match(/^\s+/);if(i===null)return r;const[o]=i;return o.length>=s.length?r.slice(s.length):r}).join(`
`)}class Or{constructor(e){X(this,"options");X(this,"rules");X(this,"lexer");this.options=e||Wt}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Zn(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],r=Ug(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const r=Zn(s,"#");(this.options.pedantic||!r||/ $/.test(r))&&(s=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Zn(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let s=Zn(n[0],`
`).split(`
`),r="",i="";const o=[];for(;s.length>0;){let a=!1;const l=[];let u;for(u=0;u<s.length;u++)if(/^ {0,3}>/.test(s[u]))l.push(s[u]),a=!0;else if(!a)l.push(s[u]);else break;s=s.slice(u);const c=l.join(`
`),d=c.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${c}`:c,i=i?`${i}
${d}`:d;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,o,!0),this.lexer.state.top=p,s.length===0)break;const m=o[o.length-1];if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const S=m,w=S.raw+`
`+s.join(`
`),k=this.blockquote(w);o[o.length-1]=k,r=r.substring(0,r.length-S.raw.length)+k.raw,i=i.substring(0,i.length-S.text.length)+k.text;break}else if((m==null?void 0:m.type)==="list"){const S=m,w=S.raw+`
`+s.join(`
`),k=this.list(w);o[o.length-1]=k,r=r.substring(0,r.length-m.raw.length)+k.raw,i=i.substring(0,i.length-S.raw.length)+k.raw,s=w.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim();const r=s.length>1,i={type:"list",raw:"",ordered:r,start:r?+s.slice(0,-1):"",loose:!1,items:[]};s=r?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=r?s:"[*+-]");const o=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;e;){let l=!1,u="",c="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let d=n[2].split(`
`,1)[0].replace(/^\t+/,L=>" ".repeat(3*L.length)),p=e.split(`
`,1)[0],m=!d.trim(),S=0;if(this.options.pedantic?(S=2,c=d.trimStart()):m?S=n[1].length+1:(S=n[2].search(/[^ ]/),S=S>4?1:S,c=d.slice(S),S+=n[1].length),m&&/^[ \t]*$/.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),l=!0),!l){const L=new RegExp(`^ {0,${Math.min(3,S-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),O=new RegExp(`^ {0,${Math.min(3,S-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),$=new RegExp(`^ {0,${Math.min(3,S-1)}}(?:\`\`\`|~~~)`),x=new RegExp(`^ {0,${Math.min(3,S-1)}}#`);for(;e;){const I=e.split(`
`,1)[0];let z;if(p=I,this.options.pedantic?(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),z=p):z=p.replace(/\t/g,"    "),$.test(p)||x.test(p)||L.test(p)||O.test(p))break;if(z.search(/[^ ]/)>=S||!p.trim())c+=`
`+z.slice(S);else{if(m||d.replace(/\t/g,"    ").search(/[^ ]/)>=4||$.test(d)||x.test(d)||O.test(d))break;c+=`
`+p}!m&&!p.trim()&&(m=!0),u+=I+`
`,e=e.substring(I.length+1),d=z.slice(S)}}i.loose||(a?i.loose=!0:/\n[ \t]*\n[ \t]*$/.test(u)&&(a=!0));let w=null,k;this.options.gfm&&(w=/^\[[ xX]\] /.exec(c),w&&(k=w[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:u,task:!!w,checked:k,loose:!1,text:c,tokens:[]}),i.raw+=u}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const u=i.items[l].tokens.filter(d=>d.type==="space"),c=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));i.loose=c}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:r,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const s=fu(n[1]),r=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===r.length){for(const a of r)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<s.length;a++)o.header.push({text:s[a],tokens:this.lexer.inline(s[a]),header:!0,align:o.align[a]});for(const a of i)o.rows.push(fu(a,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Oe(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const o=Zn(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{const o=zg(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(s)?r=r.slice(1):r=r.slice(1,-1)),du(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const r=(s[2]||s[1]).replace(/\s+/g," "),i=n[r.toLowerCase()];if(!i){const o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return du(s,i,s[0],this.lexer)}}emStrong(e,n,s=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const o=[...r[0]].length-1;let a,l,u=o,c=0;const d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);(r=d.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){u+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const p=[...r[0]][0].length,m=e.slice(0,o+r.index+p+l);if(Math.min(o,l)%2){const w=m.slice(1,-1);return{type:"em",raw:m,text:w,tokens:this.lexer.inlineTokens(w)}}const S=m.slice(2,-2);return{type:"strong",raw:m,text:S,tokens:this.lexer.inlineTokens(S)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const r=/[^ ]/.test(s),i=/^ /.test(s)&&/ $/.test(s);return r&&i&&(s=s.substring(1,s.length-1)),s=Oe(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let s,r;return n[2]==="@"?(s=Oe(n[1]),r="mailto:"+s):(s=Oe(n[1]),r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=Oe(n[0]),i="mailto:"+r;else{let o;do o=n[0],n[0]=((s=this.rules.inline._backpedal.exec(n[0]))==null?void 0:s[0])??"";while(o!==n[0]);r=Oe(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=n[0]:s=Oe(n[0]),{type:"text",raw:n[0],text:s}}}}const Hg=/^(?:[ \t]*(?:\n|$))+/,Wg=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Vg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Yn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qg=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hu=/(?:[*+-]|\d{1,9}[.)])/,pu=te(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,hu).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Po=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Kg=/^[^\n]+/,Ao=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Jg=te(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ao).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Xg=te(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,hu).getRegex(),Fr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Eo=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Gg=te("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Eo).replace("tag",Fr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),gu=te(Po).replace("hr",Yn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex(),Ro={blockquote:te(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",gu).getRegex(),code:Wg,def:Jg,fences:Vg,heading:qg,hr:Yn,html:Gg,lheading:pu,list:Xg,newline:Hg,paragraph:gu,table:Qn,text:Kg},mu=te("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Yn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex(),Qg={...Ro,table:mu,paragraph:te(Po).replace("hr",Yn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",mu).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex()},Zg={...Ro,html:te(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Eo).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Qn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:te(Po).replace("hr",Yn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",pu).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},bu=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Yg=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,wu=/^( {2,}|\\)\n(?!\s*$)/,em=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,es="\\p{P}\\p{S}",tm=te(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,es).getRegex(),nm=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,sm=te(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,es).getRegex(),rm=te("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,es).getRegex(),im=te("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,es).getRegex(),om=te(/\\([punct])/,"gu").replace(/punct/g,es).getRegex(),am=te(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),lm=te(Eo).replace("(?:-->|$)","-->").getRegex(),cm=te("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",lm).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,um=te(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",jr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_u=te(/^!?\[(label)\]\[(ref)\]/).replace("label",jr).replace("ref",Ao).getRegex(),yu=te(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ao).getRegex(),fm=te("reflink|nolink(?!\\()","g").replace("reflink",_u).replace("nolink",yu).getRegex(),$o={_backpedal:Qn,anyPunctuation:om,autolink:am,blockSkip:nm,br:wu,code:Yg,del:Qn,emStrongLDelim:sm,emStrongRDelimAst:rm,emStrongRDelimUnd:im,escape:bu,link:um,nolink:yu,punctuation:tm,reflink:_u,reflinkSearch:fm,tag:cm,text:em,url:Qn},dm={...$o,link:te(/^!?\[(label)\]\((.*?)\)/).replace("label",jr).getRegex(),reflink:te(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jr).getRegex()},To={...$o,escape:te(bu).replace("])","~|])").getRegex(),url:te(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},hm={...To,br:te(wu).replace("{2,}","*").getRegex(),text:te(To.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Lr={normal:Ro,gfm:Qg,pedantic:Zg},ts={normal:$o,gfm:To,breaks:hm,pedantic:dm};class De{constructor(e){X(this,"tokens");X(this,"options");X(this,"state");X(this,"tokenizer");X(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Wt,this.options.tokenizer=this.options.tokenizer||new Or,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Lr.normal,inline:ts.normal};this.options.pedantic?(n.block=Lr.pedantic,n.inline=ts.pedantic):this.options.gfm&&(n.block=Lr.gfm,this.options.breaks?n.inline=ts.breaks:n.inline=ts.gfm),this.tokenizer.rules=n}static get rules(){return{block:Lr,inline:ts}}static lex(e,n){return new De(n).lex(e)}static lexInline(e,n){return new De(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let r,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&(i==null?void 0:i.type)==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let s,r,i,o=e,a,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(s=c.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,o,u)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),n.push(s);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const d=e.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},d),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(i=e.substring(0,c+1))}if(s=this.tokenizer.inlineText(i)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(u=s.raw.slice(-1)),l=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Dr{constructor(e){X(this,"options");X(this,"parser");this.options=e||Wt}space(e){return""}code({text:e,lang:n,escaped:s}){var o;const r=(o=(n||"").match(/^\S*/))==null?void 0:o[0],i=e.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+Oe(r)+'">'+(s?i:Oe(i,!0))+`</code></pre>
`:"<pre><code>"+(s?i:Oe(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,s=e.start;let r="";for(let a=0;a<e.items.length;a++){const l=e.items[a];r+=this.listitem(l)}const i=n?"ol":"ul",o=n&&s!==1?' start="'+s+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){let n="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" "}):n+=s+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",s="";for(let i=0;i<e.header.length;i++)s+=this.tablecell(e.header[i]);n+=this.tablerow({text:s});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];s="";for(let a=0;a<o.length;a++)s+=this.tablecell(o[a]);r+=this.tablerow({text:s})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+n+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:s}){const r=this.parser.parseInline(s),i=uu(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image({href:e,title:n,text:s}){const r=uu(e);if(r===null)return s;e=r;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Mo{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Ne{constructor(e){X(this,"options");X(this,"renderer");X(this,"textRenderer");this.options=e||Wt,this.options.renderer=this.options.renderer||new Dr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Mo}static parse(e,n){return new Ne(n).parse(e)}static parseInline(e,n){return new Ne(n).parseInline(e)}parse(e,n=!0){let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){s+=l||"";continue}}const o=i;switch(o.type){case"space":{s+=this.renderer.space(o);continue}case"hr":{s+=this.renderer.hr(o);continue}case"heading":{s+=this.renderer.heading(o);continue}case"code":{s+=this.renderer.code(o);continue}case"table":{s+=this.renderer.table(o);continue}case"blockquote":{s+=this.renderer.blockquote(o);continue}case"list":{s+=this.renderer.list(o);continue}case"html":{s+=this.renderer.html(o);continue}case"paragraph":{s+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],l+=`
`+this.renderer.text(a);n?s+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):s+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}parseInline(e,n){n=n||this.renderer;let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=a||"";continue}}const o=i;switch(o.type){case"escape":{s+=n.text(o);break}case"html":{s+=n.html(o);break}case"link":{s+=n.link(o);break}case"image":{s+=n.image(o);break}case"strong":{s+=n.strong(o);break}case"em":{s+=n.em(o);break}case"codespan":{s+=n.codespan(o);break}case"br":{s+=n.br(o);break}case"del":{s+=n.del(o);break}case"text":{s+=n.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}}class ns{constructor(e){X(this,"options");X(this,"block");this.options=e||Wt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?De.lex:De.lexInline}provideParser(){return this.block?Ne.parse:Ne.parseInline}}X(ns,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class pm{constructor(...e){X(this,"defaults",Co());X(this,"options",this.setOptions);X(this,"parse",this.parseMarkdown(!0));X(this,"parseInline",this.parseMarkdown(!1));X(this,"Parser",Ne);X(this,"Renderer",Dr);X(this,"TextRenderer",Mo);X(this,"Lexer",De);X(this,"Tokenizer",Or);X(this,"Hooks",ns);this.use(...e)}walkTokens(e,n){var r,i;let s=[];for(const o of e)switch(s=s.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)s=s.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const u of l)s=s.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=o;s=s.concat(this.walkTokens(a.items,n));break}default:{const a=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const u=a[l].flat(1/0);s=s.concat(this.walkTokens(u,n))}):a.tokens&&(s=s.concat(this.walkTokens(a.tokens,n)))}}return s}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const r={...s};if(r.async=this.defaults.async||r.async||!1,s.extensions&&(s.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[i.level];o?o.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),r.extensions=n),s.renderer){const i=this.defaults.renderer||new Dr(this.defaults);for(const o in s.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,l=s.renderer[a],u=i[a];i[a]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=u.apply(i,c)),d||""}}r.renderer=i}if(s.tokenizer){const i=this.defaults.tokenizer||new Or(this.defaults);for(const o in s.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=s.tokenizer[a],u=i[a];i[a]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=u.apply(i,c)),d}}r.tokenizer=i}if(s.hooks){const i=this.defaults.hooks||new ns;for(const o in s.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,l=s.hooks[a],u=i[a];ns.passThroughHooks.has(o)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(i,c)).then(p=>u.call(i,p));const d=l.call(i,c);return u.call(i,d)}:i[a]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=u.apply(i,c)),d}}r.hooks=i}if(s.walkTokens){const i=this.defaults.walkTokens,o=s.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return De.lex(e,n??this.defaults)}parser(e,n){return Ne.parse(e,n??this.defaults)}parseMarkdown(e){return(s,r)=>{const i={...r},o={...this.defaults,...i},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const l=o.hooks?o.hooks.provideLexer():e?De.lex:De.lexInline,u=o.hooks?o.hooks.provideParser():e?Ne.parse:Ne.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>u(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(s=o.hooks.preprocess(s));let c=l(s,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let d=u(c,o);return o.hooks&&(d=o.hooks.postprocess(d)),d}catch(c){return a(c)}}}onError(e,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Oe(s.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(s);throw s}}}const Vt=new pm;function Z(t,e){return Vt.parse(t,e)}Z.options=Z.setOptions=function(t){return Vt.setOptions(t),Z.defaults=Vt.defaults,ou(Z.defaults),Z},Z.getDefaults=Co,Z.defaults=Wt,Z.use=function(...t){return Vt.use(...t),Z.defaults=Vt.defaults,ou(Z.defaults),Z},Z.walkTokens=function(t,e){return Vt.walkTokens(t,e)},Z.parseInline=Vt.parseInline,Z.Parser=Ne,Z.parser=Ne.parse,Z.Renderer=Dr,Z.TextRenderer=Mo,Z.Lexer=De,Z.lexer=De.lex,Z.Tokenizer=Or,Z.Hooks=ns,Z.parse=Z,Z.options,Z.setOptions,Z.use,Z.walkTokens,Z.parseInline,Ne.parse,De.lex;const gm={"data-theme":"light",class:"max-w-lg mx-auto p-4 border border-gray-300 rounded-lg shadow-md"},mm={class:"mb-4"},bm={class:"mb-2"},wm=["value"],_m={class:"mb-4"},ym={key:0,class:"text-center"},vm={class:"text-gray-500"},xm=["innerHTML"],km={class:"flex"},Sm=((t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n})(Sa({__name:"SimpleChat",props:{text:{type:String}},setup(t){const e=jg(),{client:n,systemPrompt:s}=Fg(),r=async()=>{try{const u=await n.models.list();e.setModels(u.data.map(c=>c.id)),e.setSelectedModel(e.models[0])}catch(u){console.error("Failed to fetch models:",u)}},i=new AbortController,o=async()=>{if(e.newMessage){e.addMessage({content:e.newMessage,role:"user"});try{const u=await n.chat.completions.create({model:e.selectedModel,messages:e.messages,max_tokens:e.maxTokens},{signal:i.signal});e.addMessage({content:u.choices[0].message.content,role:"assistant"})}catch(u){console.error("Failed to send message:",u)}finally{e.clearNewMessage()}}},a=()=>{i.abort(),e.clearMessages()},l=async()=>{try{console.log(`userMessages ${typeof e.userMessages}`),console.log(e.userMessages.length),console.log(e.userMessages),e.userMessages.length>0}catch(u){console.error("Failed to copy:",u)}};return Ea(async()=>{await r(),e.setSystemPrompt(s)}),(u,c)=>(xt(),Dt("div",gm,[ke("div",mm,[ke("button",{onClick:a,class:"btn btn-error btn-sm float-right"}," Clear Messages "),ke("button",{onClick:l,class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500"}," Copy Last Response "),c[3]||(c[3]=ke("h2",{class:"text-xl font-semibold"},"Chat",-1)),ke("div",bm,[c[2]||(c[2]=ke("label",{for:"model-select",class:"block text-gray-700"},"Select Model:",-1)),xa(ke("select",{id:"model-select","onUpdate:modelValue":c[0]||(c[0]=d=>lt(e).selectedModel=d),class:"select select-bordered select-sm w-full max-w-xs"},[(xt(!0),Dt(Ue,null,$a(lt(e).models,d=>(xt(),Dt("option",{key:d,value:d},ci(d),9,wm))),128))],512),[[Oh,lt(e).selectedModel]])])]),ke("div",_m,[(xt(!0),Dt(Ue,null,$a(lt(e).messages,(d,p)=>(xt(),Dt("div",{key:p,class:"mb-2"},[d.role==="system"?(xt(),Dt("div",ym,[ke("p",vm,ci(d.content),1)])):rl("",!0),d.role!=="system"?(xt(),Dt("div",{key:1,class:Pn({"text-right":d.role==="user"})},[ke("div",{class:Pn(["inline-block p-2 rounded-lg",d.role==="user"?"bg-blue-500 text-white":"bg-gray-300 text-black"]),innerHTML:lt(Z).parse(d.content)},null,10,xm)],2)):rl("",!0)]))),128))]),ke("div",km,[xa(ke("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>lt(e).newMessage=d),onKeyup:jh(o,["enter"]),type:"text",placeholder:"Type a message...",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[Ih,lt(e).newMessage]]),ke("button",{onClick:o,class:"ml-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Send ")])]))}}),[["styles",['[data-v-1d30cf0f]:root,[data-theme][data-v-1d30cf0f]{background-color:var(--fallback-b1,oklch(var(--b1)/1));color:var(--fallback-bc,oklch(var(--bc)/1))}@supports not (color: oklch(0% 0 0)){[data-v-1d30cf0f]:root{color-scheme:light;--fallback-p: #491eff;--fallback-pc: #d4dbff;--fallback-s: #ff41c7;--fallback-sc: #fff9fc;--fallback-a: #00cfbd;--fallback-ac: #00100d;--fallback-n: #2b3440;--fallback-nc: #d7dde4;--fallback-b1: #ffffff;--fallback-b2: #e5e6e6;--fallback-b3: #e5e6e6;--fallback-bc: #1f2937;--fallback-in: #00b3f0;--fallback-inc: #000000;--fallback-su: #00ca92;--fallback-suc: #000000;--fallback-wa: #ffc22d;--fallback-wac: #000000;--fallback-er: #ff6f70;--fallback-erc: #000000 }@media (prefers-color-scheme: dark){[data-v-1d30cf0f]:root{color-scheme:dark;--fallback-p: #7582ff;--fallback-pc: #050617;--fallback-s: #ff71cf;--fallback-sc: #190211;--fallback-a: #00c7b5;--fallback-ac: #000e0c;--fallback-n: #2a323c;--fallback-nc: #a6adbb;--fallback-b1: #1d232a;--fallback-b2: #191e24;--fallback-b3: #15191e;--fallback-bc: #a6adbb;--fallback-in: #00b3f0;--fallback-inc: #000000;--fallback-su: #00ca92;--fallback-suc: #000000;--fallback-wa: #ffc22d;--fallback-wac: #000000;--fallback-er: #ff6f70;--fallback-erc: #000000 }}}html[data-v-1d30cf0f]{-webkit-tap-highlight-color:transparent}[data-v-1d30cf0f]{scrollbar-color:color-mix(in oklch,currentColor 35%,transparent) transparent}[data-v-1d30cf0f]:hover{scrollbar-color:color-mix(in oklch,currentColor 60%,transparent) transparent}[data-v-1d30cf0f]:root{color-scheme:light;--in: 72.06% .191 231.6;--su: 64.8% .15 160;--wa: 84.71% .199 83.87;--er: 71.76% .221 22.18;--pc: 89.824% .06192 275.75;--ac: 15.352% .0368 183.61;--inc: 0% 0 0;--suc: 0% 0 0;--wac: 0% 0 0;--erc: 0% 0 0;--rounded-box: 1rem;--rounded-btn: .5rem;--rounded-badge: 1.9rem;--animation-btn: .25s;--animation-input: .2s;--btn-focus-scale: .95;--border-btn: 1px;--tab-border: 1px;--tab-radius: .5rem;--p: 49.12% .3096 275.75;--s: 69.71% .329 342.55;--sc: 98.71% .0106 342.55;--a: 76.76% .184 183.61;--n: 32.1785% .02476 255.701624;--nc: 89.4994% .011585 252.096176;--b1: 100% 0 0;--b2: 96.1151% 0 0;--b3: 92.4169% .00108 197.137559;--bc: 27.8078% .029596 256.847952 }@media (prefers-color-scheme: dark){[data-v-1d30cf0f]:root{color-scheme:dark;--in: 72.06% .191 231.6;--su: 64.8% .15 160;--wa: 84.71% .199 83.87;--er: 71.76% .221 22.18;--pc: 13.138% .0392 275.75;--sc: 14.96% .052 342.55;--ac: 14.902% .0334 183.61;--inc: 0% 0 0;--suc: 0% 0 0;--wac: 0% 0 0;--erc: 0% 0 0;--rounded-box: 1rem;--rounded-btn: .5rem;--rounded-badge: 1.9rem;--animation-btn: .25s;--animation-input: .2s;--btn-focus-scale: .95;--border-btn: 1px;--tab-border: 1px;--tab-radius: .5rem;--p: 65.69% .196 275.75;--s: 74.8% .26 342.55;--a: 74.51% .167 183.61;--n: 31.3815% .021108 254.139175;--nc: 74.6477% .0216 264.435964;--b1: 25.3267% .015896 252.417568;--b2: 23.2607% .013807 253.100675;--b3: 21.1484% .01165 254.087939;--bc: 74.6477% .0216 264.435964 }}[data-theme=light][data-v-1d30cf0f]{color-scheme:light;--in: 72.06% .191 231.6;--su: 64.8% .15 160;--wa: 84.71% .199 83.87;--er: 71.76% .221 22.18;--pc: 89.824% .06192 275.75;--ac: 15.352% .0368 183.61;--inc: 0% 0 0;--suc: 0% 0 0;--wac: 0% 0 0;--erc: 0% 0 0;--rounded-box: 1rem;--rounded-btn: .5rem;--rounded-badge: 1.9rem;--animation-btn: .25s;--animation-input: .2s;--btn-focus-scale: .95;--border-btn: 1px;--tab-border: 1px;--tab-radius: .5rem;--p: 49.12% .3096 275.75;--s: 69.71% .329 342.55;--sc: 98.71% .0106 342.55;--a: 76.76% .184 183.61;--n: 32.1785% .02476 255.701624;--nc: 89.4994% .011585 252.096176;--b1: 100% 0 0;--b2: 96.1151% 0 0;--b3: 92.4169% .00108 197.137559;--bc: 27.8078% .029596 256.847952 }[data-theme=dark][data-v-1d30cf0f]{color-scheme:dark;--in: 72.06% .191 231.6;--su: 64.8% .15 160;--wa: 84.71% .199 83.87;--er: 71.76% .221 22.18;--pc: 13.138% .0392 275.75;--sc: 14.96% .052 342.55;--ac: 14.902% .0334 183.61;--inc: 0% 0 0;--suc: 0% 0 0;--wac: 0% 0 0;--erc: 0% 0 0;--rounded-box: 1rem;--rounded-btn: .5rem;--rounded-badge: 1.9rem;--animation-btn: .25s;--animation-input: .2s;--btn-focus-scale: .95;--border-btn: 1px;--tab-border: 1px;--tab-radius: .5rem;--p: 65.69% .196 275.75;--s: 74.8% .26 342.55;--a: 74.51% .167 183.61;--n: 31.3815% .021108 254.139175;--nc: 74.6477% .0216 264.435964;--b1: 25.3267% .015896 252.417568;--b2: 23.2607% .013807 253.100675;--b3: 21.1484% .01165 254.087939;--bc: 74.6477% .0216 264.435964 }[data-v-1d30cf0f],[data-v-1d30cf0f]:before,[data-v-1d30cf0f]:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }[data-v-1d30cf0f]::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.alert[data-v-1d30cf0f]{display:grid;width:100%;grid-auto-flow:row;align-content:flex-start;align-items:center;justify-items:center;gap:1rem;text-align:center;border-radius:var(--rounded-box, 1rem);border-width:1px;--tw-border-opacity: 1;border-color:var(--fallback-b2,oklch(var(--b2)/var(--tw-border-opacity)));padding:1rem;--tw-text-opacity: 1;color:var(--fallback-bc,oklch(var(--bc)/var(--tw-text-opacity)));--alert-bg: var(--fallback-b2,oklch(var(--b2)/1));--alert-bg-mix: var(--fallback-b1,oklch(var(--b1)/1));background-color:var(--alert-bg)}@media (min-width: 640px){.alert[data-v-1d30cf0f]{grid-auto-flow:column;grid-template-columns:auto minmax(auto,1fr);justify-items:start;text-align:start}}.avatar.placeholder>div[data-v-1d30cf0f]{display:flex;align-items:center;justify-content:center}@media (hover:hover){.label a[data-v-1d30cf0f]:hover{--tw-text-opacity: 1;color:var(--fallback-bc,oklch(var(--bc)/var(--tw-text-opacity)))}}.btn[data-v-1d30cf0f]{display:inline-flex;height:3rem;min-height:3rem;flex-shrink:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-wrap:wrap;align-items:center;justify-content:center;border-radius:var(--rounded-btn, .5rem);border-color:transparent;border-color:oklch(var(--btn-color, var(--b2)) / var(--tw-border-opacity));padding-left:1rem;padding-right:1rem;text-align:center;font-size:.875rem;line-height:1em;gap:.5rem;font-weight:600;text-decoration-line:none;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1);border-width:var(--border-btn, 1px);transition-property:color,background-color,border-color,opacity,box-shadow,transform;--tw-text-opacity: 1;color:var(--fallback-bc,oklch(var(--bc)/var(--tw-text-opacity)));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline-color:var(--fallback-bc,oklch(var(--bc)/1));background-color:oklch(var(--btn-color, var(--b2)) / var(--tw-bg-opacity));--tw-bg-opacity: 1;--tw-border-opacity: 1 }.btn-disabled[data-v-1d30cf0f],.btn[disabled][data-v-1d30cf0f],.btn[data-v-1d30cf0f]:disabled{pointer-events:none}:where(.btn[data-v-1d30cf0f]:is(input[type=checkbox])),:where(.btn[data-v-1d30cf0f]:is(input[type=radio])){width:auto;-webkit-appearance:none;-moz-appearance:none;appearance:none}.btn[data-v-1d30cf0f]:is(input[type=checkbox]):after,.btn[data-v-1d30cf0f]:is(input[type=radio]):after{--tw-content: attr(aria-label);content:var(--tw-content)}.chat[data-v-1d30cf0f]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));-moz-column-gap:.75rem;column-gap:.75rem;padding-top:.25rem;padding-bottom:.25rem}@media (hover: hover){.btn[data-v-1d30cf0f]:hover{--tw-border-opacity: 1;border-color:var(--fallback-b3,oklch(var(--b3)/var(--tw-border-opacity)));--tw-bg-opacity: 1;background-color:var(--fallback-b3,oklch(var(--b3)/var(--tw-bg-opacity)))}@supports (color: color-mix(in oklab,black,black)){.btn[data-v-1d30cf0f]:hover{background-color:color-mix(in oklab,oklch(var(--btn-color, var(--b2)) / var(--tw-bg-opacity, 1)) 90%,black);border-color:color-mix(in oklab,oklch(var(--btn-color, var(--b2)) / var(--tw-border-opacity, 1)) 90%,black)}}@supports not (color: oklch(0% 0 0)){.btn[data-v-1d30cf0f]:hover{background-color:var(--btn-color, var(--fallback-b2));border-color:var(--btn-color, var(--fallback-b2))}}.btn.glass[data-v-1d30cf0f]:hover{--glass-opacity: 25%;--glass-border-opacity: 15% }.btn-outline.btn-error[data-v-1d30cf0f]:hover{--tw-text-opacity: 1;color:var(--fallback-erc,oklch(var(--erc)/var(--tw-text-opacity)))}@supports (color: color-mix(in oklab,black,black)){.btn-outline.btn-error[data-v-1d30cf0f]:hover{background-color:color-mix(in oklab,var(--fallback-er,oklch(var(--er)/1)) 90%,black);border-color:color-mix(in oklab,var(--fallback-er,oklch(var(--er)/1)) 90%,black)}}.btn-disabled[data-v-1d30cf0f]:hover,.btn[disabled][data-v-1d30cf0f]:hover,.btn[data-v-1d30cf0f]:disabled:hover{--tw-border-opacity: 0;background-color:var(--fallback-n,oklch(var(--n)/var(--tw-bg-opacity)));--tw-bg-opacity: .2;color:var(--fallback-bc,oklch(var(--bc)/var(--tw-text-opacity)));--tw-text-opacity: .2 }@supports (color: color-mix(in oklab,black,black)){.btn[data-v-1d30cf0f]:is(input[type=checkbox]:checked):hover,.btn[data-v-1d30cf0f]:is(input[type=radio]:checked):hover{background-color:color-mix(in oklab,var(--fallback-p,oklch(var(--p)/1)) 90%,black);border-color:color-mix(in oklab,var(--fallback-p,oklch(var(--p)/1)) 90%,black)}}}.label[data-v-1d30cf0f]{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;justify-content:space-between;padding:.5rem .25rem}.input[data-v-1d30cf0f]{flex-shrink:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:3rem;padding-left:1rem;padding-right:1rem;font-size:1rem;line-height:2;line-height:1.5rem;border-radius:var(--rounded-btn, .5rem);border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:var(--fallback-b1,oklch(var(--b1)/var(--tw-bg-opacity)))}.input[type=number][data-v-1d30cf0f]::-webkit-inner-spin-button,.input-md[type=number][data-v-1d30cf0f]::-webkit-inner-spin-button{margin-top:-1rem;margin-bottom:-1rem;margin-inline-end:-1rem}.select[data-v-1d30cf0f]{display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:3rem;min-height:3rem;padding-inline-start:1rem;padding-inline-end:2.5rem;font-size:.875rem;line-height:1.25rem;line-height:2;border-radius:var(--rounded-btn, .5rem);border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:var(--fallback-b1,oklch(var(--b1)/var(--tw-bg-opacity)));background-image:linear-gradient(45deg,transparent 50%,currentColor 50%),linear-gradient(135deg,currentColor 50%,transparent 50%);background-position:calc(100% - 20px) calc(1px + 50%),calc(100% - 16.1px) calc(1px + 50%);background-size:4px 4px,4px 4px;background-repeat:no-repeat}.select[multiple][data-v-1d30cf0f]{height:auto}.btm-nav>* .label[data-v-1d30cf0f]{font-size:1rem;line-height:1.5rem}@media (prefers-reduced-motion: no-preference){.btn[data-v-1d30cf0f]{animation:button-pop-1d30cf0f var(--animation-btn, .25s) ease-out}}.btn[data-v-1d30cf0f]:active:hover,.btn[data-v-1d30cf0f]:active:focus{animation:button-pop-1d30cf0f 0s ease-out;transform:scale(var(--btn-focus-scale, .97))}@supports not (color: oklch(0% 0 0)){.btn[data-v-1d30cf0f]{background-color:var(--btn-color, var(--fallback-b2));border-color:var(--btn-color, var(--fallback-b2))}.btn-error[data-v-1d30cf0f]{--btn-color: var(--fallback-er) }}@supports (color: color-mix(in oklab,black,black)){.btn-outline.btn-error.btn-active[data-v-1d30cf0f]{background-color:color-mix(in oklab,var(--fallback-er,oklch(var(--er)/1)) 90%,black);border-color:color-mix(in oklab,var(--fallback-er,oklch(var(--er)/1)) 90%,black)}}.btn[data-v-1d30cf0f]:focus-visible{outline-style:solid;outline-width:2px;outline-offset:2px}@supports (color: oklch(0% 0 0)){.btn-error[data-v-1d30cf0f]{--btn-color: var(--er) }}.btn-error[data-v-1d30cf0f]{--tw-text-opacity: 1;color:var(--fallback-erc,oklch(var(--erc)/var(--tw-text-opacity)));outline-color:var(--fallback-er,oklch(var(--er)/1))}.btn.glass[data-v-1d30cf0f]{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline-color:currentColor}.btn.glass.btn-active[data-v-1d30cf0f]{--glass-opacity: 25%;--glass-border-opacity: 15% }.btn-outline.btn-error[data-v-1d30cf0f]{--tw-text-opacity: 1;color:var(--fallback-er,oklch(var(--er)/var(--tw-text-opacity)))}.btn-outline.btn-error.btn-active[data-v-1d30cf0f]{--tw-text-opacity: 1;color:var(--fallback-erc,oklch(var(--erc)/var(--tw-text-opacity)))}.btn.btn-disabled[data-v-1d30cf0f],.btn[disabled][data-v-1d30cf0f],.btn[data-v-1d30cf0f]:disabled{--tw-border-opacity: 0;background-color:var(--fallback-n,oklch(var(--n)/var(--tw-bg-opacity)));--tw-bg-opacity: .2;color:var(--fallback-bc,oklch(var(--bc)/var(--tw-text-opacity)));--tw-text-opacity: .2 }.btn[data-v-1d30cf0f]:is(input[type=checkbox]:checked),.btn[data-v-1d30cf0f]:is(input[type=radio]:checked){--tw-border-opacity: 1;border-color:var(--fallback-p,oklch(var(--p)/var(--tw-border-opacity)));--tw-bg-opacity: 1;background-color:var(--fallback-p,oklch(var(--p)/var(--tw-bg-opacity)));--tw-text-opacity: 1;color:var(--fallback-pc,oklch(var(--pc)/var(--tw-text-opacity)))}.btn[data-v-1d30cf0f]:is(input[type=checkbox]:checked):focus-visible,.btn[data-v-1d30cf0f]:is(input[type=radio]:checked):focus-visible{outline-color:var(--fallback-p,oklch(var(--p)/1))}@keyframes button-pop-1d30cf0f{0%{transform:scale(var(--btn-focus-scale, .98))}40%{transform:scale(1.02)}to{transform:scale(1)}}@keyframes checkmark-1d30cf0f{0%{background-position-y:5px}50%{background-position-y:-2px}to{background-position-y:0}}.input input[data-v-1d30cf0f]{--tw-bg-opacity: 1;background-color:var(--fallback-p,oklch(var(--p)/var(--tw-bg-opacity)));background-color:transparent}.input input[data-v-1d30cf0f]:focus{outline:2px solid transparent;outline-offset:2px}.input[list][data-v-1d30cf0f]::-webkit-calendar-picker-indicator{line-height:1em}.input[data-v-1d30cf0f]:focus,.input[data-v-1d30cf0f]:focus-within{box-shadow:none;border-color:var(--fallback-bc,oklch(var(--bc)/.2));outline-style:solid;outline-width:2px;outline-offset:2px;outline-color:var(--fallback-bc,oklch(var(--bc)/.2))}.input[data-v-1d30cf0f]:has(>input[disabled]),.input-disabled[data-v-1d30cf0f],.input[data-v-1d30cf0f]:disabled,.input[disabled][data-v-1d30cf0f]{cursor:not-allowed;--tw-border-opacity: 1;border-color:var(--fallback-b2,oklch(var(--b2)/var(--tw-border-opacity)));--tw-bg-opacity: 1;background-color:var(--fallback-b2,oklch(var(--b2)/var(--tw-bg-opacity)));color:var(--fallback-bc,oklch(var(--bc)/.4))}.input[data-v-1d30cf0f]:has(>input[disabled])::-moz-placeholder,.input-disabled[data-v-1d30cf0f]::-moz-placeholder,.input[data-v-1d30cf0f]:disabled::-moz-placeholder,.input[disabled][data-v-1d30cf0f]::-moz-placeholder{color:var(--fallback-bc,oklch(var(--bc)/var(--tw-placeholder-opacity)));--tw-placeholder-opacity: .2 }.input[data-v-1d30cf0f]:has(>input[disabled])::placeholder,.input-disabled[data-v-1d30cf0f]::placeholder,.input[data-v-1d30cf0f]:disabled::placeholder,.input[disabled][data-v-1d30cf0f]::placeholder{color:var(--fallback-bc,oklch(var(--bc)/var(--tw-placeholder-opacity)));--tw-placeholder-opacity: .2 }.input:has(>input[disabled])>input[disabled][data-v-1d30cf0f]{cursor:not-allowed}.input[data-v-1d30cf0f]::-webkit-date-and-time-value{text-align:inherit}.join[data-v-1d30cf0f]>:where(*:not(:first-child)):is(.btn){margin-inline-start:calc(var(--border-btn) * -1)}.mockup-browser .mockup-browser-toolbar .input[data-v-1d30cf0f]{position:relative;margin-left:auto;margin-right:auto;display:block;height:1.75rem;width:24rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;--tw-bg-opacity: 1;background-color:var(--fallback-b2,oklch(var(--b2)/var(--tw-bg-opacity)));padding-left:2rem;direction:ltr}.mockup-browser .mockup-browser-toolbar .input[data-v-1d30cf0f]:before{content:"";position:absolute;left:.5rem;top:50%;aspect-ratio:1 / 1;height:.75rem;--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-radius:9999px;border-width:2px;border-color:currentColor;opacity:.6}.mockup-browser .mockup-browser-toolbar .input[data-v-1d30cf0f]:after{content:"";position:absolute;left:1.25rem;top:50%;height:.5rem;--tw-translate-y: 25%;--tw-rotate: -45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-radius:9999px;border-width:1px;border-color:currentColor;opacity:.6}@keyframes modal-pop-1d30cf0f{0%{opacity:0}}@keyframes progress-loading-1d30cf0f{50%{background-position-x:-115%}}@keyframes radiomark-1d30cf0f{0%{box-shadow:0 0 0 12px var(--fallback-b1,oklch(var(--b1)/1)) inset,0 0 0 12px var(--fallback-b1,oklch(var(--b1)/1)) inset}50%{box-shadow:0 0 0 3px var(--fallback-b1,oklch(var(--b1)/1)) inset,0 0 0 3px var(--fallback-b1,oklch(var(--b1)/1)) inset}to{box-shadow:0 0 0 4px var(--fallback-b1,oklch(var(--b1)/1)) inset,0 0 0 4px var(--fallback-b1,oklch(var(--b1)/1)) inset}}@keyframes rating-pop-1d30cf0f{0%{transform:translateY(-.125em)}40%{transform:translateY(-.125em)}to{transform:translateY(0)}}.select-bordered[data-v-1d30cf0f]{border-color:var(--fallback-bc,oklch(var(--bc)/.2))}.select[data-v-1d30cf0f]:focus{box-shadow:none;border-color:var(--fallback-bc,oklch(var(--bc)/.2));outline-style:solid;outline-width:2px;outline-offset:2px;outline-color:var(--fallback-bc,oklch(var(--bc)/.2))}.select-disabled[data-v-1d30cf0f],.select[data-v-1d30cf0f]:disabled,.select[disabled][data-v-1d30cf0f]{cursor:not-allowed;--tw-border-opacity: 1;border-color:var(--fallback-b2,oklch(var(--b2)/var(--tw-border-opacity)));--tw-bg-opacity: 1;background-color:var(--fallback-b2,oklch(var(--b2)/var(--tw-bg-opacity)));color:var(--fallback-bc,oklch(var(--bc)/.4))}.select-disabled[data-v-1d30cf0f]::-moz-placeholder,.select[data-v-1d30cf0f]:disabled::-moz-placeholder,.select[disabled][data-v-1d30cf0f]::-moz-placeholder{color:var(--fallback-bc,oklch(var(--bc)/var(--tw-placeholder-opacity)));--tw-placeholder-opacity: .2 }.select-disabled[data-v-1d30cf0f]::placeholder,.select[data-v-1d30cf0f]:disabled::placeholder,.select[disabled][data-v-1d30cf0f]::placeholder{color:var(--fallback-bc,oklch(var(--bc)/var(--tw-placeholder-opacity)));--tw-placeholder-opacity: .2 }.select-multiple[data-v-1d30cf0f],.select[multiple][data-v-1d30cf0f],.select[size].select[data-v-1d30cf0f]:not([size="1"]){background-image:none;padding-right:1rem}[dir=rtl] .select[data-v-1d30cf0f]{background-position:calc(0% + 12px) calc(1px + 50%),calc(0% + 16px) calc(1px + 50%)}@keyframes skeleton-1d30cf0f{0%{background-position:150%}to{background-position:-50%}}@keyframes toast-pop-1d30cf0f{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.btn-sm[data-v-1d30cf0f]{height:2rem;min-height:2rem;padding-left:.75rem;padding-right:.75rem;font-size:.875rem}.btn-square[data-v-1d30cf0f]:where(.btn-sm){height:2rem;width:2rem;padding:0}.btn-circle[data-v-1d30cf0f]:where(.btn-sm){height:2rem;width:2rem;border-radius:9999px;padding:0}.select-sm[data-v-1d30cf0f]{height:2rem;min-height:2rem;padding-left:.75rem;padding-right:2rem;font-size:.875rem;line-height:2rem}[dir=rtl] .select-sm[data-v-1d30cf0f]{padding-left:2rem;padding-right:.75rem}.join.join-vertical[data-v-1d30cf0f]>:where(*:not(:first-child)):is(.btn){margin-top:calc(var(--border-btn) * -1)}.join.join-horizontal[data-v-1d30cf0f]>:where(*:not(:first-child)):is(.btn){margin-inline-start:calc(var(--border-btn) * -1)}.float-right[data-v-1d30cf0f]{float:right}.mx-auto[data-v-1d30cf0f]{margin-left:auto;margin-right:auto}.mb-2[data-v-1d30cf0f]{margin-bottom:.5rem}.mb-4[data-v-1d30cf0f]{margin-bottom:1rem}.ml-2[data-v-1d30cf0f]{margin-left:.5rem}.block[data-v-1d30cf0f]{display:block}.inline-block[data-v-1d30cf0f]{display:inline-block}.flex[data-v-1d30cf0f]{display:flex}.w-full[data-v-1d30cf0f]{width:100%}.max-w-lg[data-v-1d30cf0f]{max-width:32rem}.max-w-xs[data-v-1d30cf0f]{max-width:20rem}.rounded-lg[data-v-1d30cf0f]{border-radius:.5rem}.border[data-v-1d30cf0f]{border-width:1px}.border-gray-300[data-v-1d30cf0f]{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.bg-blue-500[data-v-1d30cf0f]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-300[data-v-1d30cf0f]{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-green-500[data-v-1d30cf0f]{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.p-2[data-v-1d30cf0f]{padding:.5rem}.p-4[data-v-1d30cf0f]{padding:1rem}.px-4[data-v-1d30cf0f]{padding-left:1rem;padding-right:1rem}.py-2[data-v-1d30cf0f]{padding-top:.5rem;padding-bottom:.5rem}.text-center[data-v-1d30cf0f]{text-align:center}.text-right[data-v-1d30cf0f]{text-align:right}.text-xl[data-v-1d30cf0f]{font-size:1.25rem;line-height:1.75rem}.font-semibold[data-v-1d30cf0f]{font-weight:600}.text-black[data-v-1d30cf0f]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500[data-v-1d30cf0f]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700[data-v-1d30cf0f]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-white[data-v-1d30cf0f]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.shadow-md[data-v-1d30cf0f]{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:bg-blue-600[data-v-1d30cf0f]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-green-600[data-v-1d30cf0f]:hover{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.focus\\:outline-none[data-v-1d30cf0f]:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2[data-v-1d30cf0f]:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500[data-v-1d30cf0f]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity)) }.focus\\:ring-green-500[data-v-1d30cf0f]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(34 197 94 / var(--tw-ring-opacity)) }']],["__scopeId","data-v-1d30cf0f"]]);async function Cm({endpoint:t,method:e,params:n}){return st.call([{methodname:"local_teacheraide_openai_gateway",args:{endpoint:t,method:e,params:n}}])[0]}const vu=`${M.cfg.wwwroot}/webservice/restful/server.php/local_teacheraide_openai_gateway`,Pm=async(t,e)=>{const n=`${t}`.replace(vu,""),s=e==null?void 0:e.method,r=e==null?void 0:e.body,i=await Cm({endpoint:n,method:s,params:r});return new Response(i.data,{status:200,headers:{"Content-Type":"application/json"}})};async function Am({systemPrompt:t}){const e=new ce({baseURL:vu,apiKey:"dummy",dangerouslyAllowBrowser:!0,fetch:Pm}),n=Og({client:e,systemPrompt:t});customElements.define("teacheraide-simple-chat",$h(Sm,{configureApp:n}))}mt.init=Am,Object.defineProperty(mt,Symbol.toStringTag,{value:"Module"})});
