var f0=Object.defineProperty;var h0=(wt,ot,Gt)=>ot in wt?f0(wt,ot,{enumerable:!0,configurable:!0,writable:!0,value:Gt}):wt[ot]=Gt;var Z=(wt,ot,Gt)=>h0(wt,typeof ot!="symbol"?ot+"":ot,Gt);define(["exports","core/ajax"],function(wt,ot){"use strict";/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gt(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const Iu={},Ou=()=>{},d0=Object.assign,Fu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Lu=Object.prototype.hasOwnProperty,qr=(t,e)=>Lu.call(t,e),bt=Array.isArray,wn=t=>fs(t)==="[object Map]",ju=t=>fs(t)==="[object Set]",Kr=t=>typeof t=="function",Du=t=>typeof t=="string",bn=t=>typeof t=="symbol",yn=t=>t!==null&&typeof t=="object",Bu=Object.prototype.toString,fs=t=>Bu.call(t),Nu=t=>fs(t).slice(8,-1),Hu=t=>fs(t)==="[object Object]",Gr=t=>Du(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yt=(t,e)=>!Object.is(t,e),Vu=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})};/**
* @vue/reactivity v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ce;class Do{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!e&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){if(this._isPaused=!0,this.scopes)for(let e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(let e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){if(this._isPaused=!1,this.scopes)for(let e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(let e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ce;try{return Ce=this,e()}finally{Ce=n}}}on(){Ce=this}off(){Ce=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Bo(t){return new Do(t)}function No(){return Ce}function Uu(t,e=!1){Ce&&Ce.cleanups.push(t)}let re;const Jr=new WeakSet;class Ho{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Jr.has(this)&&(Jr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=xn,xn=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qo(this),Vo(this);const e=re,n=We;re=this,We=!0;try{return this.fn()}finally{Uo(this),re=e,We=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yr(e);this.deps=this.depsTail=void 0,qo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Jr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qr(this)&&this.run()}get dirty(){return Qr(this)}}let hs=0,xn;function Xr(){hs++}function Zr(){if(hs>1){hs--;return}hs--;let t;for(;xn;){let e=xn;for(xn=void 0;e;){const n=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Vo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Uo(t){let e,n=t.depsTail;for(let s=n;s;s=s.prevDep)s.version===-1?(s===n&&(n=s.prevDep),Yr(s),zu(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0;t.deps=e,t.depsTail=n}function Qr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&zo(e.dep.computed)===!1||e.dep.version!==e.version)return!0;return!!t._dirty}function zo(t){if(t.flags&2)return!1;if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===vn))return;t.globalVersion=vn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&!Qr(t)){t.flags&=-3;return}const n=re,s=We;re=t,We=!0;try{Vo(t);const r=t.fn();(e.version===0||yt(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{re=n,We=s,Uo(t),t.flags&=-3}}function Yr(t){const{dep:e,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)Yr(r)}}function zu(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let We=!0;const Wo=[];function at(){Wo.push(We),We=!1}function lt(){const t=Wo.pop();We=t===void 0?!0:t}function qo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=re;re=void 0;try{e()}finally{re=n}}}let vn=0;class ei{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!re||!We)return;let n=this.activeLink;if(n===void 0||n.sub!==re)n=this.activeLink={dep:this,sub:re,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},re.deps?(n.prevDep=re.depsTail,re.depsTail.nextDep=n,re.depsTail=n):re.deps=re.depsTail=n,re.flags&4&&Ko(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=re.depsTail,n.nextDep=void 0,re.depsTail.nextDep=n,re.depsTail=n,re.deps===n&&(re.deps=s)}return n}trigger(e){this.version++,vn++,this.notify(e)}notify(e){Xr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{Zr()}}}function Ko(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Ko(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const ds=new WeakMap,Rt=Symbol(""),ti=Symbol(""),Cn=Symbol("");function we(t,e,n){if(We&&re){let s=ds.get(t);s||ds.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=new ei),r.track()}}function ct(t,e,n,s,r,i){const o=ds.get(t);if(!o){vn++;return}let a=[];if(e==="clear")a=[...o.values()];else{const l=bt(t),u=l&&Gr(n);if(l&&n==="length"){const c=Number(s);o.forEach((h,p)=>{(p==="length"||p===Cn||!bn(p)&&p>=c)&&a.push(h)})}else{const c=h=>h&&a.push(h);switch(n!==void 0&&c(o.get(n)),u&&c(o.get(Cn)),e){case"add":l?u&&c(o.get("length")):(c(o.get(Rt)),wn(t)&&c(o.get(ti)));break;case"delete":l||(c(o.get(Rt)),wn(t)&&c(o.get(ti)));break;case"set":wn(t)&&c(o.get(Rt));break}}}Xr();for(const l of a)l.trigger();Zr()}function Wu(t,e){var n;return(n=ds.get(t))==null?void 0:n.get(e)}function Jt(t){const e=G(t);return e===t?e:(we(e,"iterate",Cn),qe(t)?e:e.map(be))}function ps(t){return we(t=G(t),"iterate",Cn),t}const qu={__proto__:null,[Symbol.iterator](){return ni(this,Symbol.iterator,be)},concat(...t){return Jt(this).concat(...t.map(e=>Jt(e)))},entries(){return ni(this,"entries",t=>(t[1]=be(t[1]),t))},every(t,e){return ut(this,"every",t,e,void 0,arguments)},filter(t,e){return ut(this,"filter",t,e,n=>n.map(be),arguments)},find(t,e){return ut(this,"find",t,e,be,arguments)},findIndex(t,e){return ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ut(this,"findLast",t,e,be,arguments)},findLastIndex(t,e){return ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return si(this,"includes",t)},indexOf(...t){return si(this,"indexOf",t)},join(t){return Jt(this).join(t)},lastIndexOf(...t){return si(this,"lastIndexOf",t)},map(t,e){return ut(this,"map",t,e,void 0,arguments)},pop(){return kn(this,"pop")},push(...t){return kn(this,"push",t)},reduce(t,...e){return Go(this,"reduce",t,e)},reduceRight(t,...e){return Go(this,"reduceRight",t,e)},shift(){return kn(this,"shift")},some(t,e){return ut(this,"some",t,e,void 0,arguments)},splice(...t){return kn(this,"splice",t)},toReversed(){return Jt(this).toReversed()},toSorted(t){return Jt(this).toSorted(t)},toSpliced(...t){return Jt(this).toSpliced(...t)},unshift(...t){return kn(this,"unshift",t)},values(){return ni(this,"values",be)}};function ni(t,e,n){const s=ps(t),r=s[e]();return s!==t&&!qe(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Ku=Array.prototype;function ut(t,e,n,s,r,i){const o=ps(t),a=o!==t&&!qe(t),l=o[e];if(l!==Ku[e]){const h=l.apply(o,i);return a?be(h):h}let u=n;o!==t&&(a?u=function(h,p){return n.call(this,be(h),p,t)}:n.length>2&&(u=function(h,p){return n.call(this,h,p,t)}));const c=l.call(o,u,s);return a&&r?r(c):c}function Go(t,e,n,s){const r=ps(t);let i=n;return r!==t&&(qe(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,be(a),l,t)}),r[e](i,...s)}function si(t,e,n){const s=G(t);we(s,"iterate",Cn);const r=s[e](...n);return(r===-1||r===!1)&&ii(n[0])?(n[0]=G(n[0]),s[e](...n)):r}function kn(t,e,n=[]){at(),Xr();const s=G(t)[e].apply(t,n);return Zr(),lt(),s}const Gu=Gt("__proto__,__v_isRef,__isVue"),Jo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bn));function Ju(t){bn(t)||(t=String(t));const e=G(this);return we(e,"has",t),e.hasOwnProperty(t)}class Xo{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?oa:ia:i?ra:sa).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=bt(e);if(!r){let l;if(o&&(l=qu[n]))return l;if(n==="hasOwnProperty")return Ju}const a=Reflect.get(e,n,ce(e)?e:s);return(bn(n)?Jo.has(n):Gu(n))||(r||we(e,"get",n),i)?a:ce(a)?o&&Gr(n)?a:a.value:yn(a)?r?aa(a):Sn(a):a}}class Zo extends Xo{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=$t(i);if(!qe(s)&&!$t(s)&&(i=G(i),s=G(s)),!bt(e)&&ce(i)&&!ce(s))return l?!1:(i.value=s,!0)}const o=bt(e)&&Gr(n)?Number(n)<e.length:qr(e,n),a=Reflect.set(e,n,s,r);return e===G(r)&&(o?yt(s,i)&&ct(e,"set",n,s):ct(e,"add",n,s)),a}deleteProperty(e,n){const s=qr(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ct(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!bn(n)||!Jo.has(n))&&we(e,"has",n),s}ownKeys(e){return we(e,"iterate",bt(e)?"length":Rt),Reflect.ownKeys(e)}}class Qo extends Xo{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Xu=new Zo,Zu=new Qo,Qu=new Zo(!0),Yu=new Qo(!0),ri=t=>t,gs=t=>Reflect.getPrototypeOf(t);function ms(t,e,n=!1,s=!1){t=t.__v_raw;const r=G(t),i=G(e);n||(yt(e,i)&&we(r,"get",e),we(r,"get",i));const{has:o}=gs(r),a=s?ri:n?ai:be;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function _s(t,e=!1){const n=this.__v_raw,s=G(n),r=G(t);return e||(yt(t,r)&&we(s,"has",t),we(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ws(t,e=!1){return t=t.__v_raw,!e&&we(G(t),"iterate",Rt),Reflect.get(t,"size",t)}function Yo(t,e=!1){!e&&!qe(t)&&!$t(t)&&(t=G(t));const n=G(this);return gs(n).has.call(n,t)||(n.add(t),ct(n,"add",t,t)),this}function ea(t,e,n=!1){!n&&!qe(e)&&!$t(e)&&(e=G(e));const s=G(this),{has:r,get:i}=gs(s);let o=r.call(s,t);o||(t=G(t),o=r.call(s,t));const a=i.call(s,t);return s.set(t,e),o?yt(e,a)&&ct(s,"set",t,e):ct(s,"add",t,e),this}function ta(t){const e=G(this),{has:n,get:s}=gs(e);let r=n.call(e,t);r||(t=G(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&ct(e,"delete",t,void 0),i}function na(){const t=G(this),e=t.size!==0,n=t.clear();return e&&ct(t,"clear",void 0,void 0),n}function bs(t,e){return function(s,r){const i=this,o=i.__v_raw,a=G(o),l=e?ri:t?ai:be;return!t&&we(a,"iterate",Rt),o.forEach((u,c)=>s.call(r,l(u),l(c),i))}}function ys(t,e,n){return function(...s){const r=this.__v_raw,i=G(r),o=wn(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...s),c=n?ri:e?ai:be;return!e&&we(i,"iterate",l?ti:Rt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function xt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ef(){const t={get(i){return ms(this,i)},get size(){return ws(this)},has:_s,add:Yo,set:ea,delete:ta,clear:na,forEach:bs(!1,!1)},e={get(i){return ms(this,i,!1,!0)},get size(){return ws(this)},has:_s,add(i){return Yo.call(this,i,!0)},set(i,o){return ea.call(this,i,o,!0)},delete:ta,clear:na,forEach:bs(!1,!0)},n={get(i){return ms(this,i,!0)},get size(){return ws(this,!0)},has(i){return _s.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:bs(!0,!1)},s={get(i){return ms(this,i,!0,!0)},get size(){return ws(this,!0)},has(i){return _s.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:bs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ys(i,!1,!1),n[i]=ys(i,!0,!1),e[i]=ys(i,!1,!0),s[i]=ys(i,!0,!0)}),[t,n,e,s]}const[tf,nf,sf,rf]=ef();function xs(t,e){const n=e?t?rf:sf:t?nf:tf;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(qr(n,r)&&r in s?n:s,r,i)}const of={get:xs(!1,!1)},af={get:xs(!1,!0)},lf={get:xs(!0,!1)},cf={get:xs(!0,!0)},sa=new WeakMap,ra=new WeakMap,ia=new WeakMap,oa=new WeakMap;function uf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ff(t){return t.__v_skip||!Object.isExtensible(t)?0:uf(Nu(t))}function Sn(t){return $t(t)?t:vs(t,!1,Xu,of,sa)}function hf(t){return vs(t,!1,Qu,af,ra)}function aa(t){return vs(t,!0,Zu,lf,ia)}function p0(t){return vs(t,!0,Yu,cf,oa)}function vs(t,e,n,s,r){if(!yn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=ff(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function vt(t){return $t(t)?vt(t.__v_raw):!!(t&&t.__v_isReactive)}function $t(t){return!!(t&&t.__v_isReadonly)}function qe(t){return!!(t&&t.__v_isShallow)}function ii(t){return t?!!t.__v_raw:!1}function G(t){const e=t&&t.__v_raw;return e?G(e):t}function oi(t){return Object.isExtensible(t)&&Vu(t,"__v_skip",!0),t}const be=t=>yn(t)?Sn(t):t,ai=t=>yn(t)?aa(t):t;function ce(t){return t?t.__v_isRef===!0:!1}function Ae(t){return df(t,!1)}function df(t,e){return ce(t)?t:new pf(t,e)}class pf{constructor(e,n){this.dep=new ei,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:G(e),this._value=n?e:be(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||qe(e)||$t(e);e=s?e:G(e),yt(e,n)&&(this._rawValue=e,this._value=s?e:be(e),this.dep.trigger())}}function Mt(t){return ce(t)?t.value:t}const gf={get:(t,e,n)=>Mt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return ce(r)&&!ce(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function la(t){return vt(t)?t:new Proxy(t,gf)}function mf(t){const e=bt(t)?new Array(t.length):{};for(const n in t)e[n]=wf(t,n);return e}class _f{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Wu(G(this._object),this._key)}}function wf(t,e,n){const s=t[e];return ce(s)?s:new _f(t,e,n)}class bf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ei(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vn-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){re!==this&&(this.flags|=16,this.dep.notify())}get value(){const e=this.dep.track();return zo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function yf(t,e,n=!1){let s,r;return Kr(t)?s=t:(s=t.get,r=t.set),new bf(s,r,n)}const Cs={},ks=new WeakMap;let Tt;function xf(t,e=!1,n=Tt){if(n){let s=ks.get(n);s||ks.set(n,s=[]),s.push(t)}}function vf(t,e,n=Iu){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,u=g=>r?g:qe(g)||r===!1||r===0?ft(g,1):ft(g);let c,h,p,_,E=!1,y=!1;if(ce(t)?(h=()=>t.value,E=qe(t)):vt(t)?(h=()=>u(t),E=!0):bt(t)?(y=!0,E=t.some(g=>vt(g)||qe(g)),h=()=>t.map(g=>{if(ce(g))return g.value;if(vt(g))return u(g);if(Kr(g))return l?l(g,2):g()})):Kr(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){at();try{p()}finally{lt()}}const g=Tt;Tt=c;try{return l?l(t,3,[_]):t(_)}finally{Tt=g}}:h=Ou,e&&r){const g=h,R=r===!0?1/0:r;h=()=>ft(g(),R)}if(i)if(e){const g=e;e=(...R)=>{g(...R),c.stop()}}else{const g=h;h=()=>{g(),c.stop()}}let k=y?new Array(t.length).fill(Cs):Cs;const L=g=>{if(!(!(c.flags&1)||!c.dirty&&!g))if(e){const R=c.run();if(r||E||(y?R.some((H,D)=>yt(H,k[D])):yt(R,k))){p&&p();const H=Tt;Tt=c;try{const D=[R,k===Cs?void 0:y&&k[0]===Cs?[]:k,_];l?l(e,3,D):e(...D),k=R}finally{Tt=H}}}else c.run()};a&&a(L),c=new Ho(h),c.scheduler=o?()=>o(L,!1):L,_=g=>xf(g,!1,c),p=c.onStop=()=>{const g=ks.get(c);if(g){if(l)l(g,4);else for(const R of g)R();ks.delete(c)}},e?s?L(!0):k=c.run():o?o(L.bind(null,!0),!0):c.run();const S=No(),w=()=>{c.stop(),S&&Fu(S.effects,c)};return w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function ft(t,e=1/0,n){if(e<=0||!yn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ce(t))ft(t.value,e,n);else if(bt(t))for(let s=0;s<t.length;s++)ft(t[s],e,n);else if(ju(t)||wn(t))t.forEach(s=>{ft(s,e,n)});else if(Hu(t)){for(const s in t)ft(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ft(t[s],e,n)}return t}/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cf(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const ae={},Xt=[],ht=()=>{},kf=()=>!1,li=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ca=t=>t.startsWith("onUpdate:"),ye=Object.assign,ua=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Sf=Object.prototype.hasOwnProperty,Q=(t,e)=>Sf.call(t,e),J=Array.isArray,Ef=t=>ci(t)==="[object Map]",Af=t=>ci(t)==="[object Set]",U=t=>typeof t=="function",ke=t=>typeof t=="string",fa=t=>typeof t=="symbol",pe=t=>t!==null&&typeof t=="object",ha=t=>(pe(t)||U(t))&&U(t.then)&&U(t.catch),da=Object.prototype.toString,ci=t=>da.call(t),Pf=t=>ci(t)==="[object Object]",En=Cf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ss=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Rf=/-(\w)/g,It=Ss(t=>t.replace(Rf,(e,n)=>n?n.toUpperCase():"")),$f=/\B([A-Z])/g,An=Ss(t=>t.replace($f,"-$1").toLowerCase()),Mf=Ss(t=>t.charAt(0).toUpperCase()+t.slice(1)),ui=Ss(t=>t?`on${Mf(t)}`:""),fi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Tf=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},If=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pa;const ga=()=>pa||(pa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hi(t){if(J(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ke(s)?jf(s):hi(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(ke(t)||pe(t))return t}const Of=/;(?![^(]*\))/g,Ff=/:([^]+)/,Lf=/\/\*[^]*?\*\//g;function jf(t){const e={};return t.replace(Lf,"").split(Of).forEach(n=>{if(n){const s=n.split(Ff);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Pn(t){let e="";if(ke(t))e=t;else if(J(t))for(let n=0;n<t.length;n++){const s=Pn(t[n]);s&&(e+=s+" ")}else if(pe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ma=t=>!!(t&&t.__v_isRef===!0),Ot=t=>ke(t)?t:t==null?"":J(t)||pe(t)&&(t.toString===da||!U(t.toString))?ma(t)?Ot(t.value):JSON.stringify(t,_a,2):String(t),_a=(t,e)=>ma(e)?_a(t,e.value):Ef(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[di(s,i)+" =>"]=r,n),{})}:Af(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>di(n))}:fa(e)?di(e):pe(e)&&!J(e)&&!Pf(e)?String(e):e,di=(t,e="")=>{var n;return fa(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/runtime-core v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Rn=[];let pi=!1;function g0(t,...e){if(pi)return;pi=!0,at();const n=Rn.length?Rn[Rn.length-1].component:null,s=n&&n.appContext.config.warnHandler,r=Df();if(s)Zt(s,n,11,[t+e.map(i=>{var o,a;return(a=(o=i.toString)==null?void 0:o.call(i))!=null?a:JSON.stringify(i)}).join(""),n&&n.proxy,r.map(({vnode:i})=>`at <${ul(n,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${t}`,...e];r.length&&i.push(`
`,...Bf(r)),console.warn(...i)}lt(),pi=!1}function Df(){let t=Rn[Rn.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const s=t.component&&t.component.parent;t=s&&s.vnode}return e}function Bf(t){const e=[];return t.forEach((n,s)=>{e.push(...s===0?[]:[`
`],...Nf(n))}),e}function Nf({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",s=t.component?t.component.parent==null:!1,r=` at <${ul(t.component,t.type,s)}`,i=">"+n;return t.props?[r,...Hf(t.props),i]:[r+i]}function Hf(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(s=>{e.push(...wa(s,t[s]))}),n.length>3&&e.push(" ..."),e}function wa(t,e,n){return ke(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:ce(e)?(e=wa(t,G(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):U(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=G(e),n?e:[`${t}=`,e])}function Zt(t,e,n,s){try{return s?t(...s):t()}catch(r){Es(r,e,n)}}function Ye(t,e,n,s){if(U(t)){const r=Zt(t,e,n,s);return r&&ha(r)&&r.catch(i=>{Es(i,e,n)}),r}if(J(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Ye(t[i],e,n,s));return r}}function Es(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ae;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){at(),Zt(i,null,10,[t,l,u]),lt();return}}Vf(t,n,r,s,o)}function Vf(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}let $n=!1,gi=!1;const Me=[];let Ft=0;const Qt=[];let Ct=null,Yt=0;const ba=Promise.resolve();let mi=null;function _i(t){const e=mi||ba;return t?e.then(this?t.bind(this):t):e}function Uf(t){let e=$n?Ft+1:0,n=Me.length;for(;e<n;){const s=e+n>>>1,r=Me[s],i=Mn(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function wi(t){if(!(t.flags&1)){const e=Mn(t),n=Me[Me.length-1];!n||!(t.flags&2)&&e>=Mn(n)?Me.push(t):Me.splice(Uf(e),0,t),t.flags&4||(t.flags|=1),ya()}}function ya(){!$n&&!gi&&(gi=!0,mi=ba.then(Ca))}function zf(t){J(t)?Qt.push(...t):Ct&&t.id===-1?Ct.splice(Yt+1,0,t):t.flags&1||(Qt.push(t),t.flags&4||(t.flags|=1)),ya()}function xa(t,e,n=$n?Ft+1:0){for(;n<Me.length;n++){const s=Me[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Me.splice(n,1),n--,s(),s.flags&=-2}}}function va(t){if(Qt.length){const e=[...new Set(Qt)].sort((n,s)=>Mn(n)-Mn(s));if(Qt.length=0,Ct){Ct.push(...e);return}for(Ct=e,Yt=0;Yt<Ct.length;Yt++){const n=Ct[Yt];n.flags&8||n(),n.flags&=-2}Ct=null,Yt=0}}const Mn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ca(t){gi=!1,$n=!0;try{for(Ft=0;Ft<Me.length;Ft++){const e=Me[Ft];e&&!(e.flags&8)&&(Zt(e,e.i,e.i?15:14),e.flags&=-2)}}finally{Ft=0,Me.length=0,va(),$n=!1,mi=null,(Me.length||Qt.length)&&Ca()}}let Te=null,ka=null;function As(t){const e=Te;return Te=t,ka=t&&t.type.__scopeId||null,e}function Wf(t,e=Te,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&tl(-1);const i=As(e);let o;try{o=t(...r)}finally{As(i),s._d&&tl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ps(t,e){if(Te===null)return t;const n=js(Te),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=ae]=e[r];i&&(U(i)&&(i={mounted:i,updated:i}),i.deep&&ft(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Lt(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(at(),Ye(l,n,8,[t.el,a,t,e]),lt())}}const qf=Symbol("_vte"),Kf=t=>t.__isTeleport;function Sa(t,e){t.shapeFlag&6&&t.component?Sa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Tn(t,e){return U(t)?ye({name:t.name},e,{setup:t}):t}function Ea(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function bi(t,e,n,s,r=!1){if(J(t)){t.forEach((p,_)=>bi(p,e&&(J(e)?e[_]:e),n,s,r));return}if(In(s)&&!r)return;const i=s.shapeFlag&4?js(s.component):s.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ae?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(ke(u)?(c[u]=null,Q(h,u)&&(h[u]=null)):ce(u)&&(u.value=null)),U(l))Zt(l,a,12,[o,c]);else{const p=ke(l),_=ce(l);if(p||_){const E=()=>{if(t.f){const y=p?Q(h,l)?h[l]:c[l]:l.value;r?J(y)&&ua(y,i):J(y)?y.includes(i)||y.push(i):p?(c[l]=[i],Q(h,l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else p?(c[l]=o,Q(h,l)&&(h[l]=o)):_&&(l.value=o,t.k&&(c[t.k]=o))};o?(E.id=-1,Ie(E,n)):E()}}}const In=t=>!!t.type.__asyncLoader,Aa=t=>t.type.__isKeepAlive;function Gf(t,e){Pa(t,"a",e)}function Jf(t,e){Pa(t,"da",e)}function Pa(t,e,n=xe){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Rs(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Aa(r.parent.vnode)&&Xf(s,e,n,r),r=r.parent}}function Xf(t,e,n,s){const r=Rs(e,t,s,!0);$a(()=>{ua(s[e],r)},n)}function Rs(t,e,n=xe,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{at();const a=Bn(n),l=Ye(e,n,t,o);return a(),lt(),l});return s?r.unshift(i):r.push(i),i}}const dt=t=>(e,n=xe)=>{(!Ls||t==="sp")&&Rs(t,(...s)=>e(...s),n)},Zf=dt("bm"),Ra=dt("m"),Qf=dt("bu"),Yf=dt("u"),eh=dt("bum"),$a=dt("um"),th=dt("sp"),nh=dt("rtg"),sh=dt("rtc");function rh(t,e=xe){Rs("ec",t,e)}const ih=Symbol.for("v-ndc");function yi(t,e,n,s){let r;const i=n,o=J(t);if(o||ke(t)){const a=o&&vt(t);a&&(t=ps(t)),r=new Array(t.length);for(let l=0,u=t.length;l<u;l++)r[l]=e(a?be(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(pe(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const xi=t=>t?ol(t)?js(t):xi(t.parent):null,On=ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xi(t.parent),$root:t=>xi(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ki(t),$forceUpdate:t=>t.f||(t.f=()=>{wi(t.update)}),$nextTick:t=>t.n||(t.n=_i.bind(t.proxy)),$watch:t=>Ph.bind(t)}),vi=(t,e)=>t!==ae&&!t.__isScriptSetup&&Q(t,e),oh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(vi(s,e))return o[e]=1,s[e];if(r!==ae&&Q(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&Q(u,e))return o[e]=3,i[e];if(n!==ae&&Q(n,e))return o[e]=4,n[e];Ci&&(o[e]=0)}}const c=On[e];let h,p;if(c)return e==="$attrs"&&we(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ae&&Q(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Q(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return vi(r,e)?(r[e]=n,!0):s!==ae&&Q(s,e)?(s[e]=n,!0):Q(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==ae&&Q(t,o)||vi(e,o)||(a=i[0])&&Q(a,o)||Q(s,o)||Q(On,o)||Q(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Q(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ma(t){return J(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ci=!0;function ah(t){const e=ki(t),n=t.proxy,s=t.ctx;Ci=!1,e.beforeCreate&&Ta(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:_,updated:E,activated:y,deactivated:k,beforeDestroy:L,beforeUnmount:S,destroyed:w,unmounted:g,render:R,renderTracked:H,renderTriggered:D,errorCaptured:B,serverPrefetch:j,expose:X,inheritAttrs:W,components:$e,directives:Pt,filters:as}=e;if(u&&lh(u,s,null),o)for(const q in o){const ie=o[q];U(ie)&&(s[q]=ie.bind(n))}if(r){const q=r.call(n,n);pe(q)&&(t.data=Sn(q))}if(Ci=!0,i)for(const q in i){const ie=i[q],qt=U(ie)?ie.bind(n,n):U(ie.get)?ie.get.bind(n,n):ht,zr=!U(ie)&&U(ie.set)?ie.set.bind(n):ht,Kt=Ii({get:qt,set:zr});Object.defineProperty(s,q,{enumerable:!0,configurable:!0,get:()=>Kt.value,set:rt=>Kt.value=rt})}if(a)for(const q in a)Ia(a[q],s,n,q);if(l){const q=U(l)?l.call(n):l;Reflect.ownKeys(q).forEach(ie=>{ph(ie,q[ie])})}c&&Ta(c,t,"c");function fe(q,ie){J(ie)?ie.forEach(qt=>q(qt.bind(n))):ie&&q(ie.bind(n))}if(fe(Zf,h),fe(Ra,p),fe(Qf,_),fe(Yf,E),fe(Gf,y),fe(Jf,k),fe(rh,B),fe(sh,H),fe(nh,D),fe(eh,S),fe($a,g),fe(th,j),J(X))if(X.length){const q=t.exposed||(t.exposed={});X.forEach(ie=>{Object.defineProperty(q,ie,{get:()=>n[ie],set:qt=>n[ie]=qt})})}else t.exposed||(t.exposed={});R&&t.render===ht&&(t.render=R),W!=null&&(t.inheritAttrs=W),$e&&(t.components=$e),Pt&&(t.directives=Pt),j&&Ea(t)}function lh(t,e,n=ht){J(t)&&(t=Si(t));for(const s in t){const r=t[s];let i;pe(r)?"default"in r?i=en(r.from||s,r.default,!0):i=en(r.from||s):i=en(r),ce(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Ta(t,e,n){Ye(J(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ia(t,e,n,s){let r=s.includes(".")?Za(n,s):()=>n[s];if(ke(t)){const i=e[t];U(i)&&Ms(r,i)}else if(U(t))Ms(r,t.bind(n));else if(pe(t))if(J(t))t.forEach(i=>Ia(i,e,n,s));else{const i=U(t.handler)?t.handler.bind(n):e[t.handler];U(i)&&Ms(r,i,t)}}function ki(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>$s(l,u,o,!0)),$s(l,e,o)),pe(e)&&i.set(e,l),l}function $s(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&$s(t,i,n,!0),r&&r.forEach(o=>$s(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=ch[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ch={data:Oa,props:Fa,emits:Fa,methods:Fn,computed:Fn,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:Fn,directives:Fn,watch:fh,provide:Oa,inject:uh};function Oa(t,e){return e?t?function(){return ye(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function uh(t,e){return Fn(Si(t),Si(e))}function Si(t){if(J(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Se(t,e){return t?[...new Set([].concat(t,e))]:e}function Fn(t,e){return t?ye(Object.create(null),t,e):e}function Fa(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:ye(Object.create(null),Ma(t),Ma(e??{})):e}function fh(t,e){if(!t)return e;if(!e)return t;const n=ye(Object.create(null),t);for(const s in e)n[s]=Se(t[s],e[s]);return n}function La(){return{app:null,config:{isNativeTag:kf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hh=0;function dh(t,e){return function(s,r=null){U(s)||(s=ye({},s)),r!=null&&!pe(r)&&(r=null);const i=La(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:hh++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Yh,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(u,...h)):U(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const _=u._ceVNode||Pe(s,r);return _.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),h&&e?e(_,c):t(_,c,p),l=!0,u._container=c,c.__vue_app__=u,js(_.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ye(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=jt;jt=u;try{return c()}finally{jt=h}}};return u}}let jt=null;function ph(t,e){if(xe){let n=xe.provides;const s=xe.parent&&xe.parent.provides;s===n&&(n=xe.provides=Object.create(s)),n[t]=e}}function en(t,e,n=!1){const s=xe||Te;if(s||jt){const r=jt?jt._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&U(e)?e.call(s&&s.proxy):e}}function gh(){return!!(xe||Te||jt)}const ja={},Da=()=>Object.create(ja),Ba=t=>Object.getPrototypeOf(t)===ja;function mh(t,e,n,s=!1){const r={},i=Da();t.propsDefaults=Object.create(null),Na(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:hf(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function _h(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=G(r),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(Ts(t.emitsOptions,p))continue;const _=e[p];if(l)if(Q(i,p))_!==i[p]&&(i[p]=_,u=!0);else{const E=It(p);r[E]=Ei(l,a,E,_,t,!1)}else _!==i[p]&&(i[p]=_,u=!0)}}}else{Na(t,e,r,i)&&(u=!0);let c;for(const h in a)(!e||!Q(e,h)&&((c=An(h))===h||!Q(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(r[h]=Ei(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!Q(e,h))&&(delete i[h],u=!0)}u&&ct(t.attrs,"set","")}function Na(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(En(l))continue;const u=e[l];let c;r&&Q(r,c=It(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ts(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=G(n),u=a||ae;for(let c=0;c<i.length;c++){const h=i[c];n[h]=Ei(r,l,h,u[h],t,!Q(u,h))}}return o}function Ei(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Q(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=Bn(r);s=u[n]=l.call(null,e),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===An(n))&&(s=!0))}return s}const wh=new WeakMap;function Ha(t,e,n=!1){const s=n?wh:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const c=h=>{l=!0;const[p,_]=Ha(h,e,!0);ye(o,p),_&&a.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return pe(t)&&s.set(t,Xt),Xt;if(J(i))for(let c=0;c<i.length;c++){const h=It(i[c]);Va(h)&&(o[h]=ae)}else if(i)for(const c in i){const h=It(c);if(Va(h)){const p=i[c],_=o[h]=J(p)||U(p)?{type:p}:ye({},p),E=_.type;let y=!1,k=!0;if(J(E))for(let L=0;L<E.length;++L){const S=E[L],w=U(S)&&S.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(k=!1)}else y=U(E)&&E.name==="Boolean";_[0]=y,_[1]=k,(y||Q(_,"default"))&&a.push(h)}}const u=[o,a];return pe(t)&&s.set(t,u),u}function Va(t){return t[0]!=="$"&&!En(t)}const Ua=t=>t[0]==="_"||t==="$stable",Ai=t=>J(t)?t.map(et):[et(t)],bh=(t,e,n)=>{if(e._n)return e;const s=Wf((...r)=>Ai(e(...r)),n);return s._c=!1,s},za=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ua(r))continue;const i=t[r];if(U(i))e[r]=bh(r,i,s);else if(i!=null){const o=Ai(i);e[r]=()=>o}}},Wa=(t,e)=>{const n=Ai(e);t.slots.default=()=>n},qa=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},yh=(t,e,n)=>{const s=t.slots=Da();if(t.vnode.shapeFlag&32){const r=e._;r?(qa(s,e,n),n&&Tf(s,"_",r,!0)):za(e,s)}else e&&Wa(t,e)},xh=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=ae;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:qa(r,e,n):(i=!e.$stable,za(e,r)),o=e}else e&&(Wa(t,e),o={default:1});if(i)for(const a in r)!Ua(a)&&o[a]==null&&delete r[a]},Ie=Fh;function vh(t){return Ch(t)}function Ch(t,e){const n=ga();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:_=ht,insertStaticContent:E}=t,y=(f,d,m,v=null,b=null,x=null,$=void 0,P=null,A=!!d.dynamicChildren)=>{if(f===d)return;f&&!Dn(f,d)&&(v=Wr(f),rt(f,b,x,!0),f=null),d.patchFlag===-2&&(A=!1,d.dynamicChildren=null);const{type:C,ref:N,shapeFlag:T}=d;switch(C){case Is:k(f,d,m,v);break;case Bt:L(f,d,m,v);break;case $i:f==null&&S(d,m,v,$);break;case Ve:$e(f,d,m,v,b,x,$,P,A);break;default:T&1?R(f,d,m,v,b,x,$,P,A):T&6?Pt(f,d,m,v,b,x,$,P,A):(T&64||T&128)&&C.process(f,d,m,v,b,x,$,P,A,cs)}N!=null&&b&&bi(N,f&&f.ref,x,d||f,!d)},k=(f,d,m,v)=>{if(f==null)s(d.el=a(d.children),m,v);else{const b=d.el=f.el;d.children!==f.children&&u(b,d.children)}},L=(f,d,m,v)=>{f==null?s(d.el=l(d.children||""),m,v):d.el=f.el},S=(f,d,m,v)=>{[f.el,f.anchor]=E(f.children,d,m,v,f.el,f.anchor)},w=({el:f,anchor:d},m,v)=>{let b;for(;f&&f!==d;)b=p(f),s(f,m,v),f=b;s(d,m,v)},g=({el:f,anchor:d})=>{let m;for(;f&&f!==d;)m=p(f),r(f),f=m;r(d)},R=(f,d,m,v,b,x,$,P,A)=>{d.type==="svg"?$="svg":d.type==="math"&&($="mathml"),f==null?H(d,m,v,b,x,$,P,A):j(f,d,b,x,$,P,A)},H=(f,d,m,v,b,x,$,P)=>{let A,C;const{props:N,shapeFlag:T,transition:F,dirs:V}=f;if(A=f.el=o(f.type,x,N&&N.is,N),T&8?c(A,f.children):T&16&&B(f.children,A,null,v,b,Pi(f,x),$,P),V&&Lt(f,null,v,"created"),D(A,f,f.scopeId,$,v),N){for(const oe in N)oe!=="value"&&!En(oe)&&i(A,oe,null,N[oe],x,v);"value"in N&&i(A,"value",null,N.value,x),(C=N.onVnodeBeforeMount)&&tt(C,v,f)}V&&Lt(f,null,v,"beforeMount");const K=kh(b,F);K&&F.beforeEnter(A),s(A,d,m),((C=N&&N.onVnodeMounted)||K||V)&&Ie(()=>{C&&tt(C,v,f),K&&F.enter(A),V&&Lt(f,null,v,"mounted")},b)},D=(f,d,m,v,b)=>{if(m&&_(f,m),v)for(let x=0;x<v.length;x++)_(f,v[x]);if(b){let x=b.subTree;if(d===x||el(x.type)&&(x.ssContent===d||x.ssFallback===d)){const $=b.vnode;D(f,$,$.scopeId,$.slotScopeIds,b.parent)}}},B=(f,d,m,v,b,x,$,P,A=0)=>{for(let C=A;C<f.length;C++){const N=f[C]=P?kt(f[C]):et(f[C]);y(null,N,d,m,v,b,x,$,P)}},j=(f,d,m,v,b,x,$)=>{const P=d.el=f.el;let{patchFlag:A,dynamicChildren:C,dirs:N}=d;A|=f.patchFlag&16;const T=f.props||ae,F=d.props||ae;let V;if(m&&Dt(m,!1),(V=F.onVnodeBeforeUpdate)&&tt(V,m,d,f),N&&Lt(d,f,m,"beforeUpdate"),m&&Dt(m,!0),(T.innerHTML&&F.innerHTML==null||T.textContent&&F.textContent==null)&&c(P,""),C?X(f.dynamicChildren,C,P,m,v,Pi(d,b),x):$||ie(f,d,P,null,m,v,Pi(d,b),x,!1),A>0){if(A&16)W(P,T,F,m,b);else if(A&2&&T.class!==F.class&&i(P,"class",null,F.class,b),A&4&&i(P,"style",T.style,F.style,b),A&8){const K=d.dynamicProps;for(let oe=0;oe<K.length;oe++){const te=K[oe],Be=T[te],Ee=F[te];(Ee!==Be||te==="value")&&i(P,te,Be,Ee,b,m)}}A&1&&f.children!==d.children&&c(P,d.children)}else!$&&C==null&&W(P,T,F,m,b);((V=F.onVnodeUpdated)||N)&&Ie(()=>{V&&tt(V,m,d,f),N&&Lt(d,f,m,"updated")},v)},X=(f,d,m,v,b,x,$)=>{for(let P=0;P<d.length;P++){const A=f[P],C=d[P],N=A.el&&(A.type===Ve||!Dn(A,C)||A.shapeFlag&70)?h(A.el):m;y(A,C,N,null,v,b,x,$,!0)}},W=(f,d,m,v,b)=>{if(d!==m){if(d!==ae)for(const x in d)!En(x)&&!(x in m)&&i(f,x,d[x],null,b,v);for(const x in m){if(En(x))continue;const $=m[x],P=d[x];$!==P&&x!=="value"&&i(f,x,P,$,b,v)}"value"in m&&i(f,"value",d.value,m.value,b)}},$e=(f,d,m,v,b,x,$,P,A)=>{const C=d.el=f?f.el:a(""),N=d.anchor=f?f.anchor:a("");let{patchFlag:T,dynamicChildren:F,slotScopeIds:V}=d;V&&(P=P?P.concat(V):V),f==null?(s(C,m,v),s(N,m,v),B(d.children||[],m,N,b,x,$,P,A)):T>0&&T&64&&F&&f.dynamicChildren?(X(f.dynamicChildren,F,m,b,x,$,P),(d.key!=null||b&&d===b.subTree)&&Ka(f,d,!0)):ie(f,d,m,N,b,x,$,P,A)},Pt=(f,d,m,v,b,x,$,P,A)=>{d.slotScopeIds=P,f==null?d.shapeFlag&512?b.ctx.activate(d,m,v,$,A):as(d,m,v,b,x,$,A):Ur(f,d,A)},as=(f,d,m,v,b,x,$)=>{const P=f.component=zh(f,v,b);if(Aa(f)&&(P.ctx.renderer=cs),Wh(P,!1,$),P.asyncDep){if(b&&b.registerDep(P,fe,$),!f.el){const A=P.subTree=Pe(Bt);L(null,A,d,m)}}else fe(P,f,d,m,b,x,$)},Ur=(f,d,m)=>{const v=d.component=f.component;if(Ih(f,d,m))if(v.asyncDep&&!v.asyncResolved){q(v,d,m);return}else v.next=d,v.update();else d.el=f.el,v.vnode=d},fe=(f,d,m,v,b,x,$)=>{const P=()=>{if(f.isMounted){let{next:T,bu:F,u:V,parent:K,vnode:oe}=f;{const Ne=Ga(f);if(Ne){T&&(T.el=oe.el,q(f,T,$)),Ne.asyncDep.then(()=>{f.isUnmounted||P()});return}}let te=T,Be;Dt(f,!1),T?(T.el=oe.el,q(f,T,$)):T=oe,F&&fi(F),(Be=T.props&&T.props.onVnodeBeforeUpdate)&&tt(Be,K,T,oe),Dt(f,!0);const Ee=Ri(f),Qe=f.subTree;f.subTree=Ee,y(Qe,Ee,h(Qe.el),Wr(Qe),f,b,x),T.el=Ee.el,te===null&&Oh(f,Ee.el),V&&Ie(V,b),(Be=T.props&&T.props.onVnodeUpdated)&&Ie(()=>tt(Be,K,T,oe),b)}else{let T;const{el:F,props:V}=d,{bm:K,m:oe,parent:te,root:Be,type:Ee}=f,Qe=In(d);if(Dt(f,!1),K&&fi(K),!Qe&&(T=V&&V.onVnodeBeforeMount)&&tt(T,te,d),Dt(f,!0),F&&$u){const Ne=()=>{f.subTree=Ri(f),$u(F,f.subTree,f,b,null)};Qe?Ee.__asyncHydrate(F,f,Ne):Ne()}else{Be.ce&&Be.ce._injectChildStyle(Ee);const Ne=f.subTree=Ri(f);y(null,Ne,m,v,f,b,x),d.el=Ne.el}if(oe&&Ie(oe,b),!Qe&&(T=V&&V.onVnodeMounted)){const Ne=d;Ie(()=>tt(T,te,Ne),b)}(d.shapeFlag&256||te&&In(te.vnode)&&te.vnode.shapeFlag&256)&&f.a&&Ie(f.a,b),f.isMounted=!0,d=m=v=null}};f.scope.on();const A=f.effect=new Ho(P);f.scope.off();const C=f.update=A.run.bind(A),N=f.job=A.runIfDirty.bind(A);N.i=f,N.id=f.uid,A.scheduler=()=>wi(N),Dt(f,!0),C()},q=(f,d,m)=>{d.component=f;const v=f.vnode.props;f.vnode=d,f.next=null,_h(f,d.props,v,m),xh(f,d.children,m),at(),xa(f),lt()},ie=(f,d,m,v,b,x,$,P,A=!1)=>{const C=f&&f.children,N=f?f.shapeFlag:0,T=d.children,{patchFlag:F,shapeFlag:V}=d;if(F>0){if(F&128){zr(C,T,m,v,b,x,$,P,A);return}else if(F&256){qt(C,T,m,v,b,x,$,P,A);return}}V&8?(N&16&&ls(C,b,x),T!==C&&c(m,T)):N&16?V&16?zr(C,T,m,v,b,x,$,P,A):ls(C,b,x,!0):(N&8&&c(m,""),V&16&&B(T,m,v,b,x,$,P,A))},qt=(f,d,m,v,b,x,$,P,A)=>{f=f||Xt,d=d||Xt;const C=f.length,N=d.length,T=Math.min(C,N);let F;for(F=0;F<T;F++){const V=d[F]=A?kt(d[F]):et(d[F]);y(f[F],V,m,null,b,x,$,P,A)}C>N?ls(f,b,x,!0,!1,T):B(d,m,v,b,x,$,P,A,T)},zr=(f,d,m,v,b,x,$,P,A)=>{let C=0;const N=d.length;let T=f.length-1,F=N-1;for(;C<=T&&C<=F;){const V=f[C],K=d[C]=A?kt(d[C]):et(d[C]);if(Dn(V,K))y(V,K,m,null,b,x,$,P,A);else break;C++}for(;C<=T&&C<=F;){const V=f[T],K=d[F]=A?kt(d[F]):et(d[F]);if(Dn(V,K))y(V,K,m,null,b,x,$,P,A);else break;T--,F--}if(C>T){if(C<=F){const V=F+1,K=V<N?d[V].el:v;for(;C<=F;)y(null,d[C]=A?kt(d[C]):et(d[C]),m,K,b,x,$,P,A),C++}}else if(C>F)for(;C<=T;)rt(f[C],b,x,!0),C++;else{const V=C,K=C,oe=new Map;for(C=K;C<=F;C++){const He=d[C]=A?kt(d[C]):et(d[C]);He.key!=null&&oe.set(He.key,C)}let te,Be=0;const Ee=F-K+1;let Qe=!1,Ne=0;const us=new Array(Ee);for(C=0;C<Ee;C++)us[C]=0;for(C=V;C<=T;C++){const He=f[C];if(Be>=Ee){rt(He,b,x,!0);continue}let it;if(He.key!=null)it=oe.get(He.key);else for(te=K;te<=F;te++)if(us[te-K]===0&&Dn(He,d[te])){it=te;break}it===void 0?rt(He,b,x,!0):(us[it-K]=C+1,it>=Ne?Ne=it:Qe=!0,y(He,d[it],m,null,b,x,$,P,A),Be++)}const Mu=Qe?Sh(us):Xt;for(te=Mu.length-1,C=Ee-1;C>=0;C--){const He=K+C,it=d[He],Tu=He+1<N?d[He+1].el:v;us[C]===0?y(null,it,m,Tu,b,x,$,P,A):Qe&&(te<0||C!==Mu[te]?Kt(it,m,Tu,2):te--)}}},Kt=(f,d,m,v,b=null)=>{const{el:x,type:$,transition:P,children:A,shapeFlag:C}=f;if(C&6){Kt(f.component.subTree,d,m,v);return}if(C&128){f.suspense.move(d,m,v);return}if(C&64){$.move(f,d,m,cs);return}if($===Ve){s(x,d,m);for(let T=0;T<A.length;T++)Kt(A[T],d,m,v);s(f.anchor,d,m);return}if($===$i){w(f,d,m);return}if(v!==2&&C&1&&P)if(v===0)P.beforeEnter(x),s(x,d,m),Ie(()=>P.enter(x),b);else{const{leave:T,delayLeave:F,afterLeave:V}=P,K=()=>s(x,d,m),oe=()=>{T(x,()=>{K(),V&&V()})};F?F(x,K,oe):oe()}else s(x,d,m)},rt=(f,d,m,v=!1,b=!1)=>{const{type:x,props:$,ref:P,children:A,dynamicChildren:C,shapeFlag:N,patchFlag:T,dirs:F,cacheIndex:V}=f;if(T===-2&&(b=!1),P!=null&&bi(P,null,m,f,!0),V!=null&&(d.renderCache[V]=void 0),N&256){d.ctx.deactivate(f);return}const K=N&1&&F,oe=!In(f);let te;if(oe&&(te=$&&$.onVnodeBeforeUnmount)&&tt(te,d,f),N&6)u0(f.component,m,v);else{if(N&128){f.suspense.unmount(m,v);return}K&&Lt(f,null,d,"beforeUnmount"),N&64?f.type.remove(f,d,m,cs,v):C&&!C.hasOnce&&(x!==Ve||T>0&&T&64)?ls(C,d,m,!1,!0):(x===Ve&&T&384||!b&&N&16)&&ls(A,d,m),v&&Au(f)}(oe&&(te=$&&$.onVnodeUnmounted)||K)&&Ie(()=>{te&&tt(te,d,f),K&&Lt(f,null,d,"unmounted")},m)},Au=f=>{const{type:d,el:m,anchor:v,transition:b}=f;if(d===Ve){c0(m,v);return}if(d===$i){g(f);return}const x=()=>{r(m),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:$,delayLeave:P}=b,A=()=>$(m,x);P?P(f.el,x,A):A()}else x()},c0=(f,d)=>{let m;for(;f!==d;)m=p(f),r(f),f=m;r(d)},u0=(f,d,m)=>{const{bum:v,scope:b,job:x,subTree:$,um:P,m:A,a:C}=f;Ja(A),Ja(C),v&&fi(v),b.stop(),x&&(x.flags|=8,rt($,f,d,m)),P&&Ie(P,d),Ie(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},ls=(f,d,m,v=!1,b=!1,x=0)=>{for(let $=x;$<f.length;$++)rt(f[$],d,m,v,b)},Wr=f=>{if(f.shapeFlag&6)return Wr(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),m=d&&d[qf];return m?p(m):d};let jo=!1;const Pu=(f,d,m)=>{f==null?d._vnode&&rt(d._vnode,null,null,!0):y(d._vnode||null,f,d,null,null,null,m),d._vnode=f,jo||(jo=!0,xa(),va(),jo=!1)},cs={p:y,um:rt,m:Kt,r:Au,mt:as,mc:B,pc:ie,pbc:X,n:Wr,o:t};let Ru,$u;return{render:Pu,hydrate:Ru,createApp:dh(Pu,Ru)}}function Pi({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Dt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function kh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ka(t,e,n=!1){const s=t.children,r=e.children;if(J(s)&&J(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=kt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Ka(o,a)),a.type===Is&&(a.el=o.el)}}function Sh(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Ga(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ga(e)}function Ja(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Eh=Symbol.for("v-scx"),Ah=()=>en(Eh);function Ms(t,e,n){return Xa(t,e,n)}function Xa(t,e,n=ae){const{immediate:s,deep:r,flush:i,once:o}=n,a=ye({},n);let l;if(Ls)if(i==="sync"){const p=Ah();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!e||s)a.once=!0;else return{stop:ht,resume:ht,pause:ht};const u=xe;a.call=(p,_,E)=>Ye(p,u,_,E);let c=!1;i==="post"?a.scheduler=p=>{Ie(p,u&&u.suspense)}:i!=="sync"&&(c=!0,a.scheduler=(p,_)=>{_?p():wi(p)}),a.augmentJob=p=>{e&&(p.flags|=4),c&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=vf(t,e,a);return l&&l.push(h),h}function Ph(t,e,n){const s=this.proxy,r=ke(t)?t.includes(".")?Za(s,t):()=>s[t]:t.bind(s,s);let i;U(e)?i=e:(i=e.handler,n=e);const o=Bn(this),a=Xa(r,i.bind(s),n);return o(),a}function Za(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Rh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${It(e)}Modifiers`]||t[`${An(e)}Modifiers`];function $h(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ae;let r=n;const i=e.startsWith("update:"),o=i&&Rh(s,e.slice(7));o&&(o.trim&&(r=n.map(c=>ke(c)?c.trim():c)),o.number&&(r=n.map(If)));let a,l=s[a=ui(e)]||s[a=ui(It(e))];!l&&i&&(l=s[a=ui(An(e))]),l&&Ye(l,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ye(u,t,6,r)}}function Qa(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!U(t)){const l=u=>{const c=Qa(u,e,!0);c&&(a=!0,ye(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(pe(t)&&s.set(t,null),null):(J(i)?i.forEach(l=>o[l]=null):ye(o,i),pe(t)&&s.set(t,o),o)}function Ts(t,e){return!t||!li(e)?!1:(e=e.slice(2).replace(/Once$/,""),Q(t,e[0].toLowerCase()+e.slice(1))||Q(t,An(e))||Q(t,e))}function m0(){}function Ri(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:_,ctx:E,inheritAttrs:y}=t,k=As(t);let L,S;try{if(n.shapeFlag&4){const g=r||s,R=g;L=et(u.call(R,g,c,h,_,p,E)),S=a}else{const g=e;L=et(g.length>1?g(h,{attrs:a,slots:o,emit:l}):g(h,null)),S=e.props?a:Mh(a)}}catch(g){Ln.length=0,Es(g,t,1),L=Pe(Bt)}let w=L;if(S&&y!==!1){const g=Object.keys(S),{shapeFlag:R}=w;g.length&&R&7&&(i&&g.some(ca)&&(S=Th(S,i)),w=tn(w,S,!1,!0))}return n.dirs&&(w=tn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),L=w,As(k),L}const Mh=t=>{let e;for(const n in t)(n==="class"||n==="style"||li(n))&&((e||(e={}))[n]=t[n]);return e},Th=(t,e)=>{const n={};for(const s in t)(!ca(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Ih(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Ya(s,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==s[p]&&!Ts(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ya(s,o,u):!0:!!o;return!1}function Ya(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ts(n,i))return!0}return!1}function Oh({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const el=t=>t.__isSuspense;function Fh(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):zf(t)}const Ve=Symbol.for("v-fgt"),Is=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),$i=Symbol.for("v-stc"),Ln=[];let Oe=null;function he(t=!1){Ln.push(Oe=t?null:[])}function Lh(){Ln.pop(),Oe=Ln[Ln.length-1]||null}let jn=1;function tl(t){jn+=t,t<0&&Oe&&(Oe.hasOnce=!0)}function nl(t){return t.dynamicChildren=jn>0?Oe||Xt:null,Lh(),jn>0&&Oe&&Oe.push(t),t}function ge(t,e,n,s,r,i){return nl(I(t,e,n,s,r,i,!0))}function sl(t,e,n,s,r){return nl(Pe(t,e,n,s,r,!0))}function jh(t){return t?t.__v_isVNode===!0:!1}function Dn(t,e){return t.type===e.type&&t.key===e.key}const rl=({key:t})=>t??null,Os=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ke(t)||ce(t)||U(t)?{i:Te,r:t,k:e,f:!!n}:t:null);function I(t,e=null,n=null,s=0,r=null,i=t===Ve?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rl(e),ref:e&&Os(e),scopeId:ka,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Te};return a?(Mi(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ke(n)?8:16),jn>0&&!o&&Oe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Oe.push(l),l}const Pe=Dh;function Dh(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===ih)&&(t=Bt),jh(t)){const a=tn(t,e,!0);return n&&Mi(a,n),jn>0&&!i&&Oe&&(a.shapeFlag&6?Oe[Oe.indexOf(t)]=a:Oe.push(a)),a.patchFlag=-2,a}if(Qh(t)&&(t=t.__vccOpts),e){e=Bh(e);let{class:a,style:l}=e;a&&!ke(a)&&(e.class=Pn(a)),pe(l)&&(ii(l)&&!J(l)&&(l=ye({},l)),e.style=hi(l))}const o=ke(t)?1:el(t)?128:Kf(t)?64:pe(t)?4:U(t)?2:0;return I(t,e,n,s,r,o,i,!0)}function Bh(t){return t?ii(t)||Ba(t)?ye({},t):t:null}function tn(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Hh(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&rl(u),ref:e&&e.ref?n&&i?J(i)?i.concat(Os(e)):[i,Os(e)]:Os(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ve?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&tn(t.ssContent),ssFallback:t.ssFallback&&tn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Sa(c,l.clone(c)),c}function Nh(t=" ",e=0){return Pe(Is,null,t,e)}function nn(t="",e=!1){return e?(he(),sl(Bt,null,t)):Pe(Bt,null,t)}function et(t){return t==null||typeof t=="boolean"?Pe(Bt):J(t)?Pe(Ve,null,t.slice()):typeof t=="object"?kt(t):Pe(Is,null,String(t))}function kt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:tn(t)}function Mi(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(J(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Mi(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Ba(e)?e._ctx=Te:r===3&&Te&&(Te.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:Te},n=32):(e=String(e),s&64?(n=16,e=[Nh(e)]):n=8);t.children=e,t.shapeFlag|=n}function Hh(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Pn([e.class,s.class]));else if(r==="style")e.style=hi([e.style,s.style]);else if(li(r)){const i=e[r],o=s[r];o&&i!==o&&!(J(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function tt(t,e,n,s=null){Ye(t,e,7,[n,s])}const Vh=La();let Uh=0;function zh(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Vh,i={uid:Uh++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Do(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ha(s,r),emitsOptions:Qa(s,r),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:s.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=$h.bind(null,i),t.ce&&t.ce(i),i}let xe=null,Fs,Ti;{const t=ga(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Fs=e("__VUE_INSTANCE_SETTERS__",n=>xe=n),Ti=e("__VUE_SSR_SETTERS__",n=>Ls=n)}const Bn=t=>{const e=xe;return Fs(t),t.scope.on(),()=>{t.scope.off(),Fs(e)}},il=()=>{xe&&xe.scope.off(),Fs(null)};function ol(t){return t.vnode.shapeFlag&4}let Ls=!1;function Wh(t,e=!1,n=!1){e&&Ti(e);const{props:s,children:r}=t.vnode,i=ol(t);mh(t,s,i,e),yh(t,r,n);const o=i?qh(t,e):void 0;return e&&Ti(!1),o}function qh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,oh);const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Gh(t):null,i=Bn(t);at();const o=Zt(s,t,0,[t.props,r]);if(lt(),i(),ha(o)){if(In(t)||Ea(t),o.then(il,il),e)return o.then(a=>{al(t,a,e)}).catch(a=>{Es(a,t,0)});t.asyncDep=o}else al(t,o,e)}else cl(t,e)}function al(t,e,n){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pe(e)&&(t.setupState=la(e)),cl(t,n)}let ll;function cl(t,e,n){const s=t.type;if(!t.render){if(!e&&ll&&!s.render){const r=s.template||ki(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,u=ye(ye({isCustomElement:i,delimiters:a},o),l);s.render=ll(r,u)}}t.render=s.render||ht}{const r=Bn(t);at();try{ah(t)}finally{lt(),r()}}}const Kh={get(t,e){return we(t,"get",""),t[e]}};function Gh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Kh),slots:t.slots,emit:t.emit,expose:e}}function js(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(la(oi(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in On)return On[n](t)},has(e,n){return n in e||n in On}})):t.proxy}const Jh=/(?:^|[-_])(\w)/g,Xh=t=>t.replace(Jh,e=>e.toUpperCase()).replace(/[-_]/g,"");function Zh(t,e=!0){return U(t)?t.displayName||t.name:t.name||e&&t.__name}function ul(t,e,n=!1){let s=Zh(e);if(!s&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(s=r[1])}if(!s&&t&&t.parent){const r=i=>{for(const o in i)if(i[o]===e)return o};s=r(t.components||t.parent.type.components)||r(t.appContext.components)}return s?Xh(s):n?"App":"Anonymous"}function Qh(t){return U(t)&&"__vccOpts"in t}const Ii=(t,e)=>yf(t,e,Ls),Yh="3.5.0-beta.3";/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ed(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const td=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),nd=t=>t.startsWith("onUpdate:"),Ds=Object.assign,sd=Object.prototype.hasOwnProperty,rd=(t,e)=>sd.call(t,e),Nn=Array.isArray,fl=t=>typeof t=="function",sn=t=>typeof t=="string",id=t=>typeof t=="symbol",od=Object.prototype.toString,ad=t=>od.call(t),hl=t=>ad(t)==="[object Object]",Oi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ld=/-(\w)/g,Fi=Oi(t=>t.replace(ld,(e,n)=>n?n.toUpperCase():"")),cd=/\B([A-Z])/g,St=Oi(t=>t.replace(cd,"-$1").toLowerCase()),ud=Oi(t=>t.charAt(0).toUpperCase()+t.slice(1)),fd=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},dl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},pl=t=>{const e=sn(t)?Number(t):NaN;return isNaN(e)?t:e},hd=ed("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function gl(t){return!!t||t===""}/**
* @vue/runtime-dom v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Li;const ml=typeof window<"u"&&window.trustedTypes;if(ml)try{Li=ml.createPolicy("vue",{createHTML:t=>t})}catch{}const dd=Li?t=>Li.createHTML(t):t=>t,pd="http://www.w3.org/2000/svg",gd="http://www.w3.org/1998/Math/MathML",pt=typeof document<"u"?document:null,_l=pt&&pt.createElement("template"),md={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?pt.createElementNS(pd,t):e==="mathml"?pt.createElementNS(gd,t):n?pt.createElement(t,{is:n}):pt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>pt.createTextNode(t),createComment:t=>pt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{_l.innerHTML=dd(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=_l.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},_d=Symbol("_vtc");function wd(t,e,n){const s=t[_d];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const wl=Symbol("_vod"),bd=Symbol("_vsh"),yd=Symbol(""),xd=/(^|;)\s*display\s*:/;function vd(t,e,n){const s=t.style,r=sn(n);let i=!1;if(n&&!r){if(e)if(sn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Bs(s,a,"")}else for(const o in e)n[o]==null&&Bs(s,o,"");for(const o in n)o==="display"&&(i=!0),Bs(s,o,n[o])}else if(r){if(e!==n){const o=s[yd];o&&(n+=";"+o),s.cssText=n,i=xd.test(n)}}else e&&t.removeAttribute("style");wl in t&&(t[wl]=i?s.display:"",t[bd]&&(s.display="none"))}const bl=/\s*!important$/;function Bs(t,e,n){if(Nn(n))n.forEach(s=>Bs(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Cd(t,e);bl.test(n)?t.setProperty(St(s),n.replace(bl,""),"important"):t[s]=n}}const yl=["Webkit","Moz","ms"],ji={};function Cd(t,e){const n=ji[e];if(n)return n;let s=It(e);if(s!=="filter"&&s in t)return ji[e]=s;s=ud(s);for(let r=0;r<yl.length;r++){const i=yl[r]+s;if(i in t)return ji[e]=i}return e}const xl="http://www.w3.org/1999/xlink";function vl(t,e,n,s,r,i=hd(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(xl,e.slice(6,e.length)):t.setAttributeNS(xl,e,n):n==null||i&&!gl(n)?t.removeAttribute(e):t.setAttribute(e,i?"":id(n)?String(n):n)}function kd(t,e,n,s){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=gl(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function rn(t,e,n,s){t.addEventListener(e,n,s)}function Sd(t,e,n,s){t.removeEventListener(e,n,s)}const Cl=Symbol("_vei");function Ed(t,e,n,s,r=null){const i=t[Cl]||(t[Cl]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Ad(e);if(s){const u=i[e]=$d(s,r);rn(t,a,u,l)}else o&&(Sd(t,a,o,l),i[e]=void 0)}}const kl=/(?:Once|Passive|Capture)$/;function Ad(t){let e;if(kl.test(t)){e={};let s;for(;s=t.match(kl);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):St(t.slice(2)),e]}let Di=0;const Pd=Promise.resolve(),Rd=()=>Di||(Pd.then(()=>Di=0),Di=Date.now());function $d(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ye(Md(s,n.value),e,5,[s])};return n.value=t,n.attached=Rd(),n}function Md(t,e){if(Nn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Sl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Td=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?wd(t,s,o):e==="style"?vd(t,n,s):td(e)?nd(e)||Ed(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Id(t,e,s,o))?(kd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&vl(t,e,s,o,i,e!=="value")):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),vl(t,e,s,o))};function Id(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Sl(e)&&fl(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Sl(e)&&sn(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!sn(n)))}const El={};/*! #__NO_SIDE_EFFECTS__ */function Od(t,e,n){const s=Tn(t,e);hl(s)&&Ds(s,e);class r extends Bi{constructor(o){super(s,o,n)}}return r.def=s,r}const Fd=typeof HTMLElement<"u"?HTMLElement:class{};class Bi extends Fd{constructor(e,n={},s=Tl){super(),this._def=e,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Tl?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Bi){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,_i(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance.ce=void 0,this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=s;let a;if(i&&!Nn(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=pl(this._props[l])),(a||(a=Object.create(null)))[Fi(l)]=!0)}this._numberProps=a,r&&this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>e(this._def=s,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)rd(this,s)||Object.defineProperty(this,s,{get:()=>Mt(n[s])})}_resolveProps(e){const{props:n}=e,s=Nn(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map(Fi))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let s=n?this.getAttribute(e):El;const r=Fi(e);n&&this._numberProps&&this._numberProps[r]&&(s=pl(s)),this._setProp(r,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,r=!1){n!==this._props[e]&&(n===El?delete this._props[e]:this._props[e]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(St(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(St(e),n+""):n||this.removeAttribute(St(e))))}_update(){Hd(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Pe(this._def,Ds(e,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,hl(o[0])?Ds({detail:o},o[0]):{detail:o}))};s.emit=(i,...o)=>{r(i,o),St(i)!==i&&r(St(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let r=e.length-1;r>=0;r--){const i=document.createElement("style");s&&i.setAttribute("nonce",s),i.textContent=e[r],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=this.querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const r=e[s],i=r.getAttribute("name")||"default",o=this._slots[i],a=r.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}const Al=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Nn(e)?n=>fd(e,n):e};function Ld(t){t.target.composing=!0}function Pl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ni=Symbol("_assign"),Ns={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Ni]=Al(r);const i=s||r.props&&r.props.type==="number";rn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=dl(a)),t[Ni](a)}),n&&rn(t,"change",()=>{t.value=t.value.trim()}),e||(rn(t,"compositionstart",Ld),rn(t,"compositionend",Pl),rn(t,"change",Pl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Ni]=Al(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?dl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},jd=["ctrl","shift","alt","meta"],Dd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jd.some(n=>t[`${n}Key`]&&!e.includes(n))},Hs=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=Dd[e[o]];if(a&&a(r,e))return}return t(r,...i)})},Bd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rl=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=St(r.key);if(e.some(o=>o===i||Bd[o]===i))return t(r)})},Nd=Ds({patchProp:Td},md);let $l;function Ml(){return $l||($l=vh(Nd))}const Hd=(...t)=>{Ml().render(...t)},Tl=(...t)=>{const e=Ml().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Ud(s);if(!r)return;const i=e._component;!fl(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Vd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Vd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ud(t){return sn(t)?document.querySelector(t):t}const Vs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Menu%20/%20Close_LG'%3e%3cpath%20id='Vector'%20d='M21%2021L12%2012M12%2012L3%203M12%2012L21.0001%203M12%2012L3%2021.0001'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Il="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='%23003274'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Arrow%20/%20Caret_Circle_Up'%3e%3cpath%20id='Vector'%20d='M9%2013L12%2010L15%2013M21%2012C21%207.02944%2016.9706%203%2012%203C7.02944%203%203%207.02944%203%2012C3%2016.9706%207.02944%2021%2012%2021C16.9706%2021%2021%2016.9706%2021%2012Z'%20stroke='%23FFFFFF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Ol="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Edit%20/%20List_Unordered'%3e%3cpath%20id='Vector'%20d='M9%2017H19M9%2012H19M9%207H19M5.00195%2017V17.002L5%2017.002V17H5.00195ZM5.00195%2012V12.002L5%2012.002V12H5.00195ZM5.00195%207V7.002L5%207.00195V7H5.00195Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Fl="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Navigation%20/%20House_03'%3e%3cpath%20id='Vector'%20d='M2%2020.0001H4M4%2020.0001H10M4%2020.0001V11.4522C4%2010.9179%204%2010.6506%204.06497%2010.4019C4.12255%2010.1816%204.21779%209.97307%204.3457%209.78464C4.49004%209.57201%204.69064%209.39569%205.09277%209.04383L9.89436%204.84244C10.6398%204.19014%2011.0126%203.86397%2011.4324%203.73982C11.8026%203.63035%2012.1972%203.63035%2012.5674%203.73982C12.9875%203.86406%2013.3608%204.19054%2014.1074%204.84383L18.9074%209.04383C19.3095%209.39568%2019.5102%209.57202%2019.6546%209.78464C19.7825%209.97307%2019.877%2010.1816%2019.9346%2010.4019C19.9995%2010.6506%2020%2010.9179%2020%2011.4522V20.0001M10%2020.0001H14M10%2020.0001V16.0001C10%2014.8955%2010.8954%2014.0001%2012%2014.0001C13.1046%2014.0001%2014%2014.8955%2014%2016.0001V20.0001M14%2020.0001H20M20%2020.0001H22'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Ll="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Warning%20/%20Circle_Help'%3e%3cpath%20id='Vector'%20d='M9.14648%209.07361C9.31728%208.54732%209.63015%208.07896%2010.0508%207.71948C10.4714%207.36001%2010.9838%207.12378%2011.5303%207.03708C12.0768%206.95038%2012.6362%207.0164%2013.1475%207.22803C13.6587%207.43966%2014.1014%207.78875%2014.4268%208.23633C14.7521%208.68391%2014.9469%209.21256%2014.9904%209.76416C15.0339%2010.3158%2014.9238%2010.8688%2014.6727%2011.3618C14.4215%2011.8548%2014.0394%2012.2685%2013.5676%2012.5576C13.0958%2012.8467%2012.5533%2012.9998%2012%2012.9998V14.0002M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021ZM12.0498%2017V17.1L11.9502%2017.1002V17H12.0498Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",zd="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23FFFFFF'%20color='FFFFFF'%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%200h-11c-1.104%200-2%200.895-2%202h11v8h8v16h-7v2h7c1.105%200%202-0.895%202-2v-18zM24%208v-5.172l5.171%205.172h-5.171zM2%204c-1.105%200-2%200.896-2%202v24c0%201.105%200.895%202%202%202h17c1.105%200%202-0.895%202-2v-18l-8-8.001h-11zM19%2030h-17v-24h9v8h8v16zM13%2012v-5.172l5.171%205.172h-5.171z'%3e%3c/path%3e%3c/svg%3e",Wd="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Communication%20/%20Share_iOS_Export'%3e%3cpath%20id='Vector'%20d='M9%206L12%203M12%203L15%206M12%203V13M7.00023%2010C6.06835%2010%205.60241%2010%205.23486%2010.1522C4.74481%2010.3552%204.35523%2010.7448%204.15224%2011.2349C4%2011.6024%204%2012.0681%204%2013V17.8C4%2018.9201%204%2019.4798%204.21799%2019.9076C4.40973%2020.2839%204.71547%2020.5905%205.0918%2020.7822C5.5192%2021%206.07899%2021%207.19691%2021H16.8036C17.9215%2021%2018.4805%2021%2018.9079%2020.7822C19.2842%2020.5905%2019.5905%2020.2839%2019.7822%2019.9076C20%2019.4802%2020%2018.921%2020%2017.8031V13C20%2012.0681%2019.9999%2011.6024%2019.8477%2011.2349C19.6447%2010.7448%2019.2554%2010.3552%2018.7654%2010.1522C18.3978%2010%2017.9319%2010%2017%2010'%20stroke='%23FFFFFF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",on="4.56.0";let jl=!1,Hn,Dl,Bl,Hi,Nl,Hl,Vl,Ul,zl;function qd(t,e={auto:!1}){if(jl)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Hn)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Hn}'\``);jl=e.auto,Hn=t.kind,Dl=t.fetch,Bl=t.FormData,Hi=t.File,Nl=t.ReadableStream,Hl=t.getMultipartRequestOptions,Vl=t.getDefaultAgent,Ul=t.fileFromPath,zl=t.isFsReadStream}class Kd{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Gd({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new Kd(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}Hn||qd(Gd(),{auto:!0});class nt{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const o of Jd(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new me(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new me(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new nt(r,n)}static fromReadableStream(e,n){let s=!1;async function*r(){const o=new Nt,a=Wl(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new nt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();e.push(o),n.push(o)}return i.shift()}});return[new nt(()=>r(e),this.controller),new nt(()=>r(n),this.controller)]}toReadableStream(){const e=this;let n;const s=new TextEncoder;return new Nl({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*Jd(t,e){if(!t.body)throw e.abort(),new z("Attempted to iterate over a response with no body");const n=new Qd,s=new Nt,r=Wl(t.body);for await(const i of Xd(r))for(const o of s.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of s.flush()){const o=n.decode(i);o&&(yield o)}}async function*Xd(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=Zd(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function Zd(t){for(let s=0;s<t.length-2;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}class Qd{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=Yd(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}class Nt{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const s=Nt.NEWLINE_CHARS.has(n[n.length-1]||"");let r=n.split(Nt.NEWLINE_REGEXP);return s&&r.pop(),r.length===1&&!s?(this.buffer.push(r[0]),[]):(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),s||(this.buffer=[r.pop()||""]),r)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new z(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new z(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new z("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Nt.NEWLINE_CHARS=new Set([`
`,"\r"]),Nt.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Yd(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function Wl(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const ql=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Kl=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Vi(t),Vi=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ep=t=>Kl(t)||ql(t)||zl(t);async function Gl(t,e,n){var r;if(t=await t,n??(n=Kl(t)?{lastModified:t.lastModified,type:t.type}:{}),ql(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Hi([i],e,n)}const s=await tp(t);if(e||(e=sp(t)??"unknown_file"),!n.type){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new Hi(s,e,n)}async function tp(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Vi(t))e.push(await t.arrayBuffer());else if(rp(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${np(t)}`);return e}function np(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function sp(t){var e;return Ui(t.name)||Ui(t.filename)||((e=Ui(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Ui=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},rp=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Jl=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",an=async t=>{const e=await ip(t.body);return Hl(e,t)},ip=async t=>{const e=new Bl;return await Promise.all(Object.entries(t||{}).map(([n,s])=>zi(e,n,s))),e},zi=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(ep(n)){const s=await Gl(n);t.append(e,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>zi(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>zi(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var ln={},op=function(t,e,n,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},ap=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Us;async function Xl(t){const{response:e}=t;if(t.options.stream)return cn("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):nt.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return cn("response",e.status,e.url,e.headers,i),i}const r=await e.text();return cn("response",e.status,e.url,e.headers,r),r}class zs extends Promise{constructor(e,n=Xl){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new zs(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class lp{constructor({baseURL:e,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=Wi("maxRetries",n),this.timeout=Wi("timeout",s),this.httpAgent=r,this.fetch=i??Dl}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...pp(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${wp()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&Vi(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:e,path:n,...r,body:i}}))}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){var E;const{method:n,path:s,query:r,headers:i={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Jl(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(o),l=this.buildURL(s,r);"timeout"in e&&Wi("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??Vl(l),h=u+1e3;typeof((E=c==null?void 0:c.options)==null?void 0:E.timeout)=="number"&&h>(c.options.timeout??0)&&(c.options.timeout=h),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:i,contentLength:a});return{req:{method:n,...o&&{body:o},headers:p,...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:s}){const r={};s&&(r["content-length"]=s);const i=this.defaultHeaders(e);return sc(r,i),sc(r,n),Jl(e.body)&&Hn!=="node"&&delete r["content-type"],this.validateHeaders(r,n),r}async prepareOptions(e){}async prepareRequest(e,{url:n,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,s,r){return me.generate(e,n,s,r)}request(e,n=null){return new zs(this.makeRequest(e,n))}async makeRequest(e,n){var c,h;const s=await e;n==null&&(n=s.maxRetries??this.maxRetries),await this.prepareOptions(s);const{req:r,url:i,timeout:o}=this.buildRequest(s);if(await this.prepareRequest(r,{url:i,options:s}),cn("request",i,s,r.headers),(c=s.signal)!=null&&c.aborted)throw new Ke;const a=new AbortController,l=await this.fetchWithTimeout(i,r,o,a).catch(qi);if(l instanceof Error){if((h=s.signal)!=null&&h.aborted)throw new Ke;if(n)return this.retryRequest(s,n);throw l.name==="AbortError"?new Ki:new qs({cause:l})}const u=up(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const L=`retrying, ${n} attempts remaining`;return cn(`response (error; ${L})`,l.status,i,u),this.retryRequest(s,n,u)}const p=await l.text().catch(L=>qi(L).message),_=gp(p),E=_?void 0:p;throw cn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,i,u,E),this.makeStatusError(l.status,_,E,u)}return{response:l,options:s,controller:a}}requestAPIList(e,n){const s=this.makeRequest(n,null);return new cp(this,s,e)}buildURL(e,n){const s=_p(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return tc(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new z(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(r=a)}const o=s==null?void 0:s["retry-after"];if(o&&!r){const a=parseFloat(o);Number.isNaN(a)?r=Date.parse(o)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Vn(r),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${on}`}}class Zl{constructor(e,n,s,r){Us.set(this,void 0),op(this,Us,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const s=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[r,i]of s)e.url.searchParams.set(r,i);n.query=void 0,n.path=e.url.toString()}return await ap(this,Us,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Us=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class cp extends zs{constructor(e,n,s){super(n,async r=>new s(e,r.response,await Xl(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const up=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const s=n.toString();return e[s.toLowerCase()]||e[s]}}),fp={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Fe=t=>typeof t=="object"&&t!==null&&!tc(t)&&Object.keys(t).every(e=>nc(fp,e)),hp=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":Yl(Deno.build.os),"X-Stainless-Arch":Ql(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":Yl(process.platform),"X-Stainless-Arch":Ql(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=dp();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function dp(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:e,version:`${r}.${i}.${o}`}}}return null}const Ql=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Yl=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ec;const pp=()=>ec??(ec=hp()),gp=t=>{try{return JSON.parse(t)}catch{return}},mp=new RegExp("^(?:[a-z]+:)?//","i"),_p=t=>mp.test(t),Vn=t=>new Promise(e=>setTimeout(e,t)),Wi=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new z(`${t} must be an integer`);if(e<0)throw new z(`${t} must be a positive integer`);return e},qi=t=>t instanceof Error?t:new Error(t),Ws=t=>{var e,n,s,r;if(typeof process<"u")return((e=ln==null?void 0:ln[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,t))==null?void 0:r.trim()};function tc(t){if(!t)return!0;for(const e in t)return!1;return!0}function nc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sc(t,e){for(const n in e){if(!nc(e,n))continue;const s=n.toLowerCase();if(!s)continue;const r=e[n];r===null?delete t[s]:r!==void 0&&(t[s]=r)}}function cn(t,...e){typeof process<"u"&&(ln==null?void 0:ln.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const wp=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),bp=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function rc(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class z extends Error{}class me extends z{constructor(e,n,s,r){super(`${me.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e)return new qs({cause:qi(n)});const i=n==null?void 0:n.error;return e===400?new ic(e,i,s,r):e===401?new oc(e,i,s,r):e===403?new ac(e,i,s,r):e===404?new lc(e,i,s,r):e===409?new cc(e,i,s,r):e===422?new uc(e,i,s,r):e===429?new fc(e,i,s,r):e>=500?new hc(e,i,s,r):new me(e,i,s,r)}}class Ke extends me{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class qs extends me{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class Ki extends qs{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ic extends me{constructor(){super(...arguments),this.status=400}}class oc extends me{constructor(){super(...arguments),this.status=401}}class ac extends me{constructor(){super(...arguments),this.status=403}}class lc extends me{constructor(){super(...arguments),this.status=404}}class cc extends me{constructor(){super(...arguments),this.status=409}}class uc extends me{constructor(){super(...arguments),this.status=422}}class fc extends me{constructor(){super(...arguments),this.status=429}}class hc extends me{}class dc extends z{constructor(){super("Could not parse response content as the length limit was reached")}}class pc extends z{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Gi extends Zl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ge extends Zl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const n=(s=e[e.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class Y{constructor(e){this._client=e}}let Ks=class extends Y{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};Ks||(Ks={});let Gs=class extends Y{constructor(){super(...arguments),this.completions=new Ks(this._client)}};(function(t){t.Completions=Ks})(Gs||(Gs={}));class Js extends Y{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}Js||(Js={});class Xs extends Y{create(e,n){return this._client.post("/audio/transcriptions",an({body:e,...n}))}}Xs||(Xs={});class Zs extends Y{create(e,n){return this._client.post("/audio/translations",an({body:e,...n}))}}Zs||(Zs={});class Qs extends Y{constructor(){super(...arguments),this.transcriptions=new Xs(this._client),this.translations=new Zs(this._client),this.speech=new Js(this._client)}}(function(t){t.Transcriptions=Xs,t.Translations=Zs,t.Speech=Js})(Qs||(Qs={}));class Ys extends Y{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Fe(e)?this.list({},e):this._client.getAPIList("/batches",Ji,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Ji extends Ge{}(function(t){t.BatchesPage=Ji})(Ys||(Ys={}));class er extends Y{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/assistants/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Fe(e)?this.list({},e):this._client.getAPIList("/assistants",Xi,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Xi extends Ge{}(function(t){t.AssistantsPage=Xi})(er||(er={}));function gc(t){return typeof t.parse=="function"}const un=t=>(t==null?void 0:t.role)==="assistant",mc=t=>(t==null?void 0:t.role)==="function",_c=t=>(t==null?void 0:t.role)==="tool";var Je=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},le=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Zi,tr,nr,Un,zn,sr,Wn,gt,qn,rr,ir,fn,wc;class bc{constructor(){Zi.add(this),this.controller=new AbortController,tr.set(this,void 0),nr.set(this,()=>{}),Un.set(this,()=>{}),zn.set(this,void 0),sr.set(this,()=>{}),Wn.set(this,()=>{}),gt.set(this,{}),qn.set(this,!1),rr.set(this,!1),ir.set(this,!1),fn.set(this,!1),Je(this,tr,new Promise((e,n)=>{Je(this,nr,e,"f"),Je(this,Un,n,"f")}),"f"),Je(this,zn,new Promise((e,n)=>{Je(this,sr,e,"f"),Je(this,Wn,n,"f")}),"f"),le(this,tr,"f").catch(()=>{}),le(this,zn,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},le(this,Zi,"m",wc).bind(this))},0)}_connected(){this.ended||(le(this,nr,"f").call(this),this._emit("connect"))}get ended(){return le(this,qn,"f")}get errored(){return le(this,rr,"f")}get aborted(){return le(this,ir,"f")}abort(){this.controller.abort()}on(e,n){return(le(this,gt,"f")[e]||(le(this,gt,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=le(this,gt,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(le(this,gt,"f")[e]||(le(this,gt,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{Je(this,fn,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){Je(this,fn,!0,"f"),await le(this,zn,"f")}_emit(e,...n){if(le(this,qn,"f"))return;e==="end"&&(Je(this,qn,!0,"f"),le(this,sr,"f").call(this));const s=le(this,gt,"f")[e];if(s&&(le(this,gt,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!le(this,fn,"f")&&!(s!=null&&s.length)&&Promise.reject(r),le(this,Un,"f").call(this,r),le(this,Wn,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!le(this,fn,"f")&&!(s!=null&&s.length)&&Promise.reject(r),le(this,Un,"f").call(this,r),le(this,Wn,"f").call(this,r),this._emit("end")}}_emitFinal(){}}tr=new WeakMap,nr=new WeakMap,Un=new WeakMap,zn=new WeakMap,sr=new WeakMap,Wn=new WeakMap,gt=new WeakMap,qn=new WeakMap,rr=new WeakMap,ir=new WeakMap,fn=new WeakMap,Zi=new WeakSet,wc=function(e){if(Je(this,rr,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Ke),e instanceof Ke)return Je(this,ir,!0,"f"),this._emit("abort",e);if(e instanceof z)return this._emit("error",e);if(e instanceof Error){const n=new z(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new z(String(e)))};function yc(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Kn(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function yp(t,e){return!e||!xc(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:Qi(t,e)}function Qi(t,e){const n=t.choices.map(s=>{var r;if(s.finish_reason==="length")throw new dc;if(s.finish_reason==="content_filter")throw new pc;return{...s,message:{...s.message,tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>vp(e,i)))??[],parsed:s.message.content&&!s.message.refusal?xp(e,s.message.content):null}}});return{...t,choices:n}}function xp(t,e){var n,s;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=t.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function vp(t,e){var s;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Kn(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function Cp(t,e){var s;if(!t)return!1;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return Kn(n)||(n==null?void 0:n.function.strict)||!1}function xc(t){var e;return yc(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Kn(n)||n.type==="function"&&n.function.strict===!0))??!1}function kp(t){for(const e of t??[]){if(e.type!=="function")throw new z(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new z(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Re=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ve,Yi,or,eo,to,no,vc,so;const Cc=10;class kc extends bc{constructor(){super(...arguments),ve.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(s=e.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(mc(e)||_c(e))&&e.content)this._emit("functionCallResult",e.content);else if(un(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(un(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new z("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Re(this,ve,"m",Yi).call(this)}async finalMessage(){return await this.done(),Re(this,ve,"m",or).call(this)}async finalFunctionCall(){return await this.done(),Re(this,ve,"m",eo).call(this)}async finalFunctionCallResult(){return await this.done(),Re(this,ve,"m",to).call(this)}async totalUsage(){return await this.done(),Re(this,ve,"m",no).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Re(this,ve,"m",or).call(this);n&&this._emit("finalMessage",n);const s=Re(this,ve,"m",Yi).call(this);s&&this._emit("finalContent",s);const r=Re(this,ve,"m",eo).call(this);r&&this._emit("finalFunctionCall",r);const i=Re(this,ve,"m",to).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Re(this,ve,"m",no).call(this))}async _createChatCompletion(e,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Re(this,ve,"m",vc).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Qi(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runFunctions(e,n,s){var p;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Cc}=s||{},c={};for(const _ of n.functions)c[_.name||_.function.name]=_;const h=n.functions.map(_=>({name:_.name||_.function.name,parameters:_.parameters,description:_.description}));for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<u;++_){const y=(p=(await this._createChatCompletion(e,{...a,function_call:i,functions:h,messages:[...this.messages]},s)).choices[0])==null?void 0:p.message;if(!y)throw new z("missing message in ChatCompletion response");if(!y.function_call)return;const{name:k,arguments:L}=y.function_call,S=c[k];if(S){if(l&&l!==k){const H=`Invalid function_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:k,content:H});continue}}else{const H=`Invalid function_call: ${JSON.stringify(k)}. Available options are: ${h.map(D=>JSON.stringify(D.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:k,content:H});continue}let w;try{w=gc(S)?await S.parse(L):L}catch(H){this._addMessage({role:r,name:k,content:H instanceof Error?H.message:String(H)});continue}const g=await S.function(w,this),R=Re(this,ve,"m",so).call(this,g);if(this._addMessage({role:r,name:k,content:R}),l)return}}async _runTools(e,n,s){var _,E,y;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((_=i==null?void 0:i.function)==null?void 0:_.name),{maxChatCompletions:u=Cc}=s||{},c=n.tools.map(k=>{if(Kn(k)){if(!k.$callback)throw new z("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:k.$callback,name:k.function.name,description:k.function.description||"",parameters:k.function.parameters,parse:k.$parseRaw,strict:!0}}}return k}),h={};for(const k of c)k.type==="function"&&(h[k.function.name||k.function.function.name]=k.function);const p="tools"in n?c.map(k=>k.type==="function"?{type:"function",function:{name:k.function.name||k.function.function.name,parameters:k.function.parameters,description:k.function.description,strict:k.function.strict}}:k):void 0;for(const k of n.messages)this._addMessage(k,!1);for(let k=0;k<u;++k){const S=(E=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:p,messages:[...this.messages]},s)).choices[0])==null?void 0:E.message;if(!S)throw new z("missing message in ChatCompletion response");if(!((y=S.tool_calls)!=null&&y.length))return;for(const w of S.tool_calls){if(w.type!=="function")continue;const g=w.id,{name:R,arguments:H}=w.function,D=h[R];if(D){if(l&&l!==R){const W=`Invalid tool_call: ${JSON.stringify(R)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:g,content:W});continue}}else{const W=`Invalid tool_call: ${JSON.stringify(R)}. Available options are: ${Object.keys(h).map($e=>JSON.stringify($e)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:g,content:W});continue}let B;try{B=gc(D)?await D.parse(H):H}catch(W){const $e=W instanceof Error?W.message:String(W);this._addMessage({role:r,tool_call_id:g,content:$e});continue}const j=await D.function(B,this),X=Re(this,ve,"m",so).call(this,j);if(this._addMessage({role:r,tool_call_id:g,content:X}),l)return}}}}ve=new WeakSet,Yi=function(){return Re(this,ve,"m",or).call(this).content??null},or=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(un(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new z("stream ended without producing a ChatCompletionMessage with role=assistant")},eo=function(){var e,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(un(r)&&(r!=null&&r.function_call))return r.function_call;if(un(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},to=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(mc(n)&&n.content!=null||_c(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},no=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},vc=function(e){if(e.n!=null&&e.n>1)throw new z("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},so=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Gn extends kc{static runFunctions(e,n,s){const r=new Gn,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new Gn,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e){super._addMessage(e),un(e)&&e.content&&this._emit("content",e.content)}}const Sp=t=>{let e=0,n=[];for(;e<t.length;){let s=t[e];if(s==="\\"){e++;continue}if(s==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(s==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(s==="["){n.push({type:"paren",value:"["}),e++;continue}if(s==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(s===":"){n.push({type:"separator",value:":"}),e++;continue}if(s===","){n.push({type:"delimiter",value:","}),e++;continue}if(s==='"'){let a="",l=!1;for(s=t[++e];s!=='"';){if(e===t.length){l=!0;break}if(s==="\\"){if(e++,e===t.length){l=!0;break}a+=s+t[e],s=t[++e]}else a+=s,s=t[++e]}s=t[++e],l||n.push({type:"string",value:a});continue}if(s&&/\s/.test(s)){e++;continue}let i=/[0-9]/;if(s&&i.test(s)||s==="-"||s==="."){let a="";for(s==="-"&&(a+=s,s=t[++e]);s&&i.test(s)||s===".";)a+=s,s=t[++e];n.push({type:"number",value:a});continue}let o=/[a-z]/i;if(s&&o.test(s)){let a="";for(;s&&o.test(s)&&e!==t.length;)a+=s,s=t[++e];if(a=="true"||a=="false"||a==="null")n.push({type:"name",value:a});else{e++;continue}continue}e++}return n},hn=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),hn(t);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),hn(t);case"string":let s=t[t.length-2];if((s==null?void 0:s.type)==="delimiter")return t=t.slice(0,t.length-1),hn(t);if((s==null?void 0:s.type)==="brace"&&s.value==="{")return t=t.slice(0,t.length-1),hn(t);break;case"delimiter":return t=t.slice(0,t.length-1),hn(t)}return t},Ep=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},Ap=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},Sc=t=>JSON.parse(Ap(Ep(hn(Sp(t)))));var dn=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ne=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},de,mt,pn,Et,ro,ar,io,oo,ao,lr,lo,Ec;class Jn extends kc{constructor(e){super(),de.add(this),mt.set(this,void 0),pn.set(this,void 0),Et.set(this,void 0),dn(this,mt,e,"f"),dn(this,pn,[],"f")}get currentChatCompletionSnapshot(){return ne(this,Et,"f")}static fromReadableStream(e){const n=new Jn(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new Jn(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){var o;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ne(this,de,"m",ro).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)ne(this,de,"m",io).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Ke;return this._addChatCompletion(ne(this,de,"m",lr).call(this))}async _fromReadableStream(e,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ne(this,de,"m",ro).call(this),this._connected();const r=nt.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(ne(this,de,"m",lr).call(this)),ne(this,de,"m",io).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new Ke;return this._addChatCompletion(ne(this,de,"m",lr).call(this))}[(mt=new WeakMap,pn=new WeakMap,Et=new WeakMap,de=new WeakSet,ro=function(){this.ended||dn(this,Et,void 0,"f")},ar=function(n){let s=ne(this,pn,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ne(this,pn,"f")[n.index]=s,s)},io=function(n){var r,i,o,a,l,u,c,h,p,_,E,y,k,L,S;if(this.ended)return;const s=ne(this,de,"m",Ec).call(this,n);this._emit("chunk",n,s);for(const w of n.choices){const g=s.choices[w.index];w.delta.content!=null&&((r=g.message)==null?void 0:r.role)==="assistant"&&((i=g.message)!=null&&i.content)&&(this._emit("content",w.delta.content,g.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:g.message.content,parsed:g.message.parsed})),w.delta.refusal!=null&&((o=g.message)==null?void 0:o.role)==="assistant"&&((a=g.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:g.message.refusal}),((l=w.logprobs)==null?void 0:l.content)!=null&&((u=g.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=w.logprobs)==null?void 0:c.content,snapshot:((h=g.logprobs)==null?void 0:h.content)??[]}),((p=w.logprobs)==null?void 0:p.refusal)!=null&&((_=g.message)==null?void 0:_.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(E=w.logprobs)==null?void 0:E.refusal,snapshot:((y=g.logprobs)==null?void 0:y.refusal)??[]});const R=ne(this,de,"m",ar).call(this,g);g.finish_reason&&(ne(this,de,"m",ao).call(this,g),R.current_tool_call_index!=null&&ne(this,de,"m",oo).call(this,g,R.current_tool_call_index));for(const H of w.delta.tool_calls??[])R.current_tool_call_index!==H.index&&(ne(this,de,"m",ao).call(this,g),R.current_tool_call_index!=null&&ne(this,de,"m",oo).call(this,g,R.current_tool_call_index)),R.current_tool_call_index=H.index;for(const H of w.delta.tool_calls??[]){const D=(k=g.message.tool_calls)==null?void 0:k[H.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(L=D.function)==null?void 0:L.name,index:H.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:((S=H.function)==null?void 0:S.arguments)??""}):(D==null||D.type,void 0))}}},oo=function(n,s){var o,a,l;if(ne(this,de,"m",ar).call(this,n).done_tool_calls.has(s))return;const i=(o=n.message.tool_calls)==null?void 0:o[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(a=ne(this,mt,"f"))==null?void 0:a.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:Kn(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},ao=function(n){var r,i;const s=ne(this,de,"m",ar).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=ne(this,de,"m",lo).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},lr=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const n=ne(this,Et,"f");if(!n)throw new z("request ended without sending any chunks");return dn(this,Et,void 0,"f"),dn(this,pn,[],"f"),Pp(n,ne(this,mt,"f"))},lo=function(){var s;const n=(s=ne(this,mt,"f"))==null?void 0:s.response_format;return yc(n)?n:null},Ec=function(n){var s,r,i,o;let a=ne(this,Et,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=dn(this,Et,{...u,choices:[]},"f");for(const{delta:c,finish_reason:h,index:p,logprobs:_=null,...E}of n.choices){let y=a.choices[p];if(y||(y=a.choices[p]={finish_reason:h,index:p,message:{},logprobs:_,...E}),_)if(!y.logprobs)y.logprobs=Object.assign({},_);else{const{content:H,refusal:D,...B}=_;Object.assign(y.logprobs,B),H&&((s=y.logprobs).content??(s.content=[]),y.logprobs.content.push(...H)),D&&((r=y.logprobs).refusal??(r.refusal=[]),y.logprobs.refusal.push(...D))}if(h&&(y.finish_reason=h,ne(this,mt,"f")&&xc(ne(this,mt,"f")))){if(h==="length")throw new dc;if(h==="content_filter")throw new pc}if(Object.assign(y,E),!c)continue;const{content:k,refusal:L,function_call:S,role:w,tool_calls:g,...R}=c;if(Object.assign(y.message,R),L&&(y.message.refusal=(y.message.refusal||"")+L),w&&(y.message.role=w),S&&(y.message.function_call?(S.name&&(y.message.function_call.name=S.name),S.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=S.arguments)):y.message.function_call=S),k&&(y.message.content=(y.message.content||"")+k,!y.message.refusal&&ne(this,de,"m",lo).call(this)&&(y.message.parsed=Sc(y.message.content))),g){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:H,id:D,type:B,function:j,...X}of g){const W=(o=y.message.tool_calls)[H]??(o[H]={});Object.assign(W,X),D&&(W.id=D),B&&(W.type=B),j&&(W.function??(W.function={name:j.name??"",arguments:""})),j!=null&&j.name&&(W.function.name=j.name),j!=null&&j.arguments&&(W.function.arguments+=j.arguments,Cp(ne(this,mt,"f"),W)&&(W.function.parsed_arguments=Sc(W.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new nt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Pp(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:s.map(({message:u,finish_reason:c,index:h,logprobs:p,..._})=>{if(!c)throw new z(`missing finish_reason for choice ${h}`);const{content:E=null,function_call:y,tool_calls:k,...L}=u,S=u.role;if(!S)throw new z(`missing role for choice ${h}`);if(y){const{arguments:w,name:g}=y;if(w==null)throw new z(`missing function_call.arguments for choice ${h}`);if(!g)throw new z(`missing function_call.name for choice ${h}`);return{..._,message:{content:E,function_call:{arguments:w,name:g},role:S,refusal:u.refusal??null},finish_reason:c,index:h,logprobs:p}}return k?{..._,index:h,finish_reason:c,logprobs:p,message:{...L,role:S,content:E,refusal:u.refusal??null,tool_calls:k.map((w,g)=>{const{function:R,type:H,id:D,...B}=w,{arguments:j,name:X,...W}=R||{};if(D==null)throw new z(`missing choices[${h}].tool_calls[${g}].id
${cr(t)}`);if(H==null)throw new z(`missing choices[${h}].tool_calls[${g}].type
${cr(t)}`);if(X==null)throw new z(`missing choices[${h}].tool_calls[${g}].function.name
${cr(t)}`);if(j==null)throw new z(`missing choices[${h}].tool_calls[${g}].function.arguments
${cr(t)}`);return{...B,id:D,type:H,function:{...W,name:X,arguments:j}}})}}:{..._,message:{...L,content:E,role:S,refusal:u.refusal??null},finish_reason:c,index:h,logprobs:p}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return yp(l,e)}function cr(t){return JSON.stringify(t)}function w0(t){}class gn extends Jn{static fromReadableStream(e){const n=new gn(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,s){const r=new gn(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new gn(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let Ac=class extends Y{async parse(e,n){kp(e.tools);const s=await this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}});return Qi(s,e)}runFunctions(e,n){return e.stream?gn.runFunctions(this._client,e,n):Gn.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?gn.runTools(this._client,e,n):Gn.runTools(this._client,e,n)}stream(e,n){return Jn.createChatCompletion(this._client,e,n)}};class ur extends Y{constructor(){super(...arguments),this.completions=new Ac(this._client)}}(function(t){t.Completions=Ac})(ur||(ur={}));var O=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Le=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},_e,co,st,fr,Xe,Ht,mn,Vt,hr,je,dr,pr,Xn,Zn,Qn,Pc,Rc,$c,Mc,Tc,Ic,Oc;class Ze extends bc{constructor(){super(...arguments),_e.add(this),co.set(this,[]),st.set(this,{}),fr.set(this,{}),Xe.set(this,void 0),Ht.set(this,void 0),mn.set(this,void 0),Vt.set(this,void 0),hr.set(this,void 0),je.set(this,void 0),dr.set(this,void 0),pr.set(this,void 0),Xn.set(this,void 0)}[(co=new WeakMap,st=new WeakMap,fr=new WeakMap,Xe=new WeakMap,Ht=new WeakMap,mn=new WeakMap,Vt=new WeakMap,hr=new WeakMap,je=new WeakMap,dr=new WeakMap,pr=new WeakMap,Xn=new WeakMap,_e=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Ze;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=nt.fromReadableStream(e,this.controller);for await(const o of r)O(this,_e,"m",Zn).call(this,o);if((i=r.controller.signal)!=null&&i.aborted)throw new Ke;return this._addRun(O(this,_e,"m",Qn).call(this))}toReadableStream(){return new nt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r,i){const o=new Ze;return o._run(()=>o._runToolAssistantStream(e,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,s,r,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await e.submitToolOutputs(n,s,a,{...i,signal:this.controller.signal});this._connected();for await(const c of l)O(this,_e,"m",Zn).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new Ke;return this._addRun(O(this,_e,"m",Qn).call(this))}static createThreadAssistantStream(e,n,s){const r=new Ze;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new Ze;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return O(this,dr,"f")}currentRun(){return O(this,pr,"f")}currentMessageSnapshot(){return O(this,Xe,"f")}currentRunStepSnapshot(){return O(this,Xn,"f")}async finalRunSteps(){return await this.done(),Object.values(O(this,st,"f"))}async finalMessages(){return await this.done(),Object.values(O(this,fr,"f"))}async finalRun(){if(await this.done(),!O(this,Ht,"f"))throw Error("Final run was not received.");return O(this,Ht,"f")}async _createThreadAssistantStream(e,n,s){var a;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)O(this,_e,"m",Zn).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Ke;return this._addRun(O(this,_e,"m",Qn).call(this))}async _createAssistantStream(e,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},a=await e.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const u of a)O(this,_e,"m",Zn).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new Ke;return this._addRun(O(this,_e,"m",Qn).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(rc(i)&&rc(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r,i){return await this._createToolAssistantStream(s,e,n,r,i)}}Zn=function(e){if(!this.ended)switch(Le(this,dr,e,"f"),O(this,_e,"m",$c).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":O(this,_e,"m",Oc).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":O(this,_e,"m",Rc).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":O(this,_e,"m",Pc).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Qn=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");if(!O(this,Ht,"f"))throw Error("Final run has not been received");return O(this,Ht,"f")},Pc=function(e){const[n,s]=O(this,_e,"m",Tc).call(this,e,O(this,Xe,"f"));Le(this,Xe,n,"f"),O(this,fr,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=O(this,mn,"f")){if(O(this,Vt,"f"))switch(O(this,Vt,"f").type){case"text":this._emit("textDone",O(this,Vt,"f").text,O(this,Xe,"f"));break;case"image_file":this._emit("imageFileDone",O(this,Vt,"f").image_file,O(this,Xe,"f"));break}Le(this,mn,r.index,"f")}Le(this,Vt,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(O(this,mn,"f")!==void 0){const r=e.data.content[O(this,mn,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,O(this,Xe,"f"));break;case"text":this._emit("textDone",r.text,O(this,Xe,"f"));break}}O(this,Xe,"f")&&this._emit("messageDone",e.data),Le(this,Xe,void 0,"f")}},Rc=function(e){const n=O(this,_e,"m",Mc).call(this,e);switch(Le(this,Xn,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==O(this,hr,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(O(this,je,"f")&&this._emit("toolCallDone",O(this,je,"f")),Le(this,hr,i.index,"f"),Le(this,je,n.step_details.tool_calls[i.index],"f"),O(this,je,"f")&&this._emit("toolCallCreated",O(this,je,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Le(this,Xn,void 0,"f"),e.data.step_details.type=="tool_calls"&&O(this,je,"f")&&(this._emit("toolCallDone",O(this,je,"f")),Le(this,je,void 0,"f")),this._emit("runStepDone",e.data,n);break}},$c=function(e){O(this,co,"f").push(e),this._emit("event",e)},Mc=function(e){switch(e.event){case"thread.run.step.created":return O(this,st,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=O(this,st,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Ze.accumulateDelta(n,s.delta);O(this,st,"f")[e.data.id]=r}return O(this,st,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":O(this,st,"f")[e.data.id]=e.data;break}if(O(this,st,"f")[e.data.id])return O(this,st,"f")[e.data.id];throw new Error("No snapshot available")},Tc=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=O(this,_e,"m",Ic).call(this,i,o)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Ic=function(e,n){return Ze.accumulateDelta(n,e)},Oc=function(e){switch(Le(this,pr,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Le(this,Ht,e.data,"f"),O(this,je,"f")&&(this._emit("toolCallDone",O(this,je,"f")),Le(this,je,void 0,"f"));break}};class gr extends Y{create(e,n,s){return this._client.post(`/threads/${e}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Fe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,uo,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class uo extends Ge{}(function(t){t.MessagesPage=uo})(gr||(gr={}));class mr extends Y{retrieve(e,n,s,r){return this._client.get(`/threads/${e}/runs/${n}/steps/${s}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n,s={},r){return Fe(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,fo,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class fo extends Ge{}(function(t){t.RunStepsPage=fo})(mr||(mr={}));class _r extends Y{constructor(){super(...arguments),this.steps=new mr(this._client)}create(e,n,s){return this._client.post(`/threads/${e}/runs`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(e,n,s){return this._client.get(`/threads/${e}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Fe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,ho,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}createAndStream(e,n,s){return Ze.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Vn(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return Ze.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,n,s,r){const i=await this.submitToolOutputs(e,n,s,r);return await this.poll(e,i.id,r)}submitToolOutputsStream(e,n,s,r){return Ze.createToolAssistantStream(e,n,this._client.beta.threads.runs,s,r)}}class ho extends Ge{}(function(t){t.RunsPage=ho,t.Steps=mr,t.RunStepsPage=fo})(_r||(_r={}));class wr extends Y{constructor(){super(...arguments),this.runs=new _r(this._client),this.messages=new gr(this._client)}create(e={},n){return Fe(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/threads/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(e,n){return Ze.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=_r,t.RunsPage=ho,t.Messages=gr,t.MessagesPage=uo})(wr||(wr={}));const Rp=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};let br=class extends Y{create(e,n,s){return this._client.post(`/vector_stores/${e}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},s){return Fe(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,yr,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...s,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Vn(a);break;case"failed":case"completed":return o}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}};class yr extends Ge{}(function(t){t.VectorStoreFilesPage=yr})(br||(br={}));class xr extends Y{create(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s={},r){return Fe(s)?this.listFiles(e,n,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,yr,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Vn(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),u=[...s];async function c(p){for(let _ of p){const E=await a.files.create({file:_,purpose:"assistants"},r);u.push(E.id)}}const h=Array(o).fill(l).map(c);return await Rp(h),await this.createAndPoll(e,{file_ids:u})}}xr||(xr={});class vr extends Y{constructor(){super(...arguments),this.files=new br(this._client),this.fileBatches=new xr(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/vector_stores/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Fe(e)?this.list({},e):this._client.getAPIList("/vector_stores",po,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class po extends Ge{}(function(t){t.VectorStoresPage=po,t.Files=br,t.VectorStoreFilesPage=yr,t.FileBatches=xr})(vr||(vr={}));class Cr extends Y{constructor(){super(...arguments),this.vectorStores=new vr(this._client),this.chat=new ur(this._client),this.assistants=new er(this._client),this.threads=new wr(this._client)}}(function(t){t.VectorStores=vr,t.VectorStoresPage=po,t.Chat=ur,t.Assistants=er,t.AssistantsPage=Xi,t.Threads=wr})(Cr||(Cr={}));class kr extends Y{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}kr||(kr={});class Sr extends Y{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}Sr||(Sr={});class Er extends Y{create(e,n){return this._client.post("/files",an({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Fe(e)?this.list({},e):this._client.getAPIList("/files",go,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await Vn(n),o=await this.retrieve(e),Date.now()-i>s)throw new Ki({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return o}}class go extends Gi{}(function(t){t.FileObjectsPage=go})(Er||(Er={}));class Ar extends Y{list(e,n={},s){return Fe(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,mo,{query:n,...s})}}class mo extends Ge{}(function(t){t.FineTuningJobCheckpointsPage=mo})(Ar||(Ar={}));class Pr extends Y{constructor(){super(...arguments),this.checkpoints=new Ar(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Fe(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",_o,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return Fe(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,wo,{query:n,...s})}}class _o extends Ge{}class wo extends Ge{}(function(t){t.FineTuningJobsPage=_o,t.FineTuningJobEventsPage=wo,t.Checkpoints=Ar,t.FineTuningJobCheckpointsPage=mo})(Pr||(Pr={}));class Rr extends Y{constructor(){super(...arguments),this.jobs=new Pr(this._client)}}(function(t){t.Jobs=Pr,t.FineTuningJobsPage=_o,t.FineTuningJobEventsPage=wo})(Rr||(Rr={}));class $r extends Y{createVariation(e,n){return this._client.post("/images/variations",an({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",an({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}$r||($r={});class Mr extends Y{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",bo,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class bo extends Gi{}(function(t){t.ModelsPage=bo})(Mr||(Mr={}));class Tr extends Y{create(e,n){return this._client.post("/moderations",{body:e,...n})}}Tr||(Tr={});class Ir extends Y{create(e,n,s){return this._client.post(`/uploads/${e}/parts`,an({body:n,...s}))}}Ir||(Ir={});class Or extends Y{constructor(){super(...arguments),this.parts=new Ir(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(`/uploads/${e}/complete`,{body:n,...s})}}(function(t){t.Parts=Ir})(Or||(Or={}));var Fc;class ue extends lp{constructor({baseURL:e=Ws("OPENAI_BASE_URL"),apiKey:n=Ws("OPENAI_API_KEY"),organization:s=Ws("OPENAI_ORG_ID")??null,project:r=Ws("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new z("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:s,project:r,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&bp())throw new z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new kr(this),this.chat=new Gs(this),this.embeddings=new Sr(this),this.files=new Er(this),this.images=new $r(this),this.audio=new Qs(this),this.moderations=new Tr(this),this.models=new Mr(this),this.fineTuning=new Rr(this),this.beta=new Cr(this),this.batches=new Ys(this),this.uploads=new Or(this),this._options=o,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}Fc=ue,ue.OpenAI=Fc,ue.DEFAULT_TIMEOUT=6e5,ue.OpenAIError=z,ue.APIError=me,ue.APIConnectionError=qs,ue.APIConnectionTimeoutError=Ki,ue.APIUserAbortError=Ke,ue.NotFoundError=lc,ue.ConflictError=cc,ue.RateLimitError=fc,ue.BadRequestError=ic,ue.AuthenticationError=oc,ue.InternalServerError=hc,ue.PermissionDeniedError=ac,ue.UnprocessableEntityError=uc,ue.toFile=Gl,ue.fileFromPath=Ul,function(t){t.Page=Gi,t.CursorPage=Ge,t.Completions=kr,t.Chat=Gs,t.Embeddings=Sr,t.Files=Er,t.FileObjectsPage=go,t.Images=$r,t.Audio=Qs,t.Moderations=Tr,t.Models=Mr,t.ModelsPage=bo,t.FineTuning=Rr,t.Beta=Cr,t.Batches=Ys,t.BatchesPage=Ji,t.Uploads=Or}(ue||(ue={}));var $p=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Lc;const Fr=t=>Lc=t,jc=Symbol();function yo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yn||(Yn={}));function Mp(){const t=Bo(!0),e=t.run(()=>Ae({}));let n=[],s=[];const r=oi({install(i){Fr(r),r._a=i,i.provide(jc,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!$p?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Dc=()=>{};function Bc(t,e,n,s=Dc){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&No()&&Uu(r),r}function _n(t,...e){t.slice().forEach(n=>{n(...e)})}const Tp=t=>t(),Nc=Symbol(),xo=Symbol();function vo(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];yo(r)&&yo(s)&&t.hasOwnProperty(n)&&!ce(s)&&!vt(s)?t[n]=vo(r,s):t[n]=s}return t}const Ip=Symbol();function Op(t){return!yo(t)||!t.hasOwnProperty(Ip)}const{assign:At}=Object;function Fp(t){return!!(ce(t)&&t.effect)}function Lp(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=r?r():{});const c=mf(n.state.value[t]);return At(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=oi(Ii(()=>{Fr(n);const _=n._s.get(t);return o[p].call(_,_)})),h),{}))}return l=Hc(t,u,e,n,s,!0),l}function Hc(t,e,n={},s,r,i){let o;const a=At({actions:{}},n),l={deep:!0};let u,c,h=[],p=[],_;const E=s.state.value[t];!i&&!E&&(s.state.value[t]={}),Ae({});let y;function k(B){let j;u=c=!1,typeof B=="function"?(B(s.state.value[t]),j={type:Yn.patchFunction,storeId:t,events:_}):(vo(s.state.value[t],B),j={type:Yn.patchObject,payload:B,storeId:t,events:_});const X=y=Symbol();_i().then(()=>{y===X&&(u=!0)}),c=!0,_n(h,j,s.state.value[t])}const L=i?function(){const{state:j}=n,X=j?j():{};this.$patch(W=>{At(W,X)})}:Dc;function S(){o.stop(),h=[],p=[],s._s.delete(t)}const w=(B,j="")=>{if(Nc in B)return B[xo]=j,B;const X=function(){Fr(s);const W=Array.from(arguments),$e=[],Pt=[];function as(q){$e.push(q)}function Ur(q){Pt.push(q)}_n(p,{args:W,name:X[xo],store:R,after:as,onError:Ur});let fe;try{fe=B.apply(this&&this.$id===t?this:R,W)}catch(q){throw _n(Pt,q),q}return fe instanceof Promise?fe.then(q=>(_n($e,q),q)).catch(q=>(_n(Pt,q),Promise.reject(q))):(_n($e,fe),fe)};return X[Nc]=!0,X[xo]=j,X},g={_p:s,$id:t,$onAction:Bc.bind(null,p),$patch:k,$reset:L,$subscribe(B,j={}){const X=Bc(h,B,j.detached,()=>W()),W=o.run(()=>Ms(()=>s.state.value[t],$e=>{(j.flush==="sync"?c:u)&&B({storeId:t,type:Yn.direct,events:_},$e)},At({},l,j)));return X},$dispose:S},R=Sn(g);s._s.set(t,R);const D=(s._a&&s._a.runWithContext||Tp)(()=>s._e.run(()=>(o=Bo()).run(()=>e({action:w}))));for(const B in D){const j=D[B];if(ce(j)&&!Fp(j)||vt(j))i||(E&&Op(j)&&(ce(j)?j.value=E[B]:vo(j,E[B])),s.state.value[t][B]=j);else if(typeof j=="function"){const X=w(j,B);D[B]=X,a.actions[B]=j}}return At(R,D),At(G(R),D),Object.defineProperty(R,"$state",{get:()=>s.state.value[t],set:B=>{k(j=>{At(j,B)})}}),s._p.forEach(B=>{At(R,o.run(()=>B({store:R,app:s._a,pinia:s,options:a})))}),E&&i&&n.hydrate&&n.hydrate(R.$state,E),u=!0,c=!0,R}function jp(t,e,n){let s,r;const i=typeof e=="function";s=t,r=i?n:e;function o(a,l){const u=gh();return a=a||(u?en(jc,null):null),a&&Fr(a),a=Lc,a._s.has(s)||(i?Hc(s,e,r,a):Lp(s,r,a)),a._s.get(s)}return o.$id=s,o}function Dp(t){return t&&typeof t.then=="function"}Promise.resolve(!1),Promise.resolve(!0);var Ut=Promise.resolve();function Vc(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function Bp(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function Co(){return Math.random().toString(36).substring(2)}var ko=0;function es(){var t=Date.now()*1e3;return t<=ko&&(t=ko+1),ko=t,t}var Np=es,Hp="native";function Vp(t){var e={time:es(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(n){e.messagesCallback&&e.messagesCallback(n.data)},e}function Up(t){t.bc.close(),t.subFns=[]}function zp(t,e){try{return t.bc.postMessage(e,!1),Ut}catch(n){return Promise.reject(n)}}function Wp(t,e){t.messagesCallback=e}function qp(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Kp(){return 150}var Gp={create:Vp,close:Up,onMessage:Wp,postMessage:zp,canBeUsed:qp,type:Hp,averageResponseTime:Kp,microSeconds:Np};class Uc{constructor(e){Z(this,"ttl");Z(this,"map",new Map);Z(this,"_to",!1);this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,zc()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,Jp(this)},0))}clear(){this.map.clear()}}function Jp(t){const e=zc()-t.ttl,n=t.map[Symbol.iterator]();for(;;){const s=n.next().value;if(!s)return;const r=s[0];if(s[1]<e)t.map.delete(r);else return}}function zc(){return Date.now()}function So(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var Xp=es,Zp="pubkey.broadcast-channel-0-",_t="messages",Lr={durability:"relaxed"},Qp="idb";function Wc(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Eo(t){t.commit&&t.commit()}function Yp(t){var e=Wc(),n=Zp+t,s=e.open(n);return s.onupgradeneeded=function(r){var i=r.target.result;i.createObjectStore(_t,{keyPath:"id",autoIncrement:!0})},new Promise(function(r,i){s.onerror=function(o){return i(o)},s.onsuccess=function(){r(s.result)}})}function eg(t,e,n){var s=Date.now(),r={uuid:e,time:s,data:n},i=t.transaction([_t],"readwrite",Lr);return new Promise(function(o,a){i.oncomplete=function(){return o()},i.onerror=function(u){return a(u)};var l=i.objectStore(_t);l.add(r),Eo(i)})}function tg(t,e){var n=t.transaction(_t,"readonly",Lr),s=n.objectStore(_t),r=[],i=IDBKeyRange.bound(e+1,1/0);if(s.getAll){var o=s.getAll(i);return new Promise(function(l,u){o.onerror=function(c){return u(c)},o.onsuccess=function(c){l(c.target.result)}})}function a(){try{return i=IDBKeyRange.bound(e+1,1/0),s.openCursor(i)}catch{return s.openCursor()}}return new Promise(function(l,u){var c=a();c.onerror=function(h){return u(h)},c.onsuccess=function(h){var p=h.target.result;p?p.value.id<e+1?p.continue(e+1):(r.push(p.value),p.continue()):(Eo(n),l(r))}})}function ng(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(_t,"readwrite",Lr),s=n.objectStore(_t);return Promise.all(e.map(function(r){var i=s.delete(r);return new Promise(function(o){i.onsuccess=function(){return o()}})}))}function sg(t,e){var n=Date.now()-e,s=t.transaction(_t,"readonly",Lr),r=s.objectStore(_t),i=[];return new Promise(function(o){r.openCursor().onsuccess=function(a){var l=a.target.result;if(l){var u=l.value;u.time<n?(i.push(u),l.continue()):(Eo(s),o(i))}else o(i)}})}function rg(t){return sg(t.db,t.options.idb.ttl).then(function(e){return ng(t,e.map(function(n){return n.id}))})}function ig(t,e){return e=So(e),Yp(t).then(function(n){var s={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:Co(),eMIs:new Uc(e.idb.ttl*2),writeBlockPromise:Ut,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){s.closed=!0,e.idb.onclose&&e.idb.onclose()},qc(s),s})}function qc(t){t.closed||Kc(t).then(function(){return Vc(t.options.idb.fallbackInterval)}).then(function(){return qc(t)})}function og(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function Kc(t){return t.closed||!t.messagesCallback?Ut:tg(t.db,t.lastCursorId).then(function(e){var n=e.filter(function(s){return!!s}).map(function(s){return s.id>t.lastCursorId&&(t.lastCursorId=s.id),s}).filter(function(s){return og(s,t)}).sort(function(s,r){return s.time-r.time});return n.forEach(function(s){t.messagesCallback&&(t.eMIs.add(s.id),t.messagesCallback(s.data))}),Ut})}function ag(t){t.closed=!0,t.db.close()}function lg(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return eg(t.db,t.uuid,e)}).then(function(){Bp(0,10)===0&&rg(t)}),t.writeBlockPromise}function cg(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,Kc(t)}function ug(){return!!Wc()}function fg(t){return t.idb.fallbackInterval*2}var hg={create:ig,close:ag,onMessage:cg,postMessage:lg,canBeUsed:ug,type:Qp,averageResponseTime:fg,microSeconds:Xp},dg=es,pg="pubkey.broadcastChannel-",gg="localstorage";function Gc(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Jc(t){return pg+t}function mg(t,e){return new Promise(function(n){Vc().then(function(){var s=Jc(t.channelName),r={token:Co(),time:Date.now(),data:e,uuid:t.uuid},i=JSON.stringify(r);Gc().setItem(s,i);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=s,o.newValue=i,window.dispatchEvent(o),n()})})}function _g(t,e){var n=Jc(t),s=function(i){i.key===n&&e(JSON.parse(i.newValue))};return window.addEventListener("storage",s),s}function wg(t){window.removeEventListener("storage",t)}function bg(t,e){if(e=So(e),!Xc())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Co(),s=new Uc(e.localstorage.removeTimeout),r={channelName:t,uuid:n,eMIs:s};return r.listener=_g(t,function(i){r.messagesCallback&&i.uuid!==n&&(!i.token||s.has(i.token)||i.data.time&&i.data.time<r.messagesCallbackTime||(s.add(i.token),r.messagesCallback(i.data)))}),r}function yg(t){wg(t.listener)}function xg(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function Xc(){var t=Gc();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function vg(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var Cg={create:bg,close:yg,onMessage:xg,postMessage:mg,canBeUsed:Xc,type:gg,averageResponseTime:vg,microSeconds:dg},Zc=es,kg="simulate",Ao=new Set;function Sg(t){var e={time:Zc(),name:t,messagesCallback:null};return Ao.add(e),e}function Eg(t){Ao.delete(t)}var Qc=5;function Ag(t,e){return new Promise(function(n){return setTimeout(function(){var s=Array.from(Ao);s.forEach(function(r){r.name===t.name&&r!==t&&r.messagesCallback&&r.time<e.time&&r.messagesCallback(e)}),n()},Qc)})}function Pg(t,e){t.messagesCallback=e}function Rg(){return!0}function $g(){return Qc}var Mg={create:Sg,close:Eg,onMessage:Pg,postMessage:Ag,canBeUsed:Rg,type:kg,averageResponseTime:$g,microSeconds:Zc},Yc=[Gp,hg,Cg];function Tg(t){var e=[].concat(t.methods,Yc).filter(Boolean);if(t.type){if(t.type==="simulate")return Mg;var n=e.find(function(r){return r.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(r){return r.type!=="idb"}));var s=e.find(function(r){return r.canBeUsed()});if(s)return s;throw new Error("No usable method found in "+JSON.stringify(Yc.map(function(r){return r.type})))}var eu=new Set,Ig=0,Po=function(e,n){this.id=Ig++,eu.add(this),this.name=e,tu&&(n=tu),this.options=So(n),this.method=Tg(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Og(this)};Po._pubkey=!0;var tu;Po.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return nu(this,"message",e)},postInternal:function(e){return nu(this,"internal",e)},set onmessage(t){var e=this.method.microSeconds(),n={time:e,fn:t};iu(this,"message",this._onML),t&&typeof t=="function"?(this._onML=n,ru(this,"message",n)):this._onML=null},addEventListener:function(e,n){var s=this.method.microSeconds(),r={time:s,fn:n};ru(this,e,r)},removeEventListener:function(e,n){var s=this._addEL[e].find(function(r){return r.fn===n});iu(this,e,s)},close:function(){var e=this;if(!this.closed){eu.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Ut;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(s){return s()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function nu(t,e,n){var s=t.method.microSeconds(),r={time:s,type:e,data:n},i=t._prepP?t._prepP:Ut;return i.then(function(){var o=t.method.postMessage(t._state,r);return t._uMP.add(o),o.catch().then(function(){return t._uMP.delete(o)}),o})}function Og(t){var e=t.method.create(t.name,t.options);Dp(e)?(t._prepP=e,e.then(function(n){t._state=n})):t._state=e}function su(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function ru(t,e,n){t._addEL[e].push(n),Fg(t)}function iu(t,e,n){t._addEL[e]=t._addEL[e].filter(function(s){return s!==n}),Lg(t)}function Fg(t){if(!t._iL&&su(t)){var e=function(r){t._addEL[r.type].forEach(function(i){r.time>=i.time&&i.fn(r.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function Lg(t){if(t._iL&&!su(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}function ou(t,e={serialize:JSON.stringify,deserialize:JSON.parse}){return e.deserialize(e.serialize(t))}function jg(t,e){return Object.keys(e).includes(t)}function Dg({enable:t=!0,initialize:e=!0,type:n,serializer:s}){return({store:r,options:i})=>{var _,E,y;const o=((_=i==null?void 0:i.share)==null?void 0:_.enable)??t,a=((E=i==null?void 0:i.share)==null?void 0:E.omit)??[];if(!o)return;const l=new Po(r.$id,{type:n});let u=0,c=!1;const h=Object.keys(r.$state).filter(k=>!a.includes(k)&&jg(k,r.$state));l.onmessage=k=>{if(k===void 0){l.postMessage({timestamp:u,state:ou(r.$state,s)});return}k.timestamp<=u||(c=!0,u=Date.now(),r.$patch(L=>{h.forEach(S=>{L[S]=k.state[S]})}))},(((y=i==null?void 0:i.share)==null?void 0:y.initialize)??e)&&l.postMessage(void 0),r.$subscribe((k,L)=>{c||(u=Date.now(),l.postMessage({timestamp:u,state:ou(L,s)})),c=!1})}}const au=Symbol("client"),Bg=({client:t,systemPrompt:e,maxTokens:n})=>s=>{const r=Mp();r.use(Dg({enable:!0,initialize:!1,type:"localstorage"})),s.use(r).provide(au,{client:t,systemPrompt:e,maxTokens:n})};function Ng(){return en(au)}const lu=jp("chatbox",{state:()=>({models:[],selectedModel:"",systemPrompt:"",userMessages:[],newMessage:"",maxTokens:4096,chatHistory:JSON.parse(localStorage.getItem("chatHistory")||"[]").map(t=>({...t,timestamp:new Date(t.timestamp)})),currentChatId:localStorage.getItem("currentChatId")||""}),actions:{setMaxTokens(t){t>0&&(this.maxTokens=t)},setSystemPrompt(t){this.systemPrompt=t},setModels(t){this.models=t},setSelectedModel(t){this.selectedModel=t},setUserMessages(t){this.userMessages=[...t],this.saveToStorage()},addMessage(t){if(this.userMessages.push(t),!this.currentChatId&&t.role==="user"){const e=crypto.randomUUID();this.currentChatId=e,this.chatHistory.unshift({id:e,title:t.content.slice(0,50)+(t.content.length>50?"...":""),timestamp:new Date,messages:[t]})}else if(this.currentChatId){const e=this.chatHistory.findIndex(n=>n.id===this.currentChatId);e!==-1&&(this.chatHistory[e]={...this.chatHistory[e],messages:[...this.userMessages],timestamp:new Date})}this.saveToStorage()},saveToStorage(){localStorage.setItem("chatHistory",JSON.stringify(this.chatHistory)),localStorage.setItem("currentChatId",this.currentChatId)},clearMessages(){this.userMessages=[],this.currentChatId="",this.saveToStorage()},loadChat(t){const e=this.chatHistory.find(n=>n.id===t);e&&(this.currentChatId=t,this.userMessages=[...e.messages],this.saveToStorage())},startNewChat(){this.clearMessages(),this.clearNewMessage()},clearNewMessage(){this.newMessage=""}},getters:{messages(){return this.systemPrompt?[{role:"system",content:this.systemPrompt},...this.userMessages]:this.userMessages}}});function Ro(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let zt=Ro();function cu(t){zt=t}const uu=/[&<>"']/,Hg=new RegExp(uu.source,"g"),fu=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Vg=new RegExp(fu.source,"g"),Ug={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hu=t=>Ug[t];function De(t,e){if(e){if(uu.test(t))return t.replace(Hg,hu)}else if(fu.test(t))return t.replace(Vg,hu);return t}const zg=/(^|[^\[])\^/g;function se(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const s={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(zg,"$1"),n=n.replace(r,o),s},getRegex:()=>new RegExp(n,e)};return s}function du(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const ts={exec:()=>null};function pu(t,e){const n=t.replace(/\|/g,(i,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),s=n.split(/ \|/);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(/\\\|/g,"|");return s}function ns(t,e,n){const s=t.length;if(s===0)return"";let r=0;for(;r<s;){const i=t.charAt(s-r-1);if(i===e&&!n)r++;else if(i!==e&&n)r++;else break}return t.slice(0,s-r)}function Wg(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return-1}function gu(t,e,n,s){const r=e.href,i=e.title?De(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const a={type:"link",raw:n,href:r,title:i,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:i,text:De(o)}}function qg(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(r=>{const i=r.match(/^\s+/);if(i===null)return r;const[o]=i;return o.length>=s.length?r.slice(s.length):r}).join(`
`)}class jr{constructor(e){Z(this,"options");Z(this,"rules");Z(this,"lexer");this.options=e||zt}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:ns(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],r=qg(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const r=ns(s,"#");(this.options.pedantic||!r||/ $/.test(r))&&(s=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:ns(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let s=ns(n[0],`
`).split(`
`),r="",i="";const o=[];for(;s.length>0;){let a=!1;const l=[];let u;for(u=0;u<s.length;u++)if(/^ {0,3}>/.test(s[u]))l.push(s[u]),a=!0;else if(!a)l.push(s[u]);else break;s=s.slice(u);const c=l.join(`
`),h=c.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${c}`:c,i=i?`${i}
${h}`:h;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=p,s.length===0)break;const _=o[o.length-1];if((_==null?void 0:_.type)==="code")break;if((_==null?void 0:_.type)==="blockquote"){const E=_,y=E.raw+`
`+s.join(`
`),k=this.blockquote(y);o[o.length-1]=k,r=r.substring(0,r.length-E.raw.length)+k.raw,i=i.substring(0,i.length-E.text.length)+k.text;break}else if((_==null?void 0:_.type)==="list"){const E=_,y=E.raw+`
`+s.join(`
`),k=this.list(y);o[o.length-1]=k,r=r.substring(0,r.length-_.raw.length)+k.raw,i=i.substring(0,i.length-E.raw.length)+k.raw,s=y.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim();const r=s.length>1,i={type:"list",raw:"",ordered:r,start:r?+s.slice(0,-1):"",loose:!1,items:[]};s=r?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=r?s:"[*+-]");const o=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;e;){let l=!1,u="",c="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let h=n[2].split(`
`,1)[0].replace(/^\t+/,L=>" ".repeat(3*L.length)),p=e.split(`
`,1)[0],_=!h.trim(),E=0;if(this.options.pedantic?(E=2,c=h.trimStart()):_?E=n[1].length+1:(E=n[2].search(/[^ ]/),E=E>4?1:E,c=h.slice(E),E+=n[1].length),_&&/^[ \t]*$/.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),l=!0),!l){const L=new RegExp(`^ {0,${Math.min(3,E-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,E-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,E-1)}}(?:\`\`\`|~~~)`),g=new RegExp(`^ {0,${Math.min(3,E-1)}}#`);for(;e;){const R=e.split(`
`,1)[0];let H;if(p=R,this.options.pedantic?(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),H=p):H=p.replace(/\t/g,"    "),w.test(p)||g.test(p)||L.test(p)||S.test(p))break;if(H.search(/[^ ]/)>=E||!p.trim())c+=`
`+H.slice(E);else{if(_||h.replace(/\t/g,"    ").search(/[^ ]/)>=4||w.test(h)||g.test(h)||S.test(h))break;c+=`
`+p}!_&&!p.trim()&&(_=!0),u+=R+`
`,e=e.substring(R.length+1),h=H.slice(E)}}i.loose||(a?i.loose=!0:/\n[ \t]*\n[ \t]*$/.test(u)&&(a=!0));let y=null,k;this.options.gfm&&(y=/^\[[ xX]\] /.exec(c),y&&(k=y[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:u,task:!!y,checked:k,loose:!1,text:c,tokens:[]}),i.raw+=u}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const u=i.items[l].tokens.filter(h=>h.type==="space"),c=u.length>0&&u.some(h=>/\n.*\n/.test(h.raw));i.loose=c}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:r,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const s=pu(n[1]),r=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===r.length){for(const a of r)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<s.length;a++)o.header.push({text:s[a],tokens:this.lexer.inline(s[a]),header:!0,align:o.align[a]});for(const a of i)o.rows.push(pu(a,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:De(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const o=ns(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{const o=Wg(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(s)?r=r.slice(1):r=r.slice(1,-1)),gu(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const r=(s[2]||s[1]).replace(/\s+/g," "),i=n[r.toLowerCase()];if(!i){const o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return gu(s,i,s[0],this.lexer)}}emStrong(e,n,s=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const o=[...r[0]].length-1;let a,l,u=o,c=0;const h=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+o);(r=h.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){u+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const p=[...r[0]][0].length,_=e.slice(0,o+r.index+p+l);if(Math.min(o,l)%2){const y=_.slice(1,-1);return{type:"em",raw:_,text:y,tokens:this.lexer.inlineTokens(y)}}const E=_.slice(2,-2);return{type:"strong",raw:_,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const r=/[^ ]/.test(s),i=/^ /.test(s)&&/ $/.test(s);return r&&i&&(s=s.substring(1,s.length-1)),s=De(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let s,r;return n[2]==="@"?(s=De(n[1]),r="mailto:"+s):(s=De(n[1]),r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=De(n[0]),i="mailto:"+r;else{let o;do o=n[0],n[0]=((s=this.rules.inline._backpedal.exec(n[0]))==null?void 0:s[0])??"";while(o!==n[0]);r=De(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=n[0]:s=De(n[0]),{type:"text",raw:n[0],text:s}}}}const Kg=/^(?:[ \t]*(?:\n|$))+/,Gg=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Jg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ss=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Xg=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,mu=/(?:[*+-]|\d{1,9}[.)])/,_u=se(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,mu).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),$o=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Zg=/^[^\n]+/,Mo=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Qg=se(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Mo).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Yg=se(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,mu).getRegex(),Dr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",To=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,em=se("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",To).replace("tag",Dr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wu=se($o).replace("hr",ss).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dr).getRegex(),Io={blockquote:se(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wu).getRegex(),code:Gg,def:Qg,fences:Jg,heading:Xg,hr:ss,html:em,lheading:_u,list:Yg,newline:Kg,paragraph:wu,table:ts,text:Zg},bu=se("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ss).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dr).getRegex(),tm={...Io,table:bu,paragraph:se($o).replace("hr",ss).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",bu).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dr).getRegex()},nm={...Io,html:se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",To).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ts,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:se($o).replace("hr",ss).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_u).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},yu=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,sm=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,xu=/^( {2,}|\\)\n(?!\s*$)/,rm=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,rs="\\p{P}\\p{S}",im=se(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,rs).getRegex(),om=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,am=se(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,rs).getRegex(),lm=se("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,rs).getRegex(),cm=se("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,rs).getRegex(),um=se(/\\([punct])/,"gu").replace(/punct/g,rs).getRegex(),fm=se(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hm=se(To).replace("(?:-->|$)","-->").getRegex(),dm=se("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hm).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Br=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,pm=se(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Br).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),vu=se(/^!?\[(label)\]\[(ref)\]/).replace("label",Br).replace("ref",Mo).getRegex(),Cu=se(/^!?\[(ref)\](?:\[\])?/).replace("ref",Mo).getRegex(),gm=se("reflink|nolink(?!\\()","g").replace("reflink",vu).replace("nolink",Cu).getRegex(),Oo={_backpedal:ts,anyPunctuation:um,autolink:fm,blockSkip:om,br:xu,code:sm,del:ts,emStrongLDelim:am,emStrongRDelimAst:lm,emStrongRDelimUnd:cm,escape:yu,link:pm,nolink:Cu,punctuation:im,reflink:vu,reflinkSearch:gm,tag:dm,text:rm,url:ts},mm={...Oo,link:se(/^!?\[(label)\]\((.*?)\)/).replace("label",Br).getRegex(),reflink:se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Br).getRegex()},Fo={...Oo,escape:se(yu).replace("])","~|])").getRegex(),url:se(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},_m={...Fo,br:se(xu).replace("{2,}","*").getRegex(),text:se(Fo.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nr={normal:Io,gfm:tm,pedantic:nm},is={normal:Oo,gfm:Fo,breaks:_m,pedantic:mm};class Ue{constructor(e){Z(this,"tokens");Z(this,"options");Z(this,"state");Z(this,"tokenizer");Z(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||zt,this.options.tokenizer=this.options.tokenizer||new jr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Nr.normal,inline:is.normal};this.options.pedantic?(n.block=Nr.pedantic,n.inline=is.pedantic):this.options.gfm&&(n.block=Nr.gfm,this.options.breaks?n.inline=is.breaks:n.inline=is.gfm),this.tokenizer.rules=n}static get rules(){return{block:Nr,inline:is}}static lex(e,n){return new Ue(n).lex(e)}static lexInline(e,n){return new Ue(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let r,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&(i==null?void 0:i.type)==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let s,r,i,o=e,a,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(s=c.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,o,u)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),n.push(s);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(_=>{p=_.call({lexer:this},h),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(i=e.substring(0,c+1))}if(s=this.tokenizer.inlineText(i)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(u=s.raw.slice(-1)),l=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Hr{constructor(e){Z(this,"options");Z(this,"parser");this.options=e||zt}space(e){return""}code({text:e,lang:n,escaped:s}){var o;const r=(o=(n||"").match(/^\S*/))==null?void 0:o[0],i=e.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+De(r)+'">'+(s?i:De(i,!0))+`</code></pre>
`:"<pre><code>"+(s?i:De(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,s=e.start;let r="";for(let a=0;a<e.items.length;a++){const l=e.items[a];r+=this.listitem(l)}const i=n?"ol":"ul",o=n&&s!==1?' start="'+s+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){let n="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" "}):n+=s+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",s="";for(let i=0;i<e.header.length;i++)s+=this.tablecell(e.header[i]);n+=this.tablerow({text:s});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];s="";for(let a=0;a<o.length;a++)s+=this.tablecell(o[a]);r+=this.tablerow({text:s})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+n+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:s}){const r=this.parser.parseInline(s),i=du(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image({href:e,title:n,text:s}){const r=du(e);if(r===null)return s;e=r;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Lo{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ze{constructor(e){Z(this,"options");Z(this,"renderer");Z(this,"textRenderer");this.options=e||zt,this.options.renderer=this.options.renderer||new Hr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Lo}static parse(e,n){return new ze(n).parse(e)}static parseInline(e,n){return new ze(n).parseInline(e)}parse(e,n=!0){let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){s+=l||"";continue}}const o=i;switch(o.type){case"space":{s+=this.renderer.space(o);continue}case"hr":{s+=this.renderer.hr(o);continue}case"heading":{s+=this.renderer.heading(o);continue}case"code":{s+=this.renderer.code(o);continue}case"table":{s+=this.renderer.table(o);continue}case"blockquote":{s+=this.renderer.blockquote(o);continue}case"list":{s+=this.renderer.list(o);continue}case"html":{s+=this.renderer.html(o);continue}case"paragraph":{s+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],l+=`
`+this.renderer.text(a);n?s+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):s+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}parseInline(e,n){n=n||this.renderer;let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=a||"";continue}}const o=i;switch(o.type){case"escape":{s+=n.text(o);break}case"html":{s+=n.html(o);break}case"link":{s+=n.link(o);break}case"image":{s+=n.image(o);break}case"strong":{s+=n.strong(o);break}case"em":{s+=n.em(o);break}case"codespan":{s+=n.codespan(o);break}case"br":{s+=n.br(o);break}case"del":{s+=n.del(o);break}case"text":{s+=n.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}}class os{constructor(e){Z(this,"options");Z(this,"block");this.options=e||zt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Ue.lex:Ue.lexInline}provideParser(){return this.block?ze.parse:ze.parseInline}}Z(os,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class wm{constructor(...e){Z(this,"defaults",Ro());Z(this,"options",this.setOptions);Z(this,"parse",this.parseMarkdown(!0));Z(this,"parseInline",this.parseMarkdown(!1));Z(this,"Parser",ze);Z(this,"Renderer",Hr);Z(this,"TextRenderer",Lo);Z(this,"Lexer",Ue);Z(this,"Tokenizer",jr);Z(this,"Hooks",os);this.use(...e)}walkTokens(e,n){var r,i;let s=[];for(const o of e)switch(s=s.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)s=s.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const u of l)s=s.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=o;s=s.concat(this.walkTokens(a.items,n));break}default:{const a=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const u=a[l].flat(1/0);s=s.concat(this.walkTokens(u,n))}):a.tokens&&(s=s.concat(this.walkTokens(a.tokens,n)))}}return s}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const r={...s};if(r.async=this.defaults.async||r.async||!1,s.extensions&&(s.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[i.level];o?o.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),r.extensions=n),s.renderer){const i=this.defaults.renderer||new Hr(this.defaults);for(const o in s.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,l=s.renderer[a],u=i[a];i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h||""}}r.renderer=i}if(s.tokenizer){const i=this.defaults.tokenizer||new jr(this.defaults);for(const o in s.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=s.tokenizer[a],u=i[a];i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}r.tokenizer=i}if(s.hooks){const i=this.defaults.hooks||new os;for(const o in s.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,l=s.hooks[a],u=i[a];os.passThroughHooks.has(o)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(i,c)).then(p=>u.call(i,p));const h=l.call(i,c);return u.call(i,h)}:i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}r.hooks=i}if(s.walkTokens){const i=this.defaults.walkTokens,o=s.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Ue.lex(e,n??this.defaults)}parser(e,n){return ze.parse(e,n??this.defaults)}parseMarkdown(e){return(s,r)=>{const i={...r},o={...this.defaults,...i},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const l=o.hooks?o.hooks.provideLexer():e?Ue.lex:Ue.lexInline,u=o.hooks?o.hooks.provideParser():e?ze.parse:ze.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>u(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(s=o.hooks.preprocess(s));let c=l(s,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let h=u(c,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(c){return a(c)}}}onError(e,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+De(s.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(s);throw s}}}const Wt=new wm;function ee(t,e){return Wt.parse(t,e)}ee.options=ee.setOptions=function(t){return Wt.setOptions(t),ee.defaults=Wt.defaults,cu(ee.defaults),ee},ee.getDefaults=Ro,ee.defaults=zt,ee.use=function(...t){return Wt.use(...t),ee.defaults=Wt.defaults,cu(ee.defaults),ee},ee.walkTokens=function(t,e){return Wt.walkTokens(t,e)},ee.parseInline=Wt.parseInline,ee.Parser=ze,ee.parser=ze.parse,ee.Renderer=Hr,ee.TextRenderer=Lo,ee.Lexer=Ue,ee.lexer=Ue.lex,ee.Tokenizer=jr,ee.Hooks=os,ee.parse=ee,ee.options,ee.setOptions,ee.use,ee.walkTokens,ee.parseInline,ze.parse,Ue.lex;const bm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Edit%20/%20Edit_Pencil_01'%3e%3cpath%20id='Vector'%20d='M12%208.00012L4%2016.0001V20.0001L8%2020.0001L16%2012.0001M12%208.00012L14.8686%205.13146L14.8704%205.12976C15.2652%204.73488%2015.463%204.53709%2015.691%204.46301C15.8919%204.39775%2016.1082%204.39775%2016.3091%204.46301C16.5369%204.53704%2016.7345%204.7346%2017.1288%205.12892L18.8686%206.86872C19.2646%207.26474%2019.4627%207.46284%2019.5369%207.69117C19.6022%207.89201%2019.6021%208.10835%2019.5369%208.3092C19.4628%208.53736%2019.265%208.73516%2018.8695%209.13061L18.8686%209.13146L16%2012.0001M12%208.00012L16%2012.0001'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",ym="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Interface%20/%20Trash_Full'%3e%3cpath%20id='Vector'%20d='M14%2010V17M10%2010V17M6%206V17.8C6%2018.9201%206%2019.4798%206.21799%2019.9076C6.40973%2020.2839%206.71547%2020.5905%207.0918%2020.7822C7.5192%2021%208.07899%2021%209.19691%2021H14.8031C15.921%2021%2016.48%2021%2016.9074%2020.7822C17.2837%2020.5905%2017.5905%2020.2839%2017.7822%2019.9076C18%2019.4802%2018%2018.921%2018%2017.8031V6M6%206H8M6%206H4M8%206H16M8%206C8%205.06812%208%204.60241%208.15224%204.23486C8.35523%203.74481%208.74432%203.35523%209.23438%203.15224C9.60192%203%2010.0681%203%2011%203H13C13.9319%203%2014.3978%203%2014.7654%203.15224C15.2554%203.35523%2015.6447%203.74481%2015.8477%204.23486C15.9999%204.6024%2016%205.06812%2016%206M16%206H18M18%206H20'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",xm={key:0,class:"chat-history-overlay"},vm={class:"chat-history-modal"},Cm={class:"chat-history-search-container"},km={class:"chat-history-content"},Sm={key:0,class:"chat-history-empty-container"},Em={key:1,class:"chat-history-list"},Am=["onMouseenter"],Pm={class:"chat-item-actions"},Rm=["onClick"],$m=["onClick"],Mm=["onClick"],Tm={key:0,class:"chat-title-edit"},Im=["onKeydown","onBlur"],Om={key:1},Fm={class:"chat-title"},Lm={class:"chat-date"},jm=Tn({__name:"ChatHistory",emits:["loadChat"],setup(t,{expose:e,emit:n}){const s=lu(),r=Ae(!1),i=Ae(""),o=Ae(null),a=Ae(null),l=Ae(""),u=Ii(()=>{if(!i.value)return s.chatHistory;const S=i.value.toLowerCase();return s.chatHistory.filter(w=>w.title.toLowerCase().includes(S)||w.messages.some(g=>g.content.toLowerCase().includes(S)))}),c=S=>S?new Date(S).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",h=S=>{a.value===null&&(s.loadChat(S),L())},p=(S,w)=>{S.stopPropagation(),a.value=w.id,l.value=w.title},_=(S,w)=>{if(S.stopPropagation(),l.value.trim()){const g=s.chatHistory.findIndex(R=>R.id===w);g!==-1&&(s.chatHistory[g].title=l.value.trim(),s.saveToStorage())}a.value=null,l.value=""},E=S=>{if(confirm("Are you sure you want to delete this chat?")){const w=s.chatHistory.findIndex(g=>g.id===S);w!==-1&&(s.chatHistory.splice(w,1),s.currentChatId===S&&(s.clearMessages(),s.currentChatId=""),s.saveToStorage())}},y=(S,w)=>{S.key==="Enter"?_(S,w):S.key==="Escape"&&(a.value=null,l.value="")},k=()=>{r.value=!0},L=()=>{r.value=!1,o.value=null,a.value=null,l.value=""};return e({show:k,hide:L}),(S,w)=>r.value?(he(),ge("div",xm,[I("div",vm,[I("div",{class:"chat-history-header"},[w[4]||(w[4]=I("h2",{class:"chat-history-title"},"TeacherAIde",-1)),w[5]||(w[5]=I("div",{class:"chat-history-subtitle"},"Chat History",-1)),I("img",{onClick:L,src:Vs,alt:"close",class:"chat-history-close"})]),I("div",Cm,[Ps(I("input",{"onUpdate:modelValue":w[0]||(w[0]=g=>i.value=g),type:"text",placeholder:"Search your chats...",class:"chat-history-search-input"},null,512),[[Ns,i.value]])]),I("div",km,[u.value.length===0?(he(),ge("div",Sm,w[6]||(w[6]=[I("div",{class:"chat-history-empty"},[I("p",null,"Your chat history is currently empty."),I("p",null,"Return to Home screen and start a new conversation!")],-1)]))):(he(),ge("div",Em,[(he(!0),ge(Ve,null,yi(u.value,g=>(he(),ge("div",{key:g.id,class:Pn(["chat-history-item",{active:o.value===g.id}]),onMouseenter:R=>o.value=g.id,onMouseleave:w[3]||(w[3]=R=>o.value=null)},[I("div",Pm,[I("img",{onClick:Hs(R=>p(R,g),["stop"]),src:bm,alt:"edit",class:"action-icon",title:"Edit title"},null,8,Rm),I("img",{onClick:Hs(R=>E(g.id),["stop"]),src:ym,alt:"delete",class:"action-icon",title:"Delete chat"},null,8,$m)]),I("div",{class:"chat-item-content",onClick:R=>h(g.id)},[a.value===g.id?(he(),ge("div",Tm,[Ps(I("input",{"onUpdate:modelValue":w[1]||(w[1]=R=>l.value=R),type:"text",onClick:w[2]||(w[2]=Hs(()=>{},["stop"])),onKeydown:R=>y(R,g.id),onBlur:R=>_(R,g.id),class:"chat-title-input",ref_for:!0,ref:"editInput"},null,40,Im),[[Ns,l.value]])])):(he(),ge("div",Om,[I("div",Fm,Ot(g.title),1),I("div",Lm,Ot(c(g.timestamp)),1)]))],8,Mm)],42,Am))),128))]))])])])):nn("",!0)}}),Dm=".chat-history-overlay[data-v-099e7435]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.chat-history-modal[data-v-099e7435]{background-color:#fff;border-radius:12px;width:90%;max-width:500px;height:90vh;display:flex;flex-direction:column;overflow:hidden}.chat-history-header[data-v-099e7435]{padding:20px;border-bottom:1px solid #e5e7eb;position:relative}.chat-history-title[data-v-099e7435]{color:#003274;font-size:24px;font-weight:600;margin:0}.chat-history-subtitle[data-v-099e7435]{color:#93a3bc;font-size:18px;margin-top:4px}.chat-history-close[data-v-099e7435]{position:absolute;top:20px;right:20px;width:15px;height:15px;cursor:pointer}.chat-history-search-container[data-v-099e7435]{padding:12px 20px;border-bottom:1px solid #e5e7eb}.chat-history-search-input[data-v-099e7435]{width:100%;padding:8px 12px;border:1px solid #e5e7eb;border-radius:4px;font-size:14px;outline:none;box-sizing:border-box}.chat-history-search-input[data-v-099e7435]:focus{border-color:#003274}.chat-history-content[data-v-099e7435]{flex:1;overflow-y:auto;padding:20px}.chat-history-empty-container[data-v-099e7435]{height:100%;display:flex;align-items:center;justify-content:center;text-align:center;color:#6b7280}.chat-history-empty[data-v-099e7435]{padding:20px}.chat-history-empty p[data-v-099e7435]{margin:4px 0}.chat-history-list[data-v-099e7435]{display:flex;flex-direction:column;gap:12px}.chat-history-item[data-v-099e7435]{position:relative;background-color:#e7eef7;border-radius:8px;padding:16px 32px 16px 16px;cursor:pointer;transition:all .2s ease}.chat-history-item.active[data-v-099e7435]{background-color:#b8cce8}.chat-item-actions[data-v-099e7435]{position:absolute;top:8px;right:8px;z-index:1;display:flex;gap:8px}.action-icon[data-v-099e7435]{width:16px;height:16px;cursor:pointer;opacity:0;transition:opacity .2s ease}.chat-history-item:hover .action-icon[data-v-099e7435]{opacity:.6}.action-icon[data-v-099e7435]:hover{opacity:1!important}.chat-title-edit[data-v-099e7435]{margin-right:40px}.chat-title-input[data-v-099e7435]{width:100%;padding:4px 8px;border:1px solid #003274;border-radius:4px;font-size:14px;background:#fff;color:#003274}.chat-title-input[data-v-099e7435]:focus{outline:none;border-color:#003274;box-shadow:0 0 0 2px #0032741a}.chat-title[data-v-099e7435]{font-size:16px;color:#1f2937;font-weight:500;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-date[data-v-099e7435]{font-size:12px;color:#6b7280}.chat-history-content[data-v-099e7435]::-webkit-scrollbar{width:6px}.chat-history-content[data-v-099e7435]::-webkit-scrollbar-track{background:transparent}.chat-history-content[data-v-099e7435]::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px}.chat-history-content[data-v-099e7435]::-webkit-scrollbar-thumb:hover{background:#c4c4c4}",Vr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},ku=Vr(jm,[["styles",[Dm]],["__scopeId","data-v-099e7435"]]),Bm={key:0,class:"help-overlay"},Nm={class:"help-modal"},Hm={class:"help-content"},Vm=["onMouseenter","onMouseleave","onClick"],Um={class:"help-question"},zm={key:0,class:"help-answer"},Su=Vr(Tn({__name:"HelpDialog",setup(t,{expose:e}){const n=Ae(!1),s=()=>{n.value=!0},r=()=>{n.value=!1,i.forEach(a=>a.isExpanded=!1)},i=Sn([{id:1,question:"Who is TeacherAIde?",answer:"TeacherAIde is a helpful Generative AI assistant designed to support teachers in generating their teaching materials.",isExpanded:!1,isHovered:!1},{id:2,question:"How to copy the assistant response?",answer:"Click the copy icon (clipboard symbol) below any assistant response to copy the content.",isExpanded:!1,isHovered:!1},{id:3,question:"How to insert the assistant response to the tinyMCE editor?",answer:"Click the share icon below any assistant response to insert it directly into the tinyMCE editor.",isExpanded:!1,isHovered:!1},{id:4,question:"How to retrieve chat history?",answer:"Click the list icon at the bottom left corner of the screen to view your chat history.",isExpanded:!1,isHovered:!1},{id:5,question:"How to search, edit or delete chat history?",answer:"In the chat history screen, you can search for your chat with the search box, hover on any chat session and click the pencil icon on the top right corner to edit that session name or click the bin icon to delete that session from the chat history. You can click on any chat session to resume that chat session.",isExpanded:!1,isHovered:!1}]),o=a=>{a.isExpanded=!a.isExpanded};return e({show:s,hide:r}),(a,l)=>n.value?(he(),ge("div",Bm,[I("div",Nm,[I("div",{class:"help-header"},[l[0]||(l[0]=I("h2",{class:"help-title"},"TeacherAIde",-1)),l[1]||(l[1]=I("div",{class:"help-subtitle"},"Help",-1)),I("img",{onClick:r,src:Vs,alt:"close",class:"help-close"})]),I("div",Hm,[(he(!0),ge(Ve,null,yi(i,u=>(he(),ge("div",{key:u.id,class:Pn(["help-item",{active:u.isHovered,expanded:u.isExpanded}]),onMouseenter:c=>u.isHovered=!0,onMouseleave:c=>u.isHovered=!1,onClick:c=>o(u)},[I("div",Um,Ot(u.id)+". "+Ot(u.question),1),u.isExpanded?(he(),ge("div",zm,Ot(u.answer),1)):nn("",!0)],42,Vm))),128))])])])):nn("",!0)}}),[["styles",[".help-overlay[data-v-0c3e10d4]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.help-modal[data-v-0c3e10d4]{background-color:#fff;border-radius:12px;width:90%;max-width:500px;height:90vh;display:flex;flex-direction:column;overflow:hidden}.help-header[data-v-0c3e10d4]{padding:20px;border-bottom:1px solid #e5e7eb;position:relative}.help-title[data-v-0c3e10d4]{color:#003274;font-size:24px;font-weight:600;margin:0}.help-subtitle[data-v-0c3e10d4]{color:#93a3bc;font-size:18px;margin-top:4px}.help-close[data-v-0c3e10d4]{position:absolute;top:20px;right:20px;width:15px;height:15px;cursor:pointer}.help-content[data-v-0c3e10d4]{flex:1;overflow-y:auto;padding:20px}.help-item[data-v-0c3e10d4]{background-color:#e7eef7;border-radius:8px;padding:16px;margin-bottom:12px;cursor:pointer;transition:all .2s ease}.help-item.active[data-v-0c3e10d4],.help-item.expanded[data-v-0c3e10d4]{background-color:#b8cce8}.help-question[data-v-0c3e10d4]{font-size:16px;color:#003274;font-weight:500}.help-answer[data-v-0c3e10d4]{margin-top:12px;padding-top:12px;border-top:1px solid rgba(0,50,116,.1);color:#4a5568;font-size:14px;line-height:1.4}.help-close[data-v-0c3e10d4]:hover{opacity:.8}"]],["__scopeId","data-v-0c3e10d4"]]),Wm={class:"chat-container"},qm={class:"messages-container"},Km={key:0,class:"empty-state"},Gm={key:0,class:"user-message"},Jm={class:"message-content"},Xm={key:1,class:"assistant-message"},Zm=["innerHTML"],Qm={class:"bottom-container"},Ym={class:"input-wrapper"},e0={class:"input-area"},t0=Vr(Tn({__name:"SimpleChat",props:{textMessage:{type:String}},emits:["back-to-home"],setup(t,{emit:e}){const n=t,s=e,r=lu(),{client:i,systemPrompt:o,maxTokens:a}=Ng(),l=Ae(null),u=Ae(null);new AbortController;const c=async()=>{if(!r.newMessage)return;const S=r.newMessage;r.addMessage({content:S,role:"user"}),r.clearNewMessage();try{const w=r.messages,g={model:r.selectedModel,messages:w,max_tokens:r.maxTokens},R=await i.chat.completions.create(g);R.choices[0].message.content&&r.addMessage({content:R.choices[0].message.content,role:"assistant"})}catch(w){console.error("Failed to send message:",w)}},h=async S=>{try{r.clearMessages(),r.clearNewMessage(),r.currentChatId="",s("back-to-home")}catch(w){console.error("Failed to return to home:",w)}},p=S=>{r.currentChatId=S.id,r.setUserMessages(S.messages),r.clearNewMessage()},_=async S=>{var w;try{const g=(w=S.target.closest(".assistant-message"))==null?void 0:w.querySelector(".message-content");if(g){const R=g.textContent||"";await navigator.clipboard.writeText(R),alert("Message copied to clipboard!")}else console.warn("Message content not found")}catch(g){console.error("Failed to copy:",g),alert("Failed to copy message. Please try again.")}},E=async S=>{var w;try{if(S.target&&S.target instanceof HTMLElement){const g=S.target.closest(".teacheraide-simple-chat");if(console.log("parentChatWindow",g),g&&g!=null){const R=g.getAttribute("data-iframe-target")||g.getAttribute("dataiframetarget")||"";console.log("target iframe ID",R);const H=document.getElementById(R);if(H&&H!=null&&H!=null){const D=H.contentDocument;if(D&&D!=null&&D!=null){const B=D.body;if(console.log("iframe body",B),B&&B!=null&&B!=null){const j=(w=S.target.closest(".assistant-message"))==null?void 0:w.querySelector(".message-content");if(j){const X=j.textContent||"";await navigator.clipboard.writeText(X);const W=document.createElement("p");W.innerText=X,B.appendChild(W)}else console.warn("Message content not found")}}}}}}catch(g){console.error("Failed to copy:",g)}},y=async S=>{try{if(!l.value){console.warn("Chat history component not initialized");return}await l.value.show(),console.log("Chat history displayed successfully")}catch(w){console.error("Failed to display chat history:",w),alert("Failed to open chat history. Please try again.")}},k=async S=>{try{if(!u.value){console.warn("Help dialog component not initialized");return}await u.value.show(),console.log("Help dialog displayed successfully")}catch(w){console.error("Failed to display help dialog:",w),alert("Failed to open help. Please try again.")}};Ra(()=>{r.setSystemPrompt(o),r.setMaxTokens(a),n.textMessage&&(r.newMessage=n.textMessage,c())});const L=()=>{console.log("close window");let S=document.getElementById("chat-screen");S&&(S.style.display="none")};return(S,w)=>(he(),ge("div",Wm,[I("div",{class:"header"},[w[2]||(w[2]=I("h2",{class:"title"},"TeacherAIde",-1)),I("img",{onClick:L,src:Vs,alt:"close",class:"close-icon",title:"close"})]),I("div",qm,[Mt(r).messages.length===0?(he(),ge("div",Km,w[3]||(w[3]=[I("p",null,"You are a helpful assistant that aids teachers.",-1)]))):nn("",!0),(he(!0),ge(Ve,null,yi(Mt(r).messages,(g,R)=>(he(),ge("div",{key:R,class:"message-wrapper"},[g.role==="user"?(he(),ge("div",Gm,[I("div",Jm,Ot(g.content),1)])):nn("",!0),g.role==="assistant"?(he(),ge("div",Xm,[w[4]||(w[4]=I("div",{class:"assistant-label"},"TeacherAIde:",-1)),I("div",{class:"message-content",innerHTML:Mt(ee).parse(g.content)},null,8,Zm),I("div",{class:"message-actions",onClick:w[0]||(w[0]=Hs(()=>{},["stop"]))},[I("img",{onClick:_,src:zd,alt:"copy",class:"action-icon",title:"Copy to clipboard"}),I("img",{onClick:E,src:Wd,alt:"share",class:"action-icon",title:"Copy to editor"})])])):nn("",!0)]))),128))]),I("div",Qm,[I("div",Ym,[I("div",e0,[Ps(I("input",{"onUpdate:modelValue":w[1]||(w[1]=g=>Mt(r).newMessage=g),onKeyup:Rl(c,["enter"]),type:"text",placeholder:"Ask TeacherAIde...",class:"message-input"},null,544),[[Ns,Mt(r).newMessage]]),I("img",{onClick:c,src:Il,alt:"send",class:"send-icon",title:"send"})])]),I("div",{class:"navigation"},[I("img",{onClick:y,src:Ol,alt:"chat history",class:"nav-icon",title:"Chat history"}),I("img",{onClick:h,src:Fl,alt:"home",class:"nav-icon",title:"Start new chat"}),I("img",{onClick:k,src:Ll,alt:"help",class:"nav-icon",title:"Help"})])]),Pe(ku,{ref_key:"chatHistoryRef",ref:l,onLoadChat:p},null,512),Pe(Su,{ref_key:"helpDialogRef",ref:u},null,512)]))}}),[["styles",[".chat-container[data-v-8acdfc9f]{width:90%;max-width:500px;height:90vh;margin:20px auto;background:#fff;border-radius:12px;display:flex;flex-direction:column;border:1px solid #e5e7eb;box-shadow:0 2px 10px #0000001a}.header[data-v-8acdfc9f]{padding:16px 20px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.title[data-v-8acdfc9f]{color:#003274;font-size:24px;font-weight:600;margin:0}.close-icon[data-v-8acdfc9f]{width:15px;height:15px;cursor:pointer}.messages-container[data-v-8acdfc9f]{flex:1;overflow-y:auto;padding:16px 20px;display:flex;flex-direction:column;gap:16px}.message-wrapper[data-v-8acdfc9f]{margin-bottom:8px;width:100%}.user-message[data-v-8acdfc9f]{margin-bottom:4px}.user-message .message-content[data-v-8acdfc9f]{color:#003274;text-align:left;font-weight:800}.assistant-message[data-v-8acdfc9f]{background-color:#f8f9fa;padding:16px 20px;margin:0 -20px;position:relative}.assistant-label[data-v-8acdfc9f]{color:#003274;font-weight:800;margin-bottom:4px}.assistant-message .message-content[data-v-8acdfc9f]{color:#000;text-align:left;margin-bottom:24px}.message-content[data-v-8acdfc9f]{line-height:1.4;white-space:pre-wrap}.message-actions[data-v-8acdfc9f]{position:absolute;bottom:8px;left:20px;display:flex;gap:16px;align-items:center}.action-icon[data-v-8acdfc9f]{width:16px;height:16px;cursor:pointer;filter:brightness(0);opacity:.8;transition:opacity .2s ease;padding:2px}.bottom-container[data-v-8acdfc9f]{margin-top:auto}.input-wrapper[data-v-8acdfc9f]{padding:0 20px;margin-bottom:8px}.input-area[data-v-8acdfc9f]{background-color:#003274;border-radius:25px;display:flex;align-items:center;padding:8px 16px}.message-input[data-v-8acdfc9f]{flex:1;padding:8px;border:none;background:transparent;color:#fff;outline:none;font-size:14px}.message-input[data-v-8acdfc9f]::-moz-placeholder{color:#fff;opacity:.8}.message-input[data-v-8acdfc9f]::placeholder{color:#fff;opacity:.8}.send-icon[data-v-8acdfc9f]{width:20px;height:20px;cursor:pointer;margin-left:8px}.navigation[data-v-8acdfc9f]{background:#f8f9fa;padding:12px 20px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e5e7eb;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.nav-icon[data-v-8acdfc9f]{width:24px;height:24px;cursor:pointer;transition:opacity .2s ease}.nav-icon[data-v-8acdfc9f]:hover,.send-icon[data-v-8acdfc9f]:hover,.close-icon[data-v-8acdfc9f]:hover{opacity:.8}.messages-container[data-v-8acdfc9f]::-webkit-scrollbar{width:6px}.messages-container[data-v-8acdfc9f]::-webkit-scrollbar-track{background:transparent}.messages-container[data-v-8acdfc9f]::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px}"]],["__scopeId","data-v-8acdfc9f"]]),n0={key:0,class:"home-container"},s0={class:"content-container"},r0={class:"input-container"},i0=Vr(Tn({__name:"HomeScreen",setup(t){const e=Ae(!1),n=Ae(""),s=Ae(null),r=Ae(null),i=async()=>{var c;(c=s.value)==null||c.show()},o=async()=>{var c;(c=r.value)==null||c.show()},a=()=>{n.value.trim()&&(e.value=!0)},l=()=>{e.value=!1,n.value=""},u=()=>{e.value=!1,n.value=""};return(c,h)=>e.value?(he(),sl(t0,{key:1,"text-message":n.value,onBackToHome:u},null,8,["text-message"])):(he(),ge("div",n0,[I("img",{onClick:l,src:Vs,alt:"close",class:"close-icon"}),I("div",s0,[h[1]||(h[1]=I("h1",{class:"title"},"TeacherAIde",-1)),h[2]||(h[2]=I("p",{class:"subtitle"},"Your personal teaching assistant",-1)),I("div",r0,[Ps(I("input",{"onUpdate:modelValue":h[0]||(h[0]=p=>n.value=p),type:"text",placeholder:"Ask TeacherAIde...",class:"ask-input",onKeyup:Rl(a,["enter"])},null,544),[[Ns,n.value]]),I("img",{onClick:a,src:Il,alt:"send",class:"send-icon"})])]),I("div",{class:"navigation"},[I("img",{onClick:i,src:Ol,alt:"chat history",class:"nav-icon",title:"Chat history"}),h[3]||(h[3]=I("img",{src:Fl,alt:"home",class:"nav-icon active",title:"Home"},null,-1)),I("img",{onClick:o,src:Ll,alt:"help",class:"nav-icon",title:"Help"})]),Pe(ku,{ref_key:"chatHistoryRef",ref:s},null,512),Pe(Su,{ref_key:"helpDialogRef",ref:r},null,512)]))}}),[["styles",[".home-container[data-v-48677201]{width:90%;max-width:500px;height:90vh;margin:20px auto;background:#fff;border-radius:12px;display:flex;flex-direction:column;position:relative;border:1px solid #e5e7eb;box-shadow:0 2px 10px #0000001a}.close-icon[data-v-48677201]{position:absolute;top:20px;right:20px;width:15px;height:15px;cursor:pointer}.content-container[data-v-48677201]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.title[data-v-48677201]{color:#003274;font-size:32px;font-weight:600;margin:0}.subtitle[data-v-48677201]{color:#666;margin-top:8px}.input-container[data-v-48677201]{margin-top:24px;width:calc(100% - 40px);max-width:400px;position:relative}.ask-input[data-v-48677201]{width:calc(100% - 40px);padding:12px 20px;border-radius:25px;border:none;background-color:#003274;color:#fff;font-size:16px;outline:none}.ask-input[data-v-48677201]::-moz-placeholder{color:#fffc}.ask-input[data-v-48677201]::placeholder{color:#fffc}.send-icon[data-v-48677201]{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:24px;height:24px;cursor:pointer}.navigation[data-v-48677201]{padding:12px 20px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e5e7eb}.nav-icon[data-v-48677201]{width:24px;height:24px;cursor:pointer;opacity:.5}.nav-icon.active[data-v-48677201]{opacity:1}"]],["__scopeId","data-v-48677201"]]);async function o0({endpoint:t,method:e,params:n}){return ot.call([{methodname:"local_teacheraide_openai_gateway",args:{endpoint:t,method:e,params:n}}])[0]}const Eu=`${M.cfg.wwwroot}/webservice/restful/server.php/local_teacheraide_openai_gateway`,a0=async(t,e)=>{const n=`${t}`.replace(Eu,""),s=e==null?void 0:e.method,r=e==null?void 0:e.body,i=await o0({endpoint:n,method:s,params:r});return new Response(i.data,{status:200,headers:{"Content-Type":"application/json"}})};async function l0(t){const{systemPrompt:e,maxTokens:n}=t,s=new ue({baseURL:Eu,apiKey:"dummy",dangerouslyAllowBrowser:!0,fetch:a0}),r=Bg({client:s,systemPrompt:e,maxTokens:n});customElements.define("teacheraide-simple-chat",Od(i0,{configureApp:r}))}wt.init=l0,Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=app-lazy.min.js.map
