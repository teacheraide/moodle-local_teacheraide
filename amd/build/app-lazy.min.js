var qm=Object.defineProperty;var Km=(wt,ot,Kt)=>ot in wt?qm(wt,ot,{enumerable:!0,configurable:!0,writable:!0,value:Kt}):wt[ot]=Kt;var X=(wt,ot,Kt)=>Km(wt,typeof ot!="symbol"?ot+"":ot,Kt);define(["exports","core/ajax"],function(wt,ot){"use strict";/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kt(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const Tu={},Iu=()=>{},Jm=Object.assign,Ou=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Fu=Object.prototype.hasOwnProperty,Ur=(t,e)=>Fu.call(t,e),bt=Array.isArray,mn=t=>us(t)==="[object Map]",Lu=t=>us(t)==="[object Set]",zr=t=>typeof t=="function",ju=t=>typeof t=="string",_n=t=>typeof t=="symbol",wn=t=>t!==null&&typeof t=="object",Du=Object.prototype.toString,us=t=>Du.call(t),Bu=t=>us(t).slice(8,-1),Nu=t=>us(t)==="[object Object]",Wr=t=>ju(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yt=(t,e)=>!Object.is(t,e),Hu=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})};/**
* @vue/reactivity v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xe;class Io{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xe,!e&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){if(this._isPaused=!0,this.scopes)for(let e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(let e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){if(this._isPaused=!1,this.scopes)for(let e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(let e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=xe;try{return xe=this,e()}finally{xe=n}}}on(){xe=this}off(){xe=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Oo(t){return new Io(t)}function Fo(){return xe}function Vu(t,e=!1){xe&&xe.cleanups.push(t)}let re;const qr=new WeakSet;class Lo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,xe&&xe.active&&xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qr.has(this)&&(qr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=bn,bn=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ho(this),jo(this);const e=re,n=Ue;re=this,Ue=!0;try{return this.fn()}finally{Do(this),re=e,Ue=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xr(e);this.deps=this.depsTail=void 0,Ho(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gr(this)&&this.run()}get dirty(){return Gr(this)}}let fs=0,bn;function Kr(){fs++}function Jr(){if(fs>1){fs--;return}fs--;let t;for(;bn;){let e=bn;for(bn=void 0;e;){const n=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function jo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Do(t){let e,n=t.depsTail;for(let s=n;s;s=s.prevDep)s.version===-1?(s===n&&(n=s.prevDep),Xr(s),Uu(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0;t.deps=e,t.depsTail=n}function Gr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&Bo(e.dep.computed)===!1||e.dep.version!==e.version)return!0;return!!t._dirty}function Bo(t){if(t.flags&2)return!1;if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===yn))return;t.globalVersion=yn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&!Gr(t)){t.flags&=-3;return}const n=re,s=Ue;re=t,Ue=!0;try{jo(t);const r=t.fn();(e.version===0||yt(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{re=n,Ue=s,Do(t),t.flags&=-3}}function Xr(t){const{dep:e,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)Xr(r)}}function Uu(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ue=!0;const No=[];function at(){No.push(Ue),Ue=!1}function lt(){const t=No.pop();Ue=t===void 0?!0:t}function Ho(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=re;re=void 0;try{e()}finally{re=n}}}let yn=0;class Zr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!re||!Ue)return;let n=this.activeLink;if(n===void 0||n.sub!==re)n=this.activeLink={dep:this,sub:re,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},re.deps?(n.prevDep=re.depsTail,re.depsTail.nextDep=n,re.depsTail=n):re.deps=re.depsTail=n,re.flags&4&&Vo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=re.depsTail,n.nextDep=void 0,re.depsTail.nextDep=n,re.depsTail=n,re.deps===n&&(re.deps=s)}return n}trigger(e){this.version++,yn++,this.notify(e)}notify(e){Kr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{Jr()}}}function Vo(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Vo(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const hs=new WeakMap,Pt=Symbol(""),Qr=Symbol(""),xn=Symbol("");function me(t,e,n){if(Ue&&re){let s=hs.get(t);s||hs.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=new Zr),r.track()}}function ct(t,e,n,s,r,i){const o=hs.get(t);if(!o){yn++;return}let a=[];if(e==="clear")a=[...o.values()];else{const l=bt(t),u=l&&Wr(n);if(l&&n==="length"){const c=Number(s);o.forEach((h,p)=>{(p==="length"||p===xn||!_n(p)&&p>=c)&&a.push(h)})}else{const c=h=>h&&a.push(h);switch(n!==void 0&&c(o.get(n)),u&&c(o.get(xn)),e){case"add":l?u&&c(o.get("length")):(c(o.get(Pt)),mn(t)&&c(o.get(Qr)));break;case"delete":l||(c(o.get(Pt)),mn(t)&&c(o.get(Qr)));break;case"set":mn(t)&&c(o.get(Pt));break}}}Kr();for(const l of a)l.trigger();Jr()}function zu(t,e){var n;return(n=hs.get(t))==null?void 0:n.get(e)}function Jt(t){const e=K(t);return e===t?e:(me(e,"iterate",xn),ze(t)?e:e.map(_e))}function ds(t){return me(t=K(t),"iterate",xn),t}const Wu={__proto__:null,[Symbol.iterator](){return Yr(this,Symbol.iterator,_e)},concat(...t){return Jt(this).concat(...t.map(e=>Jt(e)))},entries(){return Yr(this,"entries",t=>(t[1]=_e(t[1]),t))},every(t,e){return ut(this,"every",t,e,void 0,arguments)},filter(t,e){return ut(this,"filter",t,e,n=>n.map(_e),arguments)},find(t,e){return ut(this,"find",t,e,_e,arguments)},findIndex(t,e){return ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ut(this,"findLast",t,e,_e,arguments)},findLastIndex(t,e){return ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return ei(this,"includes",t)},indexOf(...t){return ei(this,"indexOf",t)},join(t){return Jt(this).join(t)},lastIndexOf(...t){return ei(this,"lastIndexOf",t)},map(t,e){return ut(this,"map",t,e,void 0,arguments)},pop(){return vn(this,"pop")},push(...t){return vn(this,"push",t)},reduce(t,...e){return Uo(this,"reduce",t,e)},reduceRight(t,...e){return Uo(this,"reduceRight",t,e)},shift(){return vn(this,"shift")},some(t,e){return ut(this,"some",t,e,void 0,arguments)},splice(...t){return vn(this,"splice",t)},toReversed(){return Jt(this).toReversed()},toSorted(t){return Jt(this).toSorted(t)},toSpliced(...t){return Jt(this).toSpliced(...t)},unshift(...t){return vn(this,"unshift",t)},values(){return Yr(this,"values",_e)}};function Yr(t,e,n){const s=ds(t),r=s[e]();return s!==t&&!ze(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const qu=Array.prototype;function ut(t,e,n,s,r,i){const o=ds(t),a=o!==t&&!ze(t),l=o[e];if(l!==qu[e]){const h=l.apply(o,i);return a?_e(h):h}let u=n;o!==t&&(a?u=function(h,p){return n.call(this,_e(h),p,t)}:n.length>2&&(u=function(h,p){return n.call(this,h,p,t)}));const c=l.call(o,u,s);return a&&r?r(c):c}function Uo(t,e,n,s){const r=ds(t);let i=n;return r!==t&&(ze(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,_e(a),l,t)}),r[e](i,...s)}function ei(t,e,n){const s=K(t);me(s,"iterate",xn);const r=s[e](...n);return(r===-1||r===!1)&&ni(n[0])?(n[0]=K(n[0]),s[e](...n)):r}function vn(t,e,n=[]){at(),Kr();const s=K(t)[e].apply(t,n);return Jr(),lt(),s}const Ku=Kt("__proto__,__v_isRef,__isVue"),zo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_n));function Ju(t){_n(t)||(t=String(t));const e=K(this);return me(e,"has",t),e.hasOwnProperty(t)}class Wo{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?ta:ea:i?Yo:Qo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=bt(e);if(!r){let l;if(o&&(l=Wu[n]))return l;if(n==="hasOwnProperty")return Ju}const a=Reflect.get(e,n,ce(e)?e:s);return(_n(n)?zo.has(n):Ku(n))||(r||me(e,"get",n),i)?a:ce(a)?o&&Wr(n)?a:a.value:wn(a)?r?na(a):Sn(a):a}}class qo extends Wo{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=$t(i);if(!ze(s)&&!$t(s)&&(i=K(i),s=K(s)),!bt(e)&&ce(i)&&!ce(s))return l?!1:(i.value=s,!0)}const o=bt(e)&&Wr(n)?Number(n)<e.length:Ur(e,n),a=Reflect.set(e,n,s,r);return e===K(r)&&(o?yt(s,i)&&ct(e,"set",n,s):ct(e,"add",n,s)),a}deleteProperty(e,n){const s=Ur(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ct(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!_n(n)||!zo.has(n))&&me(e,"has",n),s}ownKeys(e){return me(e,"iterate",bt(e)?"length":Pt),Reflect.ownKeys(e)}}class Ko extends Wo{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Gu=new qo,Xu=new Ko,Zu=new qo(!0),Qu=new Ko(!0),ti=t=>t,ps=t=>Reflect.getPrototypeOf(t);function gs(t,e,n=!1,s=!1){t=t.__v_raw;const r=K(t),i=K(e);n||(yt(e,i)&&me(r,"get",e),me(r,"get",i));const{has:o}=ps(r),a=s?ti:n?ri:_e;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function ms(t,e=!1){const n=this.__v_raw,s=K(n),r=K(t);return e||(yt(t,r)&&me(s,"has",t),me(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function _s(t,e=!1){return t=t.__v_raw,!e&&me(K(t),"iterate",Pt),Reflect.get(t,"size",t)}function Jo(t,e=!1){!e&&!ze(t)&&!$t(t)&&(t=K(t));const n=K(this);return ps(n).has.call(n,t)||(n.add(t),ct(n,"add",t,t)),this}function Go(t,e,n=!1){!n&&!ze(e)&&!$t(e)&&(e=K(e));const s=K(this),{has:r,get:i}=ps(s);let o=r.call(s,t);o||(t=K(t),o=r.call(s,t));const a=i.call(s,t);return s.set(t,e),o?yt(e,a)&&ct(s,"set",t,e):ct(s,"add",t,e),this}function Xo(t){const e=K(this),{has:n,get:s}=ps(e);let r=n.call(e,t);r||(t=K(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&ct(e,"delete",t,void 0),i}function Zo(){const t=K(this),e=t.size!==0,n=t.clear();return e&&ct(t,"clear",void 0,void 0),n}function ws(t,e){return function(s,r){const i=this,o=i.__v_raw,a=K(o),l=e?ti:t?ri:_e;return!t&&me(a,"iterate",Pt),o.forEach((u,c)=>s.call(r,l(u),l(c),i))}}function bs(t,e,n){return function(...s){const r=this.__v_raw,i=K(r),o=mn(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...s),c=n?ti:e?ri:_e;return!e&&me(i,"iterate",l?Qr:Pt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function xt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Yu(){const t={get(i){return gs(this,i)},get size(){return _s(this)},has:ms,add:Jo,set:Go,delete:Xo,clear:Zo,forEach:ws(!1,!1)},e={get(i){return gs(this,i,!1,!0)},get size(){return _s(this)},has:ms,add(i){return Jo.call(this,i,!0)},set(i,o){return Go.call(this,i,o,!0)},delete:Xo,clear:Zo,forEach:ws(!1,!0)},n={get(i){return gs(this,i,!0)},get size(){return _s(this,!0)},has(i){return ms.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:ws(!0,!1)},s={get(i){return gs(this,i,!0,!0)},get size(){return _s(this,!0)},has(i){return ms.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=bs(i,!1,!1),n[i]=bs(i,!0,!1),e[i]=bs(i,!1,!0),s[i]=bs(i,!0,!0)}),[t,n,e,s]}const[ef,tf,nf,sf]=Yu();function ys(t,e){const n=e?t?sf:nf:t?tf:ef;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ur(n,r)&&r in s?n:s,r,i)}const rf={get:ys(!1,!1)},of={get:ys(!1,!0)},af={get:ys(!0,!1)},lf={get:ys(!0,!0)},Qo=new WeakMap,Yo=new WeakMap,ea=new WeakMap,ta=new WeakMap;function cf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uf(t){return t.__v_skip||!Object.isExtensible(t)?0:cf(Bu(t))}function Sn(t){return $t(t)?t:xs(t,!1,Gu,rf,Qo)}function ff(t){return xs(t,!1,Zu,of,Yo)}function na(t){return xs(t,!0,Xu,af,ea)}function Gm(t){return xs(t,!0,Qu,lf,ta)}function xs(t,e,n,s,r){if(!wn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=uf(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function vt(t){return $t(t)?vt(t.__v_raw):!!(t&&t.__v_isReactive)}function $t(t){return!!(t&&t.__v_isReadonly)}function ze(t){return!!(t&&t.__v_isShallow)}function ni(t){return t?!!t.__v_raw:!1}function K(t){const e=t&&t.__v_raw;return e?K(e):t}function si(t){return Object.isExtensible(t)&&Hu(t,"__v_skip",!0),t}const _e=t=>wn(t)?Sn(t):t,ri=t=>wn(t)?na(t):t;function ce(t){return t?t.__v_isRef===!0:!1}function Qe(t){return hf(t,!1)}function hf(t,e){return ce(t)?t:new df(t,e)}class df{constructor(e,n){this.dep=new Zr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:K(e),this._value=n?e:_e(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ze(e)||$t(e);e=s?e:K(e),yt(e,n)&&(this._rawValue=e,this._value=s?e:_e(e),this.dep.trigger())}}function Mt(t){return ce(t)?t.value:t}const pf={get:(t,e,n)=>Mt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return ce(r)&&!ce(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function sa(t){return vt(t)?t:new Proxy(t,pf)}function gf(t){const e=bt(t)?new Array(t.length):{};for(const n in t)e[n]=_f(t,n);return e}class mf{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return zu(K(this._object),this._key)}}function _f(t,e,n){const s=t[e];return ce(s)?s:new mf(t,e,n)}class wf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Zr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yn-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){re!==this&&(this.flags|=16,this.dep.notify())}get value(){const e=this.dep.track();return Bo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function bf(t,e,n=!1){let s,r;return zr(t)?s=t:(s=t.get,r=t.set),new wf(s,r,n)}const vs={},Ss=new WeakMap;let Tt;function yf(t,e=!1,n=Tt){if(n){let s=Ss.get(n);s||Ss.set(n,s=[]),s.push(t)}}function xf(t,e,n=Tu){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,u=_=>r?_:ze(_)||r===!1||r===0?ft(_,1):ft(_);let c,h,p,m,k=!1,b=!1;if(ce(t)?(h=()=>t.value,k=ze(t)):vt(t)?(h=()=>u(t),k=!0):bt(t)?(b=!0,k=t.some(_=>vt(_)||ze(_)),h=()=>t.map(_=>{if(ce(_))return _.value;if(vt(_))return u(_);if(zr(_))return l?l(_,2):_()})):zr(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){at();try{p()}finally{lt()}}const _=Tt;Tt=c;try{return l?l(t,3,[m]):t(m)}finally{Tt=_}}:h=Iu,e&&r){const _=h,P=r===!0?1/0:r;h=()=>ft(_(),P)}if(i)if(e){const _=e;e=(...P)=>{_(...P),c.stop()}}else{const _=h;h=()=>{_(),c.stop()}}let S=b?new Array(t.length).fill(vs):vs;const L=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(e){const P=c.run();if(r||k||(b?P.some((V,B)=>yt(V,S[B])):yt(P,S))){p&&p();const V=Tt;Tt=c;try{const B=[P,S===vs?void 0:b&&S[0]===vs?[]:S,m];l?l(e,3,B):e(...B),S=P}finally{Tt=V}}}else c.run()};a&&a(L),c=new Lo(h),c.scheduler=o?()=>o(L,!1):L,m=_=>yf(_,!1,c),p=c.onStop=()=>{const _=Ss.get(c);if(_){if(l)l(_,4);else for(const P of _)P();Ss.delete(c)}},e?s?L(!0):S=c.run():o?o(L.bind(null,!0),!0):c.run();const T=Fo(),C=()=>{c.stop(),T&&Ou(T.effects,c)};return C.pause=c.pause.bind(c),C.resume=c.resume.bind(c),C.stop=C,C}function ft(t,e=1/0,n){if(e<=0||!wn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ce(t))ft(t.value,e,n);else if(bt(t))for(let s=0;s<t.length;s++)ft(t[s],e,n);else if(Lu(t)||mn(t))t.forEach(s=>{ft(s,e,n)});else if(Nu(t)){for(const s in t)ft(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ft(t[s],e,n)}return t}/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vf(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const ae={},Gt=[],ht=()=>{},Sf=()=>!1,ii=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ra=t=>t.startsWith("onUpdate:"),we=Object.assign,ia=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},kf=Object.prototype.hasOwnProperty,Z=(t,e)=>kf.call(t,e),J=Array.isArray,Cf=t=>oi(t)==="[object Map]",Ef=t=>oi(t)==="[object Set]",U=t=>typeof t=="function",ve=t=>typeof t=="string",oa=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",aa=t=>(de(t)||U(t))&&U(t.then)&&U(t.catch),la=Object.prototype.toString,oi=t=>la.call(t),Af=t=>oi(t)==="[object Object]",kn=vf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ks=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Rf=/-(\w)/g,It=ks(t=>t.replace(Rf,(e,n)=>n?n.toUpperCase():"")),Pf=/\B([A-Z])/g,Cn=ks(t=>t.replace(Pf,"-$1").toLowerCase()),$f=ks(t=>t.charAt(0).toUpperCase()+t.slice(1)),ai=ks(t=>t?`on${$f(t)}`:""),li=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Mf=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Tf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ca;const ua=()=>ca||(ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ci(t){if(J(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ve(s)?Lf(s):ci(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(ve(t)||de(t))return t}const If=/;(?![^(]*\))/g,Of=/:([^]+)/,Ff=/\/\*[^]*?\*\//g;function Lf(t){const e={};return t.replace(Ff,"").split(If).forEach(n=>{if(n){const s=n.split(Of);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Cs(t){let e="";if(ve(t))e=t;else if(J(t))for(let n=0;n<t.length;n++){const s=Cs(t[n]);s&&(e+=s+" ")}else if(de(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const fa=t=>!!(t&&t.__v_isRef===!0),En=t=>ve(t)?t:t==null?"":J(t)||de(t)&&(t.toString===la||!U(t.toString))?fa(t)?En(t.value):JSON.stringify(t,ha,2):String(t),ha=(t,e)=>fa(e)?ha(t,e.value):Cf(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[ui(s,i)+" =>"]=r,n),{})}:Ef(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ui(n))}:oa(e)?ui(e):de(e)&&!J(e)&&!Af(e)?String(e):e,ui=(t,e="")=>{var n;return oa(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/runtime-core v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const An=[];let fi=!1;function Xm(t,...e){if(fi)return;fi=!0,at();const n=An.length?An[An.length-1].component:null,s=n&&n.appContext.config.warnHandler,r=jf();if(s)Xt(s,n,11,[t+e.map(i=>{var o,a;return(a=(o=i.toString)==null?void 0:o.call(i))!=null?a:JSON.stringify(i)}).join(""),n&&n.proxy,r.map(({vnode:i})=>`at <${al(n,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${t}`,...e];r.length&&i.push(`
`,...Df(r)),console.warn(...i)}lt(),fi=!1}function jf(){let t=An[An.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const s=t.component&&t.component.parent;t=s&&s.vnode}return e}function Df(t){const e=[];return t.forEach((n,s)=>{e.push(...s===0?[]:[`
`],...Bf(n))}),e}function Bf({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",s=t.component?t.component.parent==null:!1,r=` at <${al(t.component,t.type,s)}`,i=">"+n;return t.props?[r,...Nf(t.props),i]:[r+i]}function Nf(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(s=>{e.push(...da(s,t[s]))}),n.length>3&&e.push(" ..."),e}function da(t,e,n){return ve(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:ce(e)?(e=da(t,K(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):U(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=K(e),n?e:[`${t}=`,e])}function Xt(t,e,n,s){try{return s?t(...s):t()}catch(r){Es(r,e,n)}}function Ye(t,e,n,s){if(U(t)){const r=Xt(t,e,n,s);return r&&aa(r)&&r.catch(i=>{Es(i,e,n)}),r}if(J(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Ye(t[i],e,n,s));return r}}function Es(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ae;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){at(),Xt(i,null,10,[t,l,u]),lt();return}}Hf(t,n,r,s,o)}function Hf(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}let Rn=!1,hi=!1;const Pe=[];let Ot=0;const Zt=[];let St=null,Qt=0;const pa=Promise.resolve();let di=null;function pi(t){const e=di||pa;return t?e.then(this?t.bind(this):t):e}function Vf(t){let e=Rn?Ot+1:0,n=Pe.length;for(;e<n;){const s=e+n>>>1,r=Pe[s],i=Pn(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function gi(t){if(!(t.flags&1)){const e=Pn(t),n=Pe[Pe.length-1];!n||!(t.flags&2)&&e>=Pn(n)?Pe.push(t):Pe.splice(Vf(e),0,t),t.flags&4||(t.flags|=1),ga()}}function ga(){!Rn&&!hi&&(hi=!0,di=pa.then(wa))}function Uf(t){J(t)?Zt.push(...t):St&&t.id===-1?St.splice(Qt+1,0,t):t.flags&1||(Zt.push(t),t.flags&4||(t.flags|=1)),ga()}function ma(t,e,n=Rn?Ot+1:0){for(;n<Pe.length;n++){const s=Pe[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Pe.splice(n,1),n--,s(),s.flags&=-2}}}function _a(t){if(Zt.length){const e=[...new Set(Zt)].sort((n,s)=>Pn(n)-Pn(s));if(Zt.length=0,St){St.push(...e);return}for(St=e,Qt=0;Qt<St.length;Qt++){const n=St[Qt];n.flags&8||n(),n.flags&=-2}St=null,Qt=0}}const Pn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function wa(t){hi=!1,Rn=!0;try{for(Ot=0;Ot<Pe.length;Ot++){const e=Pe[Ot];e&&!(e.flags&8)&&(Xt(e,e.i,e.i?15:14),e.flags&=-2)}}finally{Ot=0,Pe.length=0,_a(),Rn=!1,di=null,(Pe.length||Zt.length)&&wa()}}let $e=null,ba=null;function As(t){const e=$e;return $e=t,ba=t&&t.type.__scopeId||null,e}function zf(t,e=$e,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Qa(-1);const i=As(e);let o;try{o=t(...r)}finally{As(i),s._d&&Qa(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ya(t,e){if($e===null)return t;const n=Ls($e),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=ae]=e[r];i&&(U(i)&&(i={mounted:i,updated:i}),i.deep&&ft(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ft(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(at(),Ye(l,n,8,[t.el,a,t,e]),lt())}}const Wf=Symbol("_vte"),qf=t=>t.__isTeleport;function xa(t,e){t.shapeFlag&6&&t.component?xa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function $n(t,e){return U(t)?we({name:t.name},e,{setup:t}):t}function va(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function mi(t,e,n,s,r=!1){if(J(t)){t.forEach((p,m)=>mi(p,e&&(J(e)?e[m]:e),n,s,r));return}if(Mn(s)&&!r)return;const i=s.shapeFlag&4?Ls(s.component):s.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ae?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(ve(u)?(c[u]=null,Z(h,u)&&(h[u]=null)):ce(u)&&(u.value=null)),U(l))Xt(l,a,12,[o,c]);else{const p=ve(l),m=ce(l);if(p||m){const k=()=>{if(t.f){const b=p?Z(h,l)?h[l]:c[l]:l.value;r?J(b)&&ia(b,i):J(b)?b.includes(i)||b.push(i):p?(c[l]=[i],Z(h,l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else p?(c[l]=o,Z(h,l)&&(h[l]=o)):m&&(l.value=o,t.k&&(c[t.k]=o))};o?(k.id=-1,Me(k,n)):k()}}}const Mn=t=>!!t.type.__asyncLoader,Sa=t=>t.type.__isKeepAlive;function Kf(t,e){ka(t,"a",e)}function Jf(t,e){ka(t,"da",e)}function ka(t,e,n=be){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Rs(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Sa(r.parent.vnode)&&Gf(s,e,n,r),r=r.parent}}function Gf(t,e,n,s){const r=Rs(e,t,s,!0);Ea(()=>{ia(s[e],r)},n)}function Rs(t,e,n=be,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{at();const a=Dn(n),l=Ye(e,n,t,o);return a(),lt(),l});return s?r.unshift(i):r.push(i),i}}const dt=t=>(e,n=be)=>{(!Fs||t==="sp")&&Rs(t,(...s)=>e(...s),n)},Xf=dt("bm"),Ca=dt("m"),Zf=dt("bu"),Qf=dt("u"),Yf=dt("bum"),Ea=dt("um"),eh=dt("sp"),th=dt("rtg"),nh=dt("rtc");function sh(t,e=be){Rs("ec",t,e)}const rh=Symbol.for("v-ndc");function Aa(t,e,n,s){let r;const i=n,o=J(t);if(o||ve(t)){const a=o&&vt(t);a&&(t=ds(t)),r=new Array(t.length);for(let l=0,u=t.length;l<u;l++)r[l]=e(a?_e(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(de(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const _i=t=>t?sl(t)?Ls(t):_i(t.parent):null,Tn=we(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_i(t.parent),$root:t=>_i(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>yi(t),$forceUpdate:t=>t.f||(t.f=()=>{gi(t.update)}),$nextTick:t=>t.n||(t.n=pi.bind(t.proxy)),$watch:t=>Ah.bind(t)}),wi=(t,e)=>t!==ae&&!t.__isScriptSetup&&Z(t,e),ih={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(wi(s,e))return o[e]=1,s[e];if(r!==ae&&Z(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&Z(u,e))return o[e]=3,i[e];if(n!==ae&&Z(n,e))return o[e]=4,n[e];bi&&(o[e]=0)}}const c=Tn[e];let h,p;if(c)return e==="$attrs"&&me(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ae&&Z(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Z(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return wi(r,e)?(r[e]=n,!0):s!==ae&&Z(s,e)?(s[e]=n,!0):Z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==ae&&Z(t,o)||wi(e,o)||(a=i[0])&&Z(a,o)||Z(s,o)||Z(Tn,o)||Z(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Z(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ra(t){return J(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let bi=!0;function oh(t){const e=yi(t),n=t.proxy,s=t.ctx;bi=!1,e.beforeCreate&&Pa(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:m,updated:k,activated:b,deactivated:S,beforeDestroy:L,beforeUnmount:T,destroyed:C,unmounted:_,render:P,renderTracked:V,renderTriggered:B,errorCaptured:H,serverPrefetch:D,expose:se,inheritAttrs:G,components:Re,directives:Rt,filters:os}=e;if(u&&ah(u,s,null),o)for(const W in o){const ie=o[W];U(ie)&&(s[W]=ie.bind(n))}if(r){const W=r.call(n,n);de(W)&&(t.data=Sn(W))}if(bi=!0,i)for(const W in i){const ie=i[W],Wt=U(ie)?ie.bind(n,n):U(ie.get)?ie.get.bind(n,n):ht,Hr=!U(ie)&&U(ie.set)?ie.set.bind(n):ht,qt=ll({get:Wt,set:Hr});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>qt.value,set:rt=>qt.value=rt})}if(a)for(const W in a)$a(a[W],s,n,W);if(l){const W=U(l)?l.call(n):l;Reflect.ownKeys(W).forEach(ie=>{dh(ie,W[ie])})}c&&Pa(c,t,"c");function fe(W,ie){J(ie)?ie.forEach(Wt=>W(Wt.bind(n))):ie&&W(ie.bind(n))}if(fe(Xf,h),fe(Ca,p),fe(Zf,m),fe(Qf,k),fe(Kf,b),fe(Jf,S),fe(sh,H),fe(nh,V),fe(th,B),fe(Yf,T),fe(Ea,_),fe(eh,D),J(se))if(se.length){const W=t.exposed||(t.exposed={});se.forEach(ie=>{Object.defineProperty(W,ie,{get:()=>n[ie],set:Wt=>n[ie]=Wt})})}else t.exposed||(t.exposed={});P&&t.render===ht&&(t.render=P),G!=null&&(t.inheritAttrs=G),Re&&(t.components=Re),Rt&&(t.directives=Rt),D&&va(t)}function ah(t,e,n=ht){J(t)&&(t=xi(t));for(const s in t){const r=t[s];let i;de(r)?"default"in r?i=Yt(r.from||s,r.default,!0):i=Yt(r.from||s):i=Yt(r),ce(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Pa(t,e,n){Ye(J(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function $a(t,e,n,s){let r=s.includes(".")?Ja(n,s):()=>n[s];if(ve(t)){const i=e[t];U(i)&&$s(r,i)}else if(U(t))$s(r,t.bind(n));else if(de(t))if(J(t))t.forEach(i=>$a(i,e,n,s));else{const i=U(t.handler)?t.handler.bind(n):e[t.handler];U(i)&&$s(r,i,t)}}function yi(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>Ps(l,u,o,!0)),Ps(l,e,o)),de(e)&&i.set(e,l),l}function Ps(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ps(t,i,n,!0),r&&r.forEach(o=>Ps(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=lh[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const lh={data:Ma,props:Ta,emits:Ta,methods:In,computed:In,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:In,directives:In,watch:uh,provide:Ma,inject:ch};function Ma(t,e){return e?t?function(){return we(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function ch(t,e){return In(xi(t),xi(e))}function xi(t){if(J(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Se(t,e){return t?[...new Set([].concat(t,e))]:e}function In(t,e){return t?we(Object.create(null),t,e):e}function Ta(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:we(Object.create(null),Ra(t),Ra(e??{})):e}function uh(t,e){if(!t)return e;if(!e)return t;const n=we(Object.create(null),t);for(const s in e)n[s]=Se(t[s],e[s]);return n}function Ia(){return{app:null,config:{isNativeTag:Sf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fh=0;function hh(t,e){return function(s,r=null){U(s)||(s=we({},s)),r!=null&&!de(r)&&(r=null);const i=Ia(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:fh++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Qh,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(u,...h)):U(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const m=u._ceVNode||Ee(s,r);return m.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),h&&e?e(m,c):t(m,c,p),l=!0,u._container=c,c.__vue_app__=u,Ls(m.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ye(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Lt;Lt=u;try{return c()}finally{Lt=h}}};return u}}let Lt=null;function dh(t,e){if(be){let n=be.provides;const s=be.parent&&be.parent.provides;s===n&&(n=be.provides=Object.create(s)),n[t]=e}}function Yt(t,e,n=!1){const s=be||$e;if(s||Lt){const r=Lt?Lt._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&U(e)?e.call(s&&s.proxy):e}}function ph(){return!!(be||$e||Lt)}const Oa={},Fa=()=>Object.create(Oa),La=t=>Object.getPrototypeOf(t)===Oa;function gh(t,e,n,s=!1){const r={},i=Fa();t.propsDefaults=Object.create(null),ja(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:ff(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function mh(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=K(r),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(Ms(t.emitsOptions,p))continue;const m=e[p];if(l)if(Z(i,p))m!==i[p]&&(i[p]=m,u=!0);else{const k=It(p);r[k]=vi(l,a,k,m,t,!1)}else m!==i[p]&&(i[p]=m,u=!0)}}}else{ja(t,e,r,i)&&(u=!0);let c;for(const h in a)(!e||!Z(e,h)&&((c=Cn(h))===h||!Z(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(r[h]=vi(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!Z(e,h))&&(delete i[h],u=!0)}u&&ct(t.attrs,"set","")}function ja(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(kn(l))continue;const u=e[l];let c;r&&Z(r,c=It(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ms(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=K(n),u=a||ae;for(let c=0;c<i.length;c++){const h=i[c];n[h]=vi(r,l,h,u[h],t,!Z(u,h))}}return o}function vi(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Z(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=Dn(r);s=u[n]=l.call(null,e),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Cn(n))&&(s=!0))}return s}const _h=new WeakMap;function Da(t,e,n=!1){const s=n?_h:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const c=h=>{l=!0;const[p,m]=Da(h,e,!0);we(o,p),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return de(t)&&s.set(t,Gt),Gt;if(J(i))for(let c=0;c<i.length;c++){const h=It(i[c]);Ba(h)&&(o[h]=ae)}else if(i)for(const c in i){const h=It(c);if(Ba(h)){const p=i[c],m=o[h]=J(p)||U(p)?{type:p}:we({},p),k=m.type;let b=!1,S=!0;if(J(k))for(let L=0;L<k.length;++L){const T=k[L],C=U(T)&&T.name;if(C==="Boolean"){b=!0;break}else C==="String"&&(S=!1)}else b=U(k)&&k.name==="Boolean";m[0]=b,m[1]=S,(b||Z(m,"default"))&&a.push(h)}}const u=[o,a];return de(t)&&s.set(t,u),u}function Ba(t){return t[0]!=="$"&&!kn(t)}const Na=t=>t[0]==="_"||t==="$stable",Si=t=>J(t)?t.map(et):[et(t)],wh=(t,e,n)=>{if(e._n)return e;const s=zf((...r)=>Si(e(...r)),n);return s._c=!1,s},Ha=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Na(r))continue;const i=t[r];if(U(i))e[r]=wh(r,i,s);else if(i!=null){const o=Si(i);e[r]=()=>o}}},Va=(t,e)=>{const n=Si(e);t.slots.default=()=>n},Ua=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},bh=(t,e,n)=>{const s=t.slots=Fa();if(t.vnode.shapeFlag&32){const r=e._;r?(Ua(s,e,n),n&&Mf(s,"_",r,!0)):Ha(e,s)}else e&&Va(t,e)},yh=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=ae;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Ua(r,e,n):(i=!e.$stable,Ha(e,r)),o=e}else e&&(Va(t,e),o={default:1});if(i)for(const a in r)!Na(a)&&o[a]==null&&delete r[a]},Me=Oh;function xh(t){return vh(t)}function vh(t,e){const n=ua();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:m=ht,insertStaticContent:k}=t,b=(f,d,g,x=null,w=null,y=null,R=void 0,A=null,E=!!d.dynamicChildren)=>{if(f===d)return;f&&!Ln(f,d)&&(x=Vr(f),rt(f,w,y,!0),f=null),d.patchFlag===-2&&(E=!1,d.dynamicChildren=null);const{type:v,ref:j,shapeFlag:$}=d;switch(v){case Ts:S(f,d,g,x);break;case Dt:L(f,d,g,x);break;case Ei:f==null&&T(d,g,x,R);break;case We:Re(f,d,g,x,w,y,R,A,E);break;default:$&1?P(f,d,g,x,w,y,R,A,E):$&6?Rt(f,d,g,x,w,y,R,A,E):($&64||$&128)&&v.process(f,d,g,x,w,y,R,A,E,ls)}j!=null&&w&&mi(j,f&&f.ref,y,d||f,!d)},S=(f,d,g,x)=>{if(f==null)s(d.el=a(d.children),g,x);else{const w=d.el=f.el;d.children!==f.children&&u(w,d.children)}},L=(f,d,g,x)=>{f==null?s(d.el=l(d.children||""),g,x):d.el=f.el},T=(f,d,g,x)=>{[f.el,f.anchor]=k(f.children,d,g,x,f.el,f.anchor)},C=({el:f,anchor:d},g,x)=>{let w;for(;f&&f!==d;)w=p(f),s(f,g,x),f=w;s(d,g,x)},_=({el:f,anchor:d})=>{let g;for(;f&&f!==d;)g=p(f),r(f),f=g;r(d)},P=(f,d,g,x,w,y,R,A,E)=>{d.type==="svg"?R="svg":d.type==="math"&&(R="mathml"),f==null?V(d,g,x,w,y,R,A,E):D(f,d,w,y,R,A,E)},V=(f,d,g,x,w,y,R,A)=>{let E,v;const{props:j,shapeFlag:$,transition:O,dirs:N}=f;if(E=f.el=o(f.type,y,j&&j.is,j),$&8?c(E,f.children):$&16&&H(f.children,E,null,x,w,ki(f,y),R,A),N&&Ft(f,null,x,"created"),B(E,f,f.scopeId,R,x),j){for(const oe in j)oe!=="value"&&!kn(oe)&&i(E,oe,null,j[oe],y,x);"value"in j&&i(E,"value",null,j.value,y),(v=j.onVnodeBeforeMount)&&tt(v,x,f)}N&&Ft(f,null,x,"beforeMount");const q=Sh(w,O);q&&O.beforeEnter(E),s(E,d,g),((v=j&&j.onVnodeMounted)||q||N)&&Me(()=>{v&&tt(v,x,f),q&&O.enter(E),N&&Ft(f,null,x,"mounted")},w)},B=(f,d,g,x,w)=>{if(g&&m(f,g),x)for(let y=0;y<x.length;y++)m(f,x[y]);if(w){let y=w.subTree;if(d===y||Za(y.type)&&(y.ssContent===d||y.ssFallback===d)){const R=w.vnode;B(f,R,R.scopeId,R.slotScopeIds,w.parent)}}},H=(f,d,g,x,w,y,R,A,E=0)=>{for(let v=E;v<f.length;v++){const j=f[v]=A?kt(f[v]):et(f[v]);b(null,j,d,g,x,w,y,R,A)}},D=(f,d,g,x,w,y,R)=>{const A=d.el=f.el;let{patchFlag:E,dynamicChildren:v,dirs:j}=d;E|=f.patchFlag&16;const $=f.props||ae,O=d.props||ae;let N;if(g&&jt(g,!1),(N=O.onVnodeBeforeUpdate)&&tt(N,g,d,f),j&&Ft(d,f,g,"beforeUpdate"),g&&jt(g,!0),($.innerHTML&&O.innerHTML==null||$.textContent&&O.textContent==null)&&c(A,""),v?se(f.dynamicChildren,v,A,g,x,ki(d,w),y):R||ie(f,d,A,null,g,x,ki(d,w),y,!1),E>0){if(E&16)G(A,$,O,g,w);else if(E&2&&$.class!==O.class&&i(A,"class",null,O.class,w),E&4&&i(A,"style",$.style,O.style,w),E&8){const q=d.dynamicProps;for(let oe=0;oe<q.length;oe++){const ee=q[oe],je=$[ee],ke=O[ee];(ke!==je||ee==="value")&&i(A,ee,je,ke,w,g)}}E&1&&f.children!==d.children&&c(A,d.children)}else!R&&v==null&&G(A,$,O,g,w);((N=O.onVnodeUpdated)||j)&&Me(()=>{N&&tt(N,g,d,f),j&&Ft(d,f,g,"updated")},x)},se=(f,d,g,x,w,y,R)=>{for(let A=0;A<d.length;A++){const E=f[A],v=d[A],j=E.el&&(E.type===We||!Ln(E,v)||E.shapeFlag&70)?h(E.el):g;b(E,v,j,null,x,w,y,R,!0)}},G=(f,d,g,x,w)=>{if(d!==g){if(d!==ae)for(const y in d)!kn(y)&&!(y in g)&&i(f,y,d[y],null,w,x);for(const y in g){if(kn(y))continue;const R=g[y],A=d[y];R!==A&&y!=="value"&&i(f,y,A,R,w,x)}"value"in g&&i(f,"value",d.value,g.value,w)}},Re=(f,d,g,x,w,y,R,A,E)=>{const v=d.el=f?f.el:a(""),j=d.anchor=f?f.anchor:a("");let{patchFlag:$,dynamicChildren:O,slotScopeIds:N}=d;N&&(A=A?A.concat(N):N),f==null?(s(v,g,x),s(j,g,x),H(d.children||[],g,j,w,y,R,A,E)):$>0&&$&64&&O&&f.dynamicChildren?(se(f.dynamicChildren,O,g,w,y,R,A),(d.key!=null||w&&d===w.subTree)&&za(f,d,!0)):ie(f,d,g,j,w,y,R,A,E)},Rt=(f,d,g,x,w,y,R,A,E)=>{d.slotScopeIds=A,f==null?d.shapeFlag&512?w.ctx.activate(d,g,x,R,E):os(d,g,x,w,y,R,E):Nr(f,d,E)},os=(f,d,g,x,w,y,R)=>{const A=f.component=Uh(f,x,w);if(Sa(f)&&(A.ctx.renderer=ls),zh(A,!1,R),A.asyncDep){if(w&&w.registerDep(A,fe,R),!f.el){const E=A.subTree=Ee(Dt);L(null,E,d,g)}}else fe(A,f,d,g,w,y,R)},Nr=(f,d,g)=>{const x=d.component=f.component;if(Th(f,d,g))if(x.asyncDep&&!x.asyncResolved){W(x,d,g);return}else x.next=d,x.update();else d.el=f.el,x.vnode=d},fe=(f,d,g,x,w,y,R)=>{const A=()=>{if(f.isMounted){let{next:$,bu:O,u:N,parent:q,vnode:oe}=f;{const De=Wa(f);if(De){$&&($.el=oe.el,W(f,$,R)),De.asyncDep.then(()=>{f.isUnmounted||A()});return}}let ee=$,je;jt(f,!1),$?($.el=oe.el,W(f,$,R)):$=oe,O&&li(O),(je=$.props&&$.props.onVnodeBeforeUpdate)&&tt(je,q,$,oe),jt(f,!0);const ke=Ci(f),Ze=f.subTree;f.subTree=ke,b(Ze,ke,h(Ze.el),Vr(Ze),f,w,y),$.el=ke.el,ee===null&&Ih(f,ke.el),N&&Me(N,w),(je=$.props&&$.props.onVnodeUpdated)&&Me(()=>tt(je,q,$,oe),w)}else{let $;const{el:O,props:N}=d,{bm:q,m:oe,parent:ee,root:je,type:ke}=f,Ze=Mn(d);if(jt(f,!1),q&&li(q),!Ze&&($=N&&N.onVnodeBeforeMount)&&tt($,ee,d),jt(f,!0),O&&Pu){const De=()=>{f.subTree=Ci(f),Pu(O,f.subTree,f,w,null)};Ze?ke.__asyncHydrate(O,f,De):De()}else{je.ce&&je.ce._injectChildStyle(ke);const De=f.subTree=Ci(f);b(null,De,g,x,f,w,y),d.el=De.el}if(oe&&Me(oe,w),!Ze&&($=N&&N.onVnodeMounted)){const De=d;Me(()=>tt($,ee,De),w)}(d.shapeFlag&256||ee&&Mn(ee.vnode)&&ee.vnode.shapeFlag&256)&&f.a&&Me(f.a,w),f.isMounted=!0,d=g=x=null}};f.scope.on();const E=f.effect=new Lo(A);f.scope.off();const v=f.update=E.run.bind(E),j=f.job=E.runIfDirty.bind(E);j.i=f,j.id=f.uid,E.scheduler=()=>gi(j),jt(f,!0),v()},W=(f,d,g)=>{d.component=f;const x=f.vnode.props;f.vnode=d,f.next=null,mh(f,d.props,x,g),yh(f,d.children,g),at(),ma(f),lt()},ie=(f,d,g,x,w,y,R,A,E=!1)=>{const v=f&&f.children,j=f?f.shapeFlag:0,$=d.children,{patchFlag:O,shapeFlag:N}=d;if(O>0){if(O&128){Hr(v,$,g,x,w,y,R,A,E);return}else if(O&256){Wt(v,$,g,x,w,y,R,A,E);return}}N&8?(j&16&&as(v,w,y),$!==v&&c(g,$)):j&16?N&16?Hr(v,$,g,x,w,y,R,A,E):as(v,w,y,!0):(j&8&&c(g,""),N&16&&H($,g,x,w,y,R,A,E))},Wt=(f,d,g,x,w,y,R,A,E)=>{f=f||Gt,d=d||Gt;const v=f.length,j=d.length,$=Math.min(v,j);let O;for(O=0;O<$;O++){const N=d[O]=E?kt(d[O]):et(d[O]);b(f[O],N,g,null,w,y,R,A,E)}v>j?as(f,w,y,!0,!1,$):H(d,g,x,w,y,R,A,E,$)},Hr=(f,d,g,x,w,y,R,A,E)=>{let v=0;const j=d.length;let $=f.length-1,O=j-1;for(;v<=$&&v<=O;){const N=f[v],q=d[v]=E?kt(d[v]):et(d[v]);if(Ln(N,q))b(N,q,g,null,w,y,R,A,E);else break;v++}for(;v<=$&&v<=O;){const N=f[$],q=d[O]=E?kt(d[O]):et(d[O]);if(Ln(N,q))b(N,q,g,null,w,y,R,A,E);else break;$--,O--}if(v>$){if(v<=O){const N=O+1,q=N<j?d[N].el:x;for(;v<=O;)b(null,d[v]=E?kt(d[v]):et(d[v]),g,q,w,y,R,A,E),v++}}else if(v>O)for(;v<=$;)rt(f[v],w,y,!0),v++;else{const N=v,q=v,oe=new Map;for(v=q;v<=O;v++){const Be=d[v]=E?kt(d[v]):et(d[v]);Be.key!=null&&oe.set(Be.key,v)}let ee,je=0;const ke=O-q+1;let Ze=!1,De=0;const cs=new Array(ke);for(v=0;v<ke;v++)cs[v]=0;for(v=N;v<=$;v++){const Be=f[v];if(je>=ke){rt(Be,w,y,!0);continue}let it;if(Be.key!=null)it=oe.get(Be.key);else for(ee=q;ee<=O;ee++)if(cs[ee-q]===0&&Ln(Be,d[ee])){it=ee;break}it===void 0?rt(Be,w,y,!0):(cs[it-q]=v+1,it>=De?De=it:Ze=!0,b(Be,d[it],g,null,w,y,R,A,E),je++)}const $u=Ze?kh(cs):Gt;for(ee=$u.length-1,v=ke-1;v>=0;v--){const Be=q+v,it=d[Be],Mu=Be+1<j?d[Be+1].el:x;cs[v]===0?b(null,it,g,Mu,w,y,R,A,E):Ze&&(ee<0||v!==$u[ee]?qt(it,g,Mu,2):ee--)}}},qt=(f,d,g,x,w=null)=>{const{el:y,type:R,transition:A,children:E,shapeFlag:v}=f;if(v&6){qt(f.component.subTree,d,g,x);return}if(v&128){f.suspense.move(d,g,x);return}if(v&64){R.move(f,d,g,ls);return}if(R===We){s(y,d,g);for(let $=0;$<E.length;$++)qt(E[$],d,g,x);s(f.anchor,d,g);return}if(R===Ei){C(f,d,g);return}if(x!==2&&v&1&&A)if(x===0)A.beforeEnter(y),s(y,d,g),Me(()=>A.enter(y),w);else{const{leave:$,delayLeave:O,afterLeave:N}=A,q=()=>s(y,d,g),oe=()=>{$(y,()=>{q(),N&&N()})};O?O(y,q,oe):oe()}else s(y,d,g)},rt=(f,d,g,x=!1,w=!1)=>{const{type:y,props:R,ref:A,children:E,dynamicChildren:v,shapeFlag:j,patchFlag:$,dirs:O,cacheIndex:N}=f;if($===-2&&(w=!1),A!=null&&mi(A,null,g,f,!0),N!=null&&(d.renderCache[N]=void 0),j&256){d.ctx.deactivate(f);return}const q=j&1&&O,oe=!Mn(f);let ee;if(oe&&(ee=R&&R.onVnodeBeforeUnmount)&&tt(ee,d,f),j&6)Wm(f.component,g,x);else{if(j&128){f.suspense.unmount(g,x);return}q&&Ft(f,null,d,"beforeUnmount"),j&64?f.type.remove(f,d,g,ls,x):v&&!v.hasOnce&&(y!==We||$>0&&$&64)?as(v,d,g,!1,!0):(y===We&&$&384||!w&&j&16)&&as(E,d,g),x&&Eu(f)}(oe&&(ee=R&&R.onVnodeUnmounted)||q)&&Me(()=>{ee&&tt(ee,d,f),q&&Ft(f,null,d,"unmounted")},g)},Eu=f=>{const{type:d,el:g,anchor:x,transition:w}=f;if(d===We){zm(g,x);return}if(d===Ei){_(f);return}const y=()=>{r(g),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(f.shapeFlag&1&&w&&!w.persisted){const{leave:R,delayLeave:A}=w,E=()=>R(g,y);A?A(f.el,y,E):E()}else y()},zm=(f,d)=>{let g;for(;f!==d;)g=p(f),r(f),f=g;r(d)},Wm=(f,d,g)=>{const{bum:x,scope:w,job:y,subTree:R,um:A,m:E,a:v}=f;qa(E),qa(v),x&&li(x),w.stop(),y&&(y.flags|=8,rt(R,f,d,g)),A&&Me(A,d),Me(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},as=(f,d,g,x=!1,w=!1,y=0)=>{for(let R=y;R<f.length;R++)rt(f[R],d,g,x,w)},Vr=f=>{if(f.shapeFlag&6)return Vr(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),g=d&&d[Wf];return g?p(g):d};let To=!1;const Au=(f,d,g)=>{f==null?d._vnode&&rt(d._vnode,null,null,!0):b(d._vnode||null,f,d,null,null,null,g),d._vnode=f,To||(To=!0,ma(),_a(),To=!1)},ls={p:b,um:rt,m:qt,r:Eu,mt:os,mc:H,pc:ie,pbc:se,n:Vr,o:t};let Ru,Pu;return{render:Au,hydrate:Ru,createApp:hh(Au,Ru)}}function ki({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function jt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Sh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function za(t,e,n=!1){const s=t.children,r=e.children;if(J(s)&&J(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=kt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&za(o,a)),a.type===Ts&&(a.el=o.el)}}function kh(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Wa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Wa(e)}function qa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ch=Symbol.for("v-scx"),Eh=()=>Yt(Ch);function $s(t,e,n){return Ka(t,e,n)}function Ka(t,e,n=ae){const{immediate:s,deep:r,flush:i,once:o}=n,a=we({},n);let l;if(Fs)if(i==="sync"){const p=Eh();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!e||s)a.once=!0;else return{stop:ht,resume:ht,pause:ht};const u=be;a.call=(p,m,k)=>Ye(p,u,m,k);let c=!1;i==="post"?a.scheduler=p=>{Me(p,u&&u.suspense)}:i!=="sync"&&(c=!0,a.scheduler=(p,m)=>{m?p():gi(p)}),a.augmentJob=p=>{e&&(p.flags|=4),c&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=xf(t,e,a);return l&&l.push(h),h}function Ah(t,e,n){const s=this.proxy,r=ve(t)?t.includes(".")?Ja(s,t):()=>s[t]:t.bind(s,s);let i;U(e)?i=e:(i=e.handler,n=e);const o=Dn(this),a=Ka(r,i.bind(s),n);return o(),a}function Ja(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Rh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${It(e)}Modifiers`]||t[`${Cn(e)}Modifiers`];function Ph(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ae;let r=n;const i=e.startsWith("update:"),o=i&&Rh(s,e.slice(7));o&&(o.trim&&(r=n.map(c=>ve(c)?c.trim():c)),o.number&&(r=n.map(Tf)));let a,l=s[a=ai(e)]||s[a=ai(It(e))];!l&&i&&(l=s[a=ai(Cn(e))]),l&&Ye(l,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ye(u,t,6,r)}}function Ga(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!U(t)){const l=u=>{const c=Ga(u,e,!0);c&&(a=!0,we(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(de(t)&&s.set(t,null),null):(J(i)?i.forEach(l=>o[l]=null):we(o,i),de(t)&&s.set(t,o),o)}function Ms(t,e){return!t||!ii(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(t,e[0].toLowerCase()+e.slice(1))||Z(t,Cn(e))||Z(t,e))}function Zm(){}function Ci(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:m,ctx:k,inheritAttrs:b}=t,S=As(t);let L,T;try{if(n.shapeFlag&4){const _=r||s,P=_;L=et(u.call(P,_,c,h,m,p,k)),T=a}else{const _=e;L=et(_.length>1?_(h,{attrs:a,slots:o,emit:l}):_(h,null)),T=e.props?a:$h(a)}}catch(_){On.length=0,Es(_,t,1),L=Ee(Dt)}let C=L;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:P}=C;_.length&&P&7&&(i&&_.some(ra)&&(T=Mh(T,i)),C=en(C,T,!1,!0))}return n.dirs&&(C=en(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),L=C,As(S),L}const $h=t=>{let e;for(const n in t)(n==="class"||n==="style"||ii(n))&&((e||(e={}))[n]=t[n]);return e},Mh=(t,e)=>{const n={};for(const s in t)(!ra(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Th(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Xa(s,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==s[p]&&!Ms(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Xa(s,o,u):!0:!!o;return!1}function Xa(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ms(n,i))return!0}return!1}function Ih({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Za=t=>t.__isSuspense;function Oh(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):Uf(t)}const We=Symbol.for("v-fgt"),Ts=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),Ei=Symbol.for("v-stc"),On=[];let Te=null;function Ce(t=!1){On.push(Te=t?null:[])}function Fh(){On.pop(),Te=On[On.length-1]||null}let Fn=1;function Qa(t){Fn+=t,t<0&&Te&&(Te.hasOnce=!0)}function Ya(t){return t.dynamicChildren=Fn>0?Te||Gt:null,Fh(),Fn>0&&Te&&Te.push(t),t}function Ne(t,e,n,s,r,i){return Ya(F(t,e,n,s,r,i,!0))}function el(t,e,n,s,r){return Ya(Ee(t,e,n,s,r,!0))}function Lh(t){return t?t.__v_isVNode===!0:!1}function Ln(t,e){return t.type===e.type&&t.key===e.key}const tl=({key:t})=>t??null,Is=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ve(t)||ce(t)||U(t)?{i:$e,r:t,k:e,f:!!n}:t:null);function F(t,e=null,n=null,s=0,r=null,i=t===We?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tl(e),ref:e&&Is(e),scopeId:ba,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:$e};return a?(Ai(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ve(n)?8:16),Fn>0&&!o&&Te&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Te.push(l),l}const Ee=jh;function jh(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===rh)&&(t=Dt),Lh(t)){const a=en(t,e,!0);return n&&Ai(a,n),Fn>0&&!i&&Te&&(a.shapeFlag&6?Te[Te.indexOf(t)]=a:Te.push(a)),a.patchFlag=-2,a}if(Zh(t)&&(t=t.__vccOpts),e){e=Dh(e);let{class:a,style:l}=e;a&&!ve(a)&&(e.class=Cs(a)),de(l)&&(ni(l)&&!J(l)&&(l=we({},l)),e.style=ci(l))}const o=ve(t)?1:Za(t)?128:qf(t)?64:de(t)?4:U(t)?2:0;return F(t,e,n,s,r,o,i,!0)}function Dh(t){return t?ni(t)||La(t)?we({},t):t:null}function en(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Nh(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&tl(u),ref:e&&e.ref?n&&i?J(i)?i.concat(Is(e)):[i,Is(e)]:Is(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&en(t.ssContent),ssFallback:t.ssFallback&&en(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&xa(c,l.clone(c)),c}function Bh(t=" ",e=0){return Ee(Ts,null,t,e)}function jn(t="",e=!1){return e?(Ce(),el(Dt,null,t)):Ee(Dt,null,t)}function et(t){return t==null||typeof t=="boolean"?Ee(Dt):J(t)?Ee(We,null,t.slice()):typeof t=="object"?kt(t):Ee(Ts,null,String(t))}function kt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:en(t)}function Ai(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(J(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Ai(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!La(e)?e._ctx=$e:r===3&&$e&&($e.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:$e},n=32):(e=String(e),s&64?(n=16,e=[Bh(e)]):n=8);t.children=e,t.shapeFlag|=n}function Nh(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Cs([e.class,s.class]));else if(r==="style")e.style=ci([e.style,s.style]);else if(ii(r)){const i=e[r],o=s[r];o&&i!==o&&!(J(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function tt(t,e,n,s=null){Ye(t,e,7,[n,s])}const Hh=Ia();let Vh=0;function Uh(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Hh,i={uid:Vh++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Io(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Da(s,r),emitsOptions:Ga(s,r),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:s.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ph.bind(null,i),t.ce&&t.ce(i),i}let be=null,Os,Ri;{const t=ua(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Os=e("__VUE_INSTANCE_SETTERS__",n=>be=n),Ri=e("__VUE_SSR_SETTERS__",n=>Fs=n)}const Dn=t=>{const e=be;return Os(t),t.scope.on(),()=>{t.scope.off(),Os(e)}},nl=()=>{be&&be.scope.off(),Os(null)};function sl(t){return t.vnode.shapeFlag&4}let Fs=!1;function zh(t,e=!1,n=!1){e&&Ri(e);const{props:s,children:r}=t.vnode,i=sl(t);gh(t,s,i,e),bh(t,r,n);const o=i?Wh(t,e):void 0;return e&&Ri(!1),o}function Wh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ih);const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Kh(t):null,i=Dn(t);at();const o=Xt(s,t,0,[t.props,r]);if(lt(),i(),aa(o)){if(Mn(t)||va(t),o.then(nl,nl),e)return o.then(a=>{rl(t,a,e)}).catch(a=>{Es(a,t,0)});t.asyncDep=o}else rl(t,o,e)}else ol(t,e)}function rl(t,e,n){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=sa(e)),ol(t,n)}let il;function ol(t,e,n){const s=t.type;if(!t.render){if(!e&&il&&!s.render){const r=s.template||yi(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,u=we(we({isCustomElement:i,delimiters:a},o),l);s.render=il(r,u)}}t.render=s.render||ht}{const r=Dn(t);at();try{oh(t)}finally{lt(),r()}}}const qh={get(t,e){return me(t,"get",""),t[e]}};function Kh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,qh),slots:t.slots,emit:t.emit,expose:e}}function Ls(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sa(si(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Tn)return Tn[n](t)},has(e,n){return n in e||n in Tn}})):t.proxy}const Jh=/(?:^|[-_])(\w)/g,Gh=t=>t.replace(Jh,e=>e.toUpperCase()).replace(/[-_]/g,"");function Xh(t,e=!0){return U(t)?t.displayName||t.name:t.name||e&&t.__name}function al(t,e,n=!1){let s=Xh(e);if(!s&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(s=r[1])}if(!s&&t&&t.parent){const r=i=>{for(const o in i)if(i[o]===e)return o};s=r(t.components||t.parent.type.components)||r(t.appContext.components)}return s?Gh(s):n?"App":"Anonymous"}function Zh(t){return U(t)&&"__vccOpts"in t}const ll=(t,e)=>bf(t,e,Fs),Qh="3.5.0-beta.3";/**
* @vue/shared v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Yh(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const ed=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),td=t=>t.startsWith("onUpdate:"),js=Object.assign,nd=Object.prototype.hasOwnProperty,sd=(t,e)=>nd.call(t,e),Bn=Array.isArray,cl=t=>typeof t=="function",tn=t=>typeof t=="string",rd=t=>typeof t=="symbol",id=Object.prototype.toString,od=t=>id.call(t),ul=t=>od(t)==="[object Object]",Pi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ad=/-(\w)/g,$i=Pi(t=>t.replace(ad,(e,n)=>n?n.toUpperCase():"")),ld=/\B([A-Z])/g,Ct=Pi(t=>t.replace(ld,"-$1").toLowerCase()),cd=Pi(t=>t.charAt(0).toUpperCase()+t.slice(1)),ud=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},fl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},hl=t=>{const e=tn(t)?Number(t):NaN;return isNaN(e)?t:e},fd=Yh("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function dl(t){return!!t||t===""}/**
* @vue/runtime-dom v3.5.0-beta.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mi;const pl=typeof window<"u"&&window.trustedTypes;if(pl)try{Mi=pl.createPolicy("vue",{createHTML:t=>t})}catch{}const hd=Mi?t=>Mi.createHTML(t):t=>t,dd="http://www.w3.org/2000/svg",pd="http://www.w3.org/1998/Math/MathML",pt=typeof document<"u"?document:null,gl=pt&&pt.createElement("template"),gd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?pt.createElementNS(dd,t):e==="mathml"?pt.createElementNS(pd,t):n?pt.createElement(t,{is:n}):pt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>pt.createTextNode(t),createComment:t=>pt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{gl.innerHTML=hd(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=gl.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},md=Symbol("_vtc");function _d(t,e,n){const s=t[md];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ml=Symbol("_vod"),wd=Symbol("_vsh"),bd=Symbol(""),yd=/(^|;)\s*display\s*:/;function xd(t,e,n){const s=t.style,r=tn(n);let i=!1;if(n&&!r){if(e)if(tn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Ds(s,a,"")}else for(const o in e)n[o]==null&&Ds(s,o,"");for(const o in n)o==="display"&&(i=!0),Ds(s,o,n[o])}else if(r){if(e!==n){const o=s[bd];o&&(n+=";"+o),s.cssText=n,i=yd.test(n)}}else e&&t.removeAttribute("style");ml in t&&(t[ml]=i?s.display:"",t[wd]&&(s.display="none"))}const _l=/\s*!important$/;function Ds(t,e,n){if(Bn(n))n.forEach(s=>Ds(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=vd(t,e);_l.test(n)?t.setProperty(Ct(s),n.replace(_l,""),"important"):t[s]=n}}const wl=["Webkit","Moz","ms"],Ti={};function vd(t,e){const n=Ti[e];if(n)return n;let s=It(e);if(s!=="filter"&&s in t)return Ti[e]=s;s=cd(s);for(let r=0;r<wl.length;r++){const i=wl[r]+s;if(i in t)return Ti[e]=i}return e}const bl="http://www.w3.org/1999/xlink";function yl(t,e,n,s,r,i=fd(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(bl,e.slice(6,e.length)):t.setAttributeNS(bl,e,n):n==null||i&&!dl(n)?t.removeAttribute(e):t.setAttribute(e,i?"":rd(n)?String(n):n)}function Sd(t,e,n,s){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=dl(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function nn(t,e,n,s){t.addEventListener(e,n,s)}function kd(t,e,n,s){t.removeEventListener(e,n,s)}const xl=Symbol("_vei");function Cd(t,e,n,s,r=null){const i=t[xl]||(t[xl]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Ed(e);if(s){const u=i[e]=Pd(s,r);nn(t,a,u,l)}else o&&(kd(t,a,o,l),i[e]=void 0)}}const vl=/(?:Once|Passive|Capture)$/;function Ed(t){let e;if(vl.test(t)){e={};let s;for(;s=t.match(vl);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ct(t.slice(2)),e]}let Ii=0;const Ad=Promise.resolve(),Rd=()=>Ii||(Ad.then(()=>Ii=0),Ii=Date.now());function Pd(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ye($d(s,n.value),e,5,[s])};return n.value=t,n.attached=Rd(),n}function $d(t,e){if(Bn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Sl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Md=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?_d(t,s,o):e==="style"?xd(t,n,s):ed(e)?td(e)||Cd(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Td(t,e,s,o))?(Sd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&yl(t,e,s,o,i,e!=="value")):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),yl(t,e,s,o))};function Td(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Sl(e)&&cl(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Sl(e)&&tn(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!tn(n)))}const kl={};/*! #__NO_SIDE_EFFECTS__ */function Id(t,e,n){const s=$n(t,e);ul(s)&&js(s,e);class r extends Oi{constructor(o){super(s,o,n)}}return r.def=s,r}const Od=typeof HTMLElement<"u"?HTMLElement:class{};class Oi extends Od{constructor(e,n={},s=Ml){super(),this._def=e,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Ml?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Oi){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,pi(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance.ce=void 0,this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=s;let a;if(i&&!Bn(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=hl(this._props[l])),(a||(a=Object.create(null)))[$i(l)]=!0)}this._numberProps=a,r&&this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>e(this._def=s,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)sd(this,s)||Object.defineProperty(this,s,{get:()=>Mt(n[s])})}_resolveProps(e){const{props:n}=e,s=Bn(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map($i))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let s=n?this.getAttribute(e):kl;const r=$i(e);n&&this._numberProps&&this._numberProps[r]&&(s=hl(s)),this._setProp(r,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,r=!1){n!==this._props[e]&&(n===kl?delete this._props[e]:this._props[e]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ct(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ct(e),n+""):n||this.removeAttribute(Ct(e))))}_update(){Dd(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Ee(this._def,js(e,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,ul(o[0])?js({detail:o},o[0]):{detail:o}))};s.emit=(i,...o)=>{r(i,o),Ct(i)!==i&&r(Ct(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let r=e.length-1;r>=0;r--){const i=document.createElement("style");s&&i.setAttribute("nonce",s),i.textContent=e[r],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=this.querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const r=e[s],i=r.getAttribute("name")||"default",o=this._slots[i],a=r.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}const Cl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Bn(e)?n=>ud(e,n):e};function Fd(t){t.target.composing=!0}function El(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Fi=Symbol("_assign"),Al={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Fi]=Cl(r);const i=s||r.props&&r.props.type==="number";nn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=fl(a)),t[Fi](a)}),n&&nn(t,"change",()=>{t.value=t.value.trim()}),e||(nn(t,"compositionstart",Fd),nn(t,"compositionend",El),nn(t,"change",El))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Fi]=Cl(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?fl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Ld={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rl=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=Ct(r.key);if(e.some(o=>o===i||Ld[o]===i))return t(r)})},jd=js({patchProp:Md},gd);let Pl;function $l(){return Pl||(Pl=xh(jd))}const Dd=(...t)=>{$l().render(...t)},Ml=(...t)=>{const e=$l().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Nd(s);if(!r)return;const i=e._component;!cl(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Bd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Bd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Nd(t){return tn(t)?document.querySelector(t):t}const Bs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Menu%20/%20Close_LG'%3e%3cpath%20id='Vector'%20d='M21%2021L12%2012M12%2012L3%203M12%2012L21.0001%203M12%2012L3%2021.0001'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Tl="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='%23003274'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Arrow%20/%20Caret_Circle_Up'%3e%3cpath%20id='Vector'%20d='M9%2013L12%2010L15%2013M21%2012C21%207.02944%2016.9706%203%2012%203C7.02944%203%203%207.02944%203%2012C3%2016.9706%207.02944%2021%2012%2021C16.9706%2021%2021%2016.9706%2021%2012Z'%20stroke='%23FFFFFF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Il="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Edit%20/%20List_Unordered'%3e%3cpath%20id='Vector'%20d='M9%2017H19M9%2012H19M9%207H19M5.00195%2017V17.002L5%2017.002V17H5.00195ZM5.00195%2012V12.002L5%2012.002V12H5.00195ZM5.00195%207V7.002L5%207.00195V7H5.00195Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Ol="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Navigation%20/%20House_03'%3e%3cpath%20id='Vector'%20d='M2%2020.0001H4M4%2020.0001H10M4%2020.0001V11.4522C4%2010.9179%204%2010.6506%204.06497%2010.4019C4.12255%2010.1816%204.21779%209.97307%204.3457%209.78464C4.49004%209.57201%204.69064%209.39569%205.09277%209.04383L9.89436%204.84244C10.6398%204.19014%2011.0126%203.86397%2011.4324%203.73982C11.8026%203.63035%2012.1972%203.63035%2012.5674%203.73982C12.9875%203.86406%2013.3608%204.19054%2014.1074%204.84383L18.9074%209.04383C19.3095%209.39568%2019.5102%209.57202%2019.6546%209.78464C19.7825%209.97307%2019.877%2010.1816%2019.9346%2010.4019C19.9995%2010.6506%2020%2010.9179%2020%2011.4522V20.0001M10%2020.0001H14M10%2020.0001V16.0001C10%2014.8955%2010.8954%2014.0001%2012%2014.0001C13.1046%2014.0001%2014%2014.8955%2014%2016.0001V20.0001M14%2020.0001H20M20%2020.0001H22'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Fl="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Warning%20/%20Circle_Help'%3e%3cpath%20id='Vector'%20d='M9.14648%209.07361C9.31728%208.54732%209.63015%208.07896%2010.0508%207.71948C10.4714%207.36001%2010.9838%207.12378%2011.5303%207.03708C12.0768%206.95038%2012.6362%207.0164%2013.1475%207.22803C13.6587%207.43966%2014.1014%207.78875%2014.4268%208.23633C14.7521%208.68391%2014.9469%209.21256%2014.9904%209.76416C15.0339%2010.3158%2014.9238%2010.8688%2014.6727%2011.3618C14.4215%2011.8548%2014.0394%2012.2685%2013.5676%2012.5576C13.0958%2012.8467%2012.5533%2012.9998%2012%2012.9998V14.0002M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021ZM12.0498%2017V17.1L11.9502%2017.1002V17H12.0498Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Hd="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23FFFFFF'%20color='FFFFFF'%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%200h-11c-1.104%200-2%200.895-2%202h11v8h8v16h-7v2h7c1.105%200%202-0.895%202-2v-18zM24%208v-5.172l5.171%205.172h-5.171zM2%204c-1.105%200-2%200.896-2%202v24c0%201.105%200.895%202%202%202h17c1.105%200%202-0.895%202-2v-18l-8-8.001h-11zM19%2030h-17v-24h9v8h8v16zM13%2012v-5.172l5.171%205.172h-5.171z'%3e%3c/path%3e%3c/svg%3e",Vd="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Arrow%20/%20Arrow_Reload_02'%3e%3cpath%20id='Vector'%20d='M14%2016H19V21M10%208H5V3M19.4176%209.0034C18.8569%207.61566%2017.9181%206.41304%2016.708%205.53223C15.4979%204.65141%2014.0652%204.12752%2012.5723%204.02051C11.0794%203.9135%209.58606%204.2274%208.2627%204.92661C6.93933%205.62582%205.83882%206.68254%205.08594%207.97612M4.58203%2014.9971C5.14272%2016.3848%206.08146%2017.5874%207.29157%2018.4682C8.50169%2019.3491%209.93588%2019.8723%2011.4288%2019.9793C12.9217%2020.0863%2014.4138%2019.7725%2015.7371%2019.0732C17.0605%2018.374%2018.1603%2017.3175%2018.9131%2016.0239'%20stroke='%23FFFFFF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Ud="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Communication%20/%20Share_iOS_Export'%3e%3cpath%20id='Vector'%20d='M9%206L12%203M12%203L15%206M12%203V13M7.00023%2010C6.06835%2010%205.60241%2010%205.23486%2010.1522C4.74481%2010.3552%204.35523%2010.7448%204.15224%2011.2349C4%2011.6024%204%2012.0681%204%2013V17.8C4%2018.9201%204%2019.4798%204.21799%2019.9076C4.40973%2020.2839%204.71547%2020.5905%205.0918%2020.7822C5.5192%2021%206.07899%2021%207.19691%2021H16.8036C17.9215%2021%2018.4805%2021%2018.9079%2020.7822C19.2842%2020.5905%2019.5905%2020.2839%2019.7822%2019.9076C20%2019.4802%2020%2018.921%2020%2017.8031V13C20%2012.0681%2019.9999%2011.6024%2019.8477%2011.2349C19.6447%2010.7448%2019.2554%2010.3552%2018.7654%2010.1522C18.3978%2010%2017.9319%2010%2017%2010'%20stroke='%23FFFFFF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",sn="4.56.0";let Ll=!1,Nn,jl,Dl,Li,Bl,Nl,Hl,Vl,Ul;function zd(t,e={auto:!1}){if(Ll)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Nn)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Nn}'\``);Ll=e.auto,Nn=t.kind,jl=t.fetch,Dl=t.FormData,Li=t.File,Bl=t.ReadableStream,Nl=t.getMultipartRequestOptions,Hl=t.getDefaultAgent,Vl=t.fileFromPath,Ul=t.isFsReadStream}class Wd{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function qd({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new Wd(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}Nn||zd(qd(),{auto:!0});class nt{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const o of Kd(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new pe(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new pe(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new nt(r,n)}static fromReadableStream(e,n){let s=!1;async function*r(){const o=new Bt,a=zl(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new nt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();e.push(o),n.push(o)}return i.shift()}});return[new nt(()=>r(e),this.controller),new nt(()=>r(n),this.controller)]}toReadableStream(){const e=this;let n;const s=new TextEncoder;return new Bl({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*Kd(t,e){if(!t.body)throw e.abort(),new z("Attempted to iterate over a response with no body");const n=new Xd,s=new Bt,r=zl(t.body);for await(const i of Jd(r))for(const o of s.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of s.flush()){const o=n.decode(i);o&&(yield o)}}async function*Jd(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=Gd(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function Gd(t){for(let s=0;s<t.length-2;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}class Xd{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=Zd(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}class Bt{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const s=Bt.NEWLINE_CHARS.has(n[n.length-1]||"");let r=n.split(Bt.NEWLINE_REGEXP);return s&&r.pop(),r.length===1&&!s?(this.buffer.push(r[0]),[]):(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),s||(this.buffer=[r.pop()||""]),r)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new z(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new z(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new z("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Bt.NEWLINE_CHARS=new Set([`
`,"\r"]),Bt.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Zd(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function zl(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Wl=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",ql=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&ji(t),ji=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Qd=t=>ql(t)||Wl(t)||Ul(t);async function Kl(t,e,n){var r;if(t=await t,n??(n=ql(t)?{lastModified:t.lastModified,type:t.type}:{}),Wl(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Li([i],e,n)}const s=await Yd(t);if(e||(e=tp(t)??"unknown_file"),!n.type){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new Li(s,e,n)}async function Yd(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(ji(t))e.push(await t.arrayBuffer());else if(np(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${ep(t)}`);return e}function ep(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function tp(t){var e;return Di(t.name)||Di(t.filename)||((e=Di(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Di=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},np=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Jl=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",rn=async t=>{const e=await sp(t.body);return Nl(e,t)},sp=async t=>{const e=new Dl;return await Promise.all(Object.entries(t||{}).map(([n,s])=>Bi(e,n,s))),e},Bi=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Qd(n)){const s=await Kl(n);t.append(e,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>Bi(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>Bi(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var on={},rp=function(t,e,n,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},ip=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Ns;async function Gl(t){const{response:e}=t;if(t.options.stream)return an("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):nt.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return an("response",e.status,e.url,e.headers,i),i}const r=await e.text();return an("response",e.status,e.url,e.headers,r),r}class Hs extends Promise{constructor(e,n=Gl){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Hs(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class op{constructor({baseURL:e,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=Ni("maxRetries",n),this.timeout=Ni("timeout",s),this.httpAgent=r,this.fetch=i??jl}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...hp(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${mp()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&ji(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:e,path:n,...r,body:i}}))}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){var k;const{method:n,path:s,query:r,headers:i={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Jl(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(o),l=this.buildURL(s,r);"timeout"in e&&Ni("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??Hl(l),h=u+1e3;typeof((k=c==null?void 0:c.options)==null?void 0:k.timeout)=="number"&&h>(c.options.timeout??0)&&(c.options.timeout=h),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:i,contentLength:a});return{req:{method:n,...o&&{body:o},headers:p,...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:s}){const r={};s&&(r["content-length"]=s);const i=this.defaultHeaders(e);return nc(r,i),nc(r,n),Jl(e.body)&&Nn!=="node"&&delete r["content-type"],this.validateHeaders(r,n),r}async prepareOptions(e){}async prepareRequest(e,{url:n,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,s,r){return pe.generate(e,n,s,r)}request(e,n=null){return new Hs(this.makeRequest(e,n))}async makeRequest(e,n){var c,h;const s=await e;n==null&&(n=s.maxRetries??this.maxRetries),await this.prepareOptions(s);const{req:r,url:i,timeout:o}=this.buildRequest(s);if(await this.prepareRequest(r,{url:i,options:s}),an("request",i,s,r.headers),(c=s.signal)!=null&&c.aborted)throw new qe;const a=new AbortController,l=await this.fetchWithTimeout(i,r,o,a).catch(Hi);if(l instanceof Error){if((h=s.signal)!=null&&h.aborted)throw new qe;if(n)return this.retryRequest(s,n);throw l.name==="AbortError"?new Vi:new Us({cause:l})}const u=lp(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const L=`retrying, ${n} attempts remaining`;return an(`response (error; ${L})`,l.status,i,u),this.retryRequest(s,n,u)}const p=await l.text().catch(L=>Hi(L).message),m=dp(p),k=m?void 0:p;throw an(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,i,u,k),this.makeStatusError(l.status,m,k,u)}return{response:l,options:s,controller:a}}requestAPIList(e,n){const s=this.makeRequest(n,null);return new ap(this,s,e)}buildURL(e,n){const s=gp(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return ec(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new z(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(r=a)}const o=s==null?void 0:s["retry-after"];if(o&&!r){const a=parseFloat(o);Number.isNaN(a)?r=Date.parse(o)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Hn(r),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${sn}`}}class Xl{constructor(e,n,s,r){Ns.set(this,void 0),rp(this,Ns,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const s=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[r,i]of s)e.url.searchParams.set(r,i);n.query=void 0,n.path=e.url.toString()}return await ip(this,Ns,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ns=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class ap extends Hs{constructor(e,n,s){super(n,async r=>new s(e,r.response,await Gl(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const lp=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const s=n.toString();return e[s.toLowerCase()]||e[s]}}),cp={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ie=t=>typeof t=="object"&&t!==null&&!ec(t)&&Object.keys(t).every(e=>tc(cp,e)),up=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":Ql(Deno.build.os),"X-Stainless-Arch":Zl(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":Ql(process.platform),"X-Stainless-Arch":Zl(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=fp();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fp(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:e,version:`${r}.${i}.${o}`}}}return null}const Zl=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Ql=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Yl;const hp=()=>Yl??(Yl=up()),dp=t=>{try{return JSON.parse(t)}catch{return}},pp=new RegExp("^(?:[a-z]+:)?//","i"),gp=t=>pp.test(t),Hn=t=>new Promise(e=>setTimeout(e,t)),Ni=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new z(`${t} must be an integer`);if(e<0)throw new z(`${t} must be a positive integer`);return e},Hi=t=>t instanceof Error?t:new Error(t),Vs=t=>{var e,n,s,r;if(typeof process<"u")return((e=on==null?void 0:on[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,t))==null?void 0:r.trim()};function ec(t){if(!t)return!0;for(const e in t)return!1;return!0}function tc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nc(t,e){for(const n in e){if(!tc(e,n))continue;const s=n.toLowerCase();if(!s)continue;const r=e[n];r===null?delete t[s]:r!==void 0&&(t[s]=r)}}function an(t,...e){typeof process<"u"&&(on==null?void 0:on.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const mp=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),_p=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function sc(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class z extends Error{}class pe extends z{constructor(e,n,s,r){super(`${pe.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e)return new Us({cause:Hi(n)});const i=n==null?void 0:n.error;return e===400?new rc(e,i,s,r):e===401?new ic(e,i,s,r):e===403?new oc(e,i,s,r):e===404?new ac(e,i,s,r):e===409?new lc(e,i,s,r):e===422?new cc(e,i,s,r):e===429?new uc(e,i,s,r):e>=500?new fc(e,i,s,r):new pe(e,i,s,r)}}class qe extends pe{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Us extends pe{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class Vi extends Us{constructor({message:e}={}){super({message:e??"Request timed out."})}}class rc extends pe{constructor(){super(...arguments),this.status=400}}class ic extends pe{constructor(){super(...arguments),this.status=401}}class oc extends pe{constructor(){super(...arguments),this.status=403}}class ac extends pe{constructor(){super(...arguments),this.status=404}}class lc extends pe{constructor(){super(...arguments),this.status=409}}class cc extends pe{constructor(){super(...arguments),this.status=422}}class uc extends pe{constructor(){super(...arguments),this.status=429}}class fc extends pe{}class hc extends z{constructor(){super("Could not parse response content as the length limit was reached")}}class dc extends z{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ui extends Xl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ke extends Xl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const n=(s=e[e.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class Q{constructor(e){this._client=e}}let zs=class extends Q{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};zs||(zs={});let Ws=class extends Q{constructor(){super(...arguments),this.completions=new zs(this._client)}};(function(t){t.Completions=zs})(Ws||(Ws={}));class qs extends Q{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}qs||(qs={});class Ks extends Q{create(e,n){return this._client.post("/audio/transcriptions",rn({body:e,...n}))}}Ks||(Ks={});class Js extends Q{create(e,n){return this._client.post("/audio/translations",rn({body:e,...n}))}}Js||(Js={});class Gs extends Q{constructor(){super(...arguments),this.transcriptions=new Ks(this._client),this.translations=new Js(this._client),this.speech=new qs(this._client)}}(function(t){t.Transcriptions=Ks,t.Translations=Js,t.Speech=qs})(Gs||(Gs={}));class Xs extends Q{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Ie(e)?this.list({},e):this._client.getAPIList("/batches",zi,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class zi extends Ke{}(function(t){t.BatchesPage=zi})(Xs||(Xs={}));class Zs extends Q{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/assistants/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Ie(e)?this.list({},e):this._client.getAPIList("/assistants",Wi,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Wi extends Ke{}(function(t){t.AssistantsPage=Wi})(Zs||(Zs={}));function pc(t){return typeof t.parse=="function"}const ln=t=>(t==null?void 0:t.role)==="assistant",gc=t=>(t==null?void 0:t.role)==="function",mc=t=>(t==null?void 0:t.role)==="tool";var Je=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},le=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},qi,Qs,Ys,Vn,Un,er,zn,gt,Wn,tr,nr,cn,_c;class wc{constructor(){qi.add(this),this.controller=new AbortController,Qs.set(this,void 0),Ys.set(this,()=>{}),Vn.set(this,()=>{}),Un.set(this,void 0),er.set(this,()=>{}),zn.set(this,()=>{}),gt.set(this,{}),Wn.set(this,!1),tr.set(this,!1),nr.set(this,!1),cn.set(this,!1),Je(this,Qs,new Promise((e,n)=>{Je(this,Ys,e,"f"),Je(this,Vn,n,"f")}),"f"),Je(this,Un,new Promise((e,n)=>{Je(this,er,e,"f"),Je(this,zn,n,"f")}),"f"),le(this,Qs,"f").catch(()=>{}),le(this,Un,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},le(this,qi,"m",_c).bind(this))},0)}_connected(){this.ended||(le(this,Ys,"f").call(this),this._emit("connect"))}get ended(){return le(this,Wn,"f")}get errored(){return le(this,tr,"f")}get aborted(){return le(this,nr,"f")}abort(){this.controller.abort()}on(e,n){return(le(this,gt,"f")[e]||(le(this,gt,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=le(this,gt,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(le(this,gt,"f")[e]||(le(this,gt,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{Je(this,cn,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){Je(this,cn,!0,"f"),await le(this,Un,"f")}_emit(e,...n){if(le(this,Wn,"f"))return;e==="end"&&(Je(this,Wn,!0,"f"),le(this,er,"f").call(this));const s=le(this,gt,"f")[e];if(s&&(le(this,gt,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!le(this,cn,"f")&&!(s!=null&&s.length)&&Promise.reject(r),le(this,Vn,"f").call(this,r),le(this,zn,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!le(this,cn,"f")&&!(s!=null&&s.length)&&Promise.reject(r),le(this,Vn,"f").call(this,r),le(this,zn,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Qs=new WeakMap,Ys=new WeakMap,Vn=new WeakMap,Un=new WeakMap,er=new WeakMap,zn=new WeakMap,gt=new WeakMap,Wn=new WeakMap,tr=new WeakMap,nr=new WeakMap,cn=new WeakMap,qi=new WeakSet,_c=function(e){if(Je(this,tr,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new qe),e instanceof qe)return Je(this,nr,!0,"f"),this._emit("abort",e);if(e instanceof z)return this._emit("error",e);if(e instanceof Error){const n=new z(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new z(String(e)))};function bc(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function qn(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function wp(t,e){return!e||!yc(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:Ki(t,e)}function Ki(t,e){const n=t.choices.map(s=>{var r;if(s.finish_reason==="length")throw new hc;if(s.finish_reason==="content_filter")throw new dc;return{...s,message:{...s.message,tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>yp(e,i)))??[],parsed:s.message.content&&!s.message.refusal?bp(e,s.message.content):null}}});return{...t,choices:n}}function bp(t,e){var n,s;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=t.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function yp(t,e){var s;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:qn(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function xp(t,e){var s;if(!t)return!1;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return qn(n)||(n==null?void 0:n.function.strict)||!1}function yc(t){var e;return bc(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>qn(n)||n.type==="function"&&n.function.strict===!0))??!1}function vp(t){for(const e of t??[]){if(e.type!=="function")throw new z(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new z(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ae=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ye,Ji,sr,Gi,Xi,Zi,xc,Qi;const vc=10;class Sc extends wc{constructor(){super(...arguments),ye.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(s=e.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(gc(e)||mc(e))&&e.content)this._emit("functionCallResult",e.content);else if(ln(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(ln(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new z("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ae(this,ye,"m",Ji).call(this)}async finalMessage(){return await this.done(),Ae(this,ye,"m",sr).call(this)}async finalFunctionCall(){return await this.done(),Ae(this,ye,"m",Gi).call(this)}async finalFunctionCallResult(){return await this.done(),Ae(this,ye,"m",Xi).call(this)}async totalUsage(){return await this.done(),Ae(this,ye,"m",Zi).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ae(this,ye,"m",sr).call(this);n&&this._emit("finalMessage",n);const s=Ae(this,ye,"m",Ji).call(this);s&&this._emit("finalContent",s);const r=Ae(this,ye,"m",Gi).call(this);r&&this._emit("finalFunctionCall",r);const i=Ae(this,ye,"m",Xi).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ae(this,ye,"m",Zi).call(this))}async _createChatCompletion(e,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ae(this,ye,"m",xc).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ki(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runFunctions(e,n,s){var p;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=vc}=s||{},c={};for(const m of n.functions)c[m.name||m.function.name]=m;const h=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const b=(p=(await this._createChatCompletion(e,{...a,function_call:i,functions:h,messages:[...this.messages]},s)).choices[0])==null?void 0:p.message;if(!b)throw new z("missing message in ChatCompletion response");if(!b.function_call)return;const{name:S,arguments:L}=b.function_call,T=c[S];if(T){if(l&&l!==S){const V=`Invalid function_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:S,content:V});continue}}else{const V=`Invalid function_call: ${JSON.stringify(S)}. Available options are: ${h.map(B=>JSON.stringify(B.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:S,content:V});continue}let C;try{C=pc(T)?await T.parse(L):L}catch(V){this._addMessage({role:r,name:S,content:V instanceof Error?V.message:String(V)});continue}const _=await T.function(C,this),P=Ae(this,ye,"m",Qi).call(this,_);if(this._addMessage({role:r,name:S,content:P}),l)return}}async _runTools(e,n,s){var m,k,b;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:u=vc}=s||{},c=n.tools.map(S=>{if(qn(S)){if(!S.$callback)throw new z("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),h={};for(const S of c)S.type==="function"&&(h[S.function.name||S.function.function.name]=S.function);const p="tools"in n?c.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<u;++S){const T=(k=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:p,messages:[...this.messages]},s)).choices[0])==null?void 0:k.message;if(!T)throw new z("missing message in ChatCompletion response");if(!((b=T.tool_calls)!=null&&b.length))return;for(const C of T.tool_calls){if(C.type!=="function")continue;const _=C.id,{name:P,arguments:V}=C.function,B=h[P];if(B){if(l&&l!==P){const G=`Invalid tool_call: ${JSON.stringify(P)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:_,content:G});continue}}else{const G=`Invalid tool_call: ${JSON.stringify(P)}. Available options are: ${Object.keys(h).map(Re=>JSON.stringify(Re)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:_,content:G});continue}let H;try{H=pc(B)?await B.parse(V):V}catch(G){const Re=G instanceof Error?G.message:String(G);this._addMessage({role:r,tool_call_id:_,content:Re});continue}const D=await B.function(H,this),se=Ae(this,ye,"m",Qi).call(this,D);if(this._addMessage({role:r,tool_call_id:_,content:se}),l)return}}}}ye=new WeakSet,Ji=function(){return Ae(this,ye,"m",sr).call(this).content??null},sr=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(ln(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new z("stream ended without producing a ChatCompletionMessage with role=assistant")},Gi=function(){var e,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(ln(r)&&(r!=null&&r.function_call))return r.function_call;if(ln(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},Xi=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(gc(n)&&n.content!=null||mc(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Zi=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},xc=function(e){if(e.n!=null&&e.n>1)throw new z("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Qi=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Kn extends Sc{static runFunctions(e,n,s){const r=new Kn,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new Kn,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e){super._addMessage(e),ln(e)&&e.content&&this._emit("content",e.content)}}const Sp=t=>{let e=0,n=[];for(;e<t.length;){let s=t[e];if(s==="\\"){e++;continue}if(s==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(s==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(s==="["){n.push({type:"paren",value:"["}),e++;continue}if(s==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(s===":"){n.push({type:"separator",value:":"}),e++;continue}if(s===","){n.push({type:"delimiter",value:","}),e++;continue}if(s==='"'){let a="",l=!1;for(s=t[++e];s!=='"';){if(e===t.length){l=!0;break}if(s==="\\"){if(e++,e===t.length){l=!0;break}a+=s+t[e],s=t[++e]}else a+=s,s=t[++e]}s=t[++e],l||n.push({type:"string",value:a});continue}if(s&&/\s/.test(s)){e++;continue}let i=/[0-9]/;if(s&&i.test(s)||s==="-"||s==="."){let a="";for(s==="-"&&(a+=s,s=t[++e]);s&&i.test(s)||s===".";)a+=s,s=t[++e];n.push({type:"number",value:a});continue}let o=/[a-z]/i;if(s&&o.test(s)){let a="";for(;s&&o.test(s)&&e!==t.length;)a+=s,s=t[++e];if(a=="true"||a=="false"||a==="null")n.push({type:"name",value:a});else{e++;continue}continue}e++}return n},un=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),un(t);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),un(t);case"string":let s=t[t.length-2];if((s==null?void 0:s.type)==="delimiter")return t=t.slice(0,t.length-1),un(t);if((s==null?void 0:s.type)==="brace"&&s.value==="{")return t=t.slice(0,t.length-1),un(t);break;case"delimiter":return t=t.slice(0,t.length-1),un(t)}return t},kp=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},Cp=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},kc=t=>JSON.parse(Cp(kp(un(Sp(t)))));var fn=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},te=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},he,mt,hn,Et,Yi,rr,eo,to,no,ir,so,Cc;class Jn extends Sc{constructor(e){super(),he.add(this),mt.set(this,void 0),hn.set(this,void 0),Et.set(this,void 0),fn(this,mt,e,"f"),fn(this,hn,[],"f")}get currentChatCompletionSnapshot(){return te(this,Et,"f")}static fromReadableStream(e){const n=new Jn(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new Jn(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){var o;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),te(this,he,"m",Yi).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)te(this,he,"m",eo).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new qe;return this._addChatCompletion(te(this,he,"m",ir).call(this))}async _fromReadableStream(e,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),te(this,he,"m",Yi).call(this),this._connected();const r=nt.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(te(this,he,"m",ir).call(this)),te(this,he,"m",eo).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new qe;return this._addChatCompletion(te(this,he,"m",ir).call(this))}[(mt=new WeakMap,hn=new WeakMap,Et=new WeakMap,he=new WeakSet,Yi=function(){this.ended||fn(this,Et,void 0,"f")},rr=function(n){let s=te(this,hn,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},te(this,hn,"f")[n.index]=s,s)},eo=function(n){var r,i,o,a,l,u,c,h,p,m,k,b,S,L,T;if(this.ended)return;const s=te(this,he,"m",Cc).call(this,n);this._emit("chunk",n,s);for(const C of n.choices){const _=s.choices[C.index];C.delta.content!=null&&((r=_.message)==null?void 0:r.role)==="assistant"&&((i=_.message)!=null&&i.content)&&(this._emit("content",C.delta.content,_.message.content),this._emit("content.delta",{delta:C.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),C.delta.refusal!=null&&((o=_.message)==null?void 0:o.role)==="assistant"&&((a=_.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:C.delta.refusal,snapshot:_.message.refusal}),((l=C.logprobs)==null?void 0:l.content)!=null&&((u=_.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=C.logprobs)==null?void 0:c.content,snapshot:((h=_.logprobs)==null?void 0:h.content)??[]}),((p=C.logprobs)==null?void 0:p.refusal)!=null&&((m=_.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(k=C.logprobs)==null?void 0:k.refusal,snapshot:((b=_.logprobs)==null?void 0:b.refusal)??[]});const P=te(this,he,"m",rr).call(this,_);_.finish_reason&&(te(this,he,"m",no).call(this,_),P.current_tool_call_index!=null&&te(this,he,"m",to).call(this,_,P.current_tool_call_index));for(const V of C.delta.tool_calls??[])P.current_tool_call_index!==V.index&&(te(this,he,"m",no).call(this,_),P.current_tool_call_index!=null&&te(this,he,"m",to).call(this,_,P.current_tool_call_index)),P.current_tool_call_index=V.index;for(const V of C.delta.tool_calls??[]){const B=(S=_.message.tool_calls)==null?void 0:S[V.index];B!=null&&B.type&&((B==null?void 0:B.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(L=B.function)==null?void 0:L.name,index:V.index,arguments:B.function.arguments,parsed_arguments:B.function.parsed_arguments,arguments_delta:((T=V.function)==null?void 0:T.arguments)??""}):(B==null||B.type,void 0))}}},to=function(n,s){var o,a,l;if(te(this,he,"m",rr).call(this,n).done_tool_calls.has(s))return;const i=(o=n.message.tool_calls)==null?void 0:o[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(a=te(this,mt,"f"))==null?void 0:a.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:qn(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},no=function(n){var r,i;const s=te(this,he,"m",rr).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=te(this,he,"m",so).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ir=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const n=te(this,Et,"f");if(!n)throw new z("request ended without sending any chunks");return fn(this,Et,void 0,"f"),fn(this,hn,[],"f"),Ep(n,te(this,mt,"f"))},so=function(){var s;const n=(s=te(this,mt,"f"))==null?void 0:s.response_format;return bc(n)?n:null},Cc=function(n){var s,r,i,o;let a=te(this,Et,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=fn(this,Et,{...u,choices:[]},"f");for(const{delta:c,finish_reason:h,index:p,logprobs:m=null,...k}of n.choices){let b=a.choices[p];if(b||(b=a.choices[p]={finish_reason:h,index:p,message:{},logprobs:m,...k}),m)if(!b.logprobs)b.logprobs=Object.assign({},m);else{const{content:V,refusal:B,...H}=m;Object.assign(b.logprobs,H),V&&((s=b.logprobs).content??(s.content=[]),b.logprobs.content.push(...V)),B&&((r=b.logprobs).refusal??(r.refusal=[]),b.logprobs.refusal.push(...B))}if(h&&(b.finish_reason=h,te(this,mt,"f")&&yc(te(this,mt,"f")))){if(h==="length")throw new hc;if(h==="content_filter")throw new dc}if(Object.assign(b,k),!c)continue;const{content:S,refusal:L,function_call:T,role:C,tool_calls:_,...P}=c;if(Object.assign(b.message,P),L&&(b.message.refusal=(b.message.refusal||"")+L),C&&(b.message.role=C),T&&(b.message.function_call?(T.name&&(b.message.function_call.name=T.name),T.arguments&&((i=b.message.function_call).arguments??(i.arguments=""),b.message.function_call.arguments+=T.arguments)):b.message.function_call=T),S&&(b.message.content=(b.message.content||"")+S,!b.message.refusal&&te(this,he,"m",so).call(this)&&(b.message.parsed=kc(b.message.content))),_){b.message.tool_calls||(b.message.tool_calls=[]);for(const{index:V,id:B,type:H,function:D,...se}of _){const G=(o=b.message.tool_calls)[V]??(o[V]={});Object.assign(G,se),B&&(G.id=B),H&&(G.type=H),D&&(G.function??(G.function={name:D.name??"",arguments:""})),D!=null&&D.name&&(G.function.name=D.name),D!=null&&D.arguments&&(G.function.arguments+=D.arguments,xp(te(this,mt,"f"),G)&&(G.function.parsed_arguments=kc(G.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new nt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Ep(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:s.map(({message:u,finish_reason:c,index:h,logprobs:p,...m})=>{if(!c)throw new z(`missing finish_reason for choice ${h}`);const{content:k=null,function_call:b,tool_calls:S,...L}=u,T=u.role;if(!T)throw new z(`missing role for choice ${h}`);if(b){const{arguments:C,name:_}=b;if(C==null)throw new z(`missing function_call.arguments for choice ${h}`);if(!_)throw new z(`missing function_call.name for choice ${h}`);return{...m,message:{content:k,function_call:{arguments:C,name:_},role:T,refusal:u.refusal??null},finish_reason:c,index:h,logprobs:p}}return S?{...m,index:h,finish_reason:c,logprobs:p,message:{...L,role:T,content:k,refusal:u.refusal??null,tool_calls:S.map((C,_)=>{const{function:P,type:V,id:B,...H}=C,{arguments:D,name:se,...G}=P||{};if(B==null)throw new z(`missing choices[${h}].tool_calls[${_}].id
${or(t)}`);if(V==null)throw new z(`missing choices[${h}].tool_calls[${_}].type
${or(t)}`);if(se==null)throw new z(`missing choices[${h}].tool_calls[${_}].function.name
${or(t)}`);if(D==null)throw new z(`missing choices[${h}].tool_calls[${_}].function.arguments
${or(t)}`);return{...H,id:B,type:V,function:{...G,name:se,arguments:D}}})}}:{...m,message:{...L,content:k,role:T,refusal:u.refusal??null},finish_reason:c,index:h,logprobs:p}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return wp(l,e)}function or(t){return JSON.stringify(t)}function Ym(t){}class dn extends Jn{static fromReadableStream(e){const n=new dn(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,s){const r=new dn(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new dn(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let Ec=class extends Q{async parse(e,n){vp(e.tools);const s=await this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}});return Ki(s,e)}runFunctions(e,n){return e.stream?dn.runFunctions(this._client,e,n):Kn.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?dn.runTools(this._client,e,n):Kn.runTools(this._client,e,n)}stream(e,n){return Jn.createChatCompletion(this._client,e,n)}};class ar extends Q{constructor(){super(...arguments),this.completions=new Ec(this._client)}}(function(t){t.Completions=Ec})(ar||(ar={}));var I=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Oe=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ge,ro,st,lr,Ge,Nt,pn,Ht,cr,Fe,ur,fr,Gn,Xn,Zn,Ac,Rc,Pc,$c,Mc,Tc,Ic;class Xe extends wc{constructor(){super(...arguments),ge.add(this),ro.set(this,[]),st.set(this,{}),lr.set(this,{}),Ge.set(this,void 0),Nt.set(this,void 0),pn.set(this,void 0),Ht.set(this,void 0),cr.set(this,void 0),Fe.set(this,void 0),ur.set(this,void 0),fr.set(this,void 0),Gn.set(this,void 0)}[(ro=new WeakMap,st=new WeakMap,lr=new WeakMap,Ge=new WeakMap,Nt=new WeakMap,pn=new WeakMap,Ht=new WeakMap,cr=new WeakMap,Fe=new WeakMap,ur=new WeakMap,fr=new WeakMap,Gn=new WeakMap,ge=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Xe;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=nt.fromReadableStream(e,this.controller);for await(const o of r)I(this,ge,"m",Xn).call(this,o);if((i=r.controller.signal)!=null&&i.aborted)throw new qe;return this._addRun(I(this,ge,"m",Zn).call(this))}toReadableStream(){return new nt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r,i){const o=new Xe;return o._run(()=>o._runToolAssistantStream(e,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,s,r,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await e.submitToolOutputs(n,s,a,{...i,signal:this.controller.signal});this._connected();for await(const c of l)I(this,ge,"m",Xn).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new qe;return this._addRun(I(this,ge,"m",Zn).call(this))}static createThreadAssistantStream(e,n,s){const r=new Xe;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new Xe;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return I(this,ur,"f")}currentRun(){return I(this,fr,"f")}currentMessageSnapshot(){return I(this,Ge,"f")}currentRunStepSnapshot(){return I(this,Gn,"f")}async finalRunSteps(){return await this.done(),Object.values(I(this,st,"f"))}async finalMessages(){return await this.done(),Object.values(I(this,lr,"f"))}async finalRun(){if(await this.done(),!I(this,Nt,"f"))throw Error("Final run was not received.");return I(this,Nt,"f")}async _createThreadAssistantStream(e,n,s){var a;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)I(this,ge,"m",Xn).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new qe;return this._addRun(I(this,ge,"m",Zn).call(this))}async _createAssistantStream(e,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},a=await e.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const u of a)I(this,ge,"m",Xn).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new qe;return this._addRun(I(this,ge,"m",Zn).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(sc(i)&&sc(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r,i){return await this._createToolAssistantStream(s,e,n,r,i)}}Xn=function(e){if(!this.ended)switch(Oe(this,ur,e,"f"),I(this,ge,"m",Pc).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":I(this,ge,"m",Ic).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":I(this,ge,"m",Rc).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":I(this,ge,"m",Ac).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Zn=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");if(!I(this,Nt,"f"))throw Error("Final run has not been received");return I(this,Nt,"f")},Ac=function(e){const[n,s]=I(this,ge,"m",Mc).call(this,e,I(this,Ge,"f"));Oe(this,Ge,n,"f"),I(this,lr,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=I(this,pn,"f")){if(I(this,Ht,"f"))switch(I(this,Ht,"f").type){case"text":this._emit("textDone",I(this,Ht,"f").text,I(this,Ge,"f"));break;case"image_file":this._emit("imageFileDone",I(this,Ht,"f").image_file,I(this,Ge,"f"));break}Oe(this,pn,r.index,"f")}Oe(this,Ht,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(I(this,pn,"f")!==void 0){const r=e.data.content[I(this,pn,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,I(this,Ge,"f"));break;case"text":this._emit("textDone",r.text,I(this,Ge,"f"));break}}I(this,Ge,"f")&&this._emit("messageDone",e.data),Oe(this,Ge,void 0,"f")}},Rc=function(e){const n=I(this,ge,"m",$c).call(this,e);switch(Oe(this,Gn,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==I(this,cr,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(I(this,Fe,"f")&&this._emit("toolCallDone",I(this,Fe,"f")),Oe(this,cr,i.index,"f"),Oe(this,Fe,n.step_details.tool_calls[i.index],"f"),I(this,Fe,"f")&&this._emit("toolCallCreated",I(this,Fe,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Oe(this,Gn,void 0,"f"),e.data.step_details.type=="tool_calls"&&I(this,Fe,"f")&&(this._emit("toolCallDone",I(this,Fe,"f")),Oe(this,Fe,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Pc=function(e){I(this,ro,"f").push(e),this._emit("event",e)},$c=function(e){switch(e.event){case"thread.run.step.created":return I(this,st,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=I(this,st,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Xe.accumulateDelta(n,s.delta);I(this,st,"f")[e.data.id]=r}return I(this,st,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":I(this,st,"f")[e.data.id]=e.data;break}if(I(this,st,"f")[e.data.id])return I(this,st,"f")[e.data.id];throw new Error("No snapshot available")},Mc=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=I(this,ge,"m",Tc).call(this,i,o)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Tc=function(e,n){return Xe.accumulateDelta(n,e)},Ic=function(e){switch(Oe(this,fr,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Oe(this,Nt,e.data,"f"),I(this,Fe,"f")&&(this._emit("toolCallDone",I(this,Fe,"f")),Oe(this,Fe,void 0,"f"));break}};class hr extends Q{create(e,n,s){return this._client.post(`/threads/${e}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Ie(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,io,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class io extends Ke{}(function(t){t.MessagesPage=io})(hr||(hr={}));class dr extends Q{retrieve(e,n,s,r){return this._client.get(`/threads/${e}/runs/${n}/steps/${s}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n,s={},r){return Ie(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,oo,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class oo extends Ke{}(function(t){t.RunStepsPage=oo})(dr||(dr={}));class pr extends Q{constructor(){super(...arguments),this.steps=new dr(this._client)}create(e,n,s){return this._client.post(`/threads/${e}/runs`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(e,n,s){return this._client.get(`/threads/${e}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Ie(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,ao,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}createAndStream(e,n,s){return Xe.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Hn(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return Xe.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,n,s,r){const i=await this.submitToolOutputs(e,n,s,r);return await this.poll(e,i.id,r)}submitToolOutputsStream(e,n,s,r){return Xe.createToolAssistantStream(e,n,this._client.beta.threads.runs,s,r)}}class ao extends Ke{}(function(t){t.RunsPage=ao,t.Steps=dr,t.RunStepsPage=oo})(pr||(pr={}));class gr extends Q{constructor(){super(...arguments),this.runs=new pr(this._client),this.messages=new hr(this._client)}create(e={},n){return Ie(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/threads/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(e,n){return Xe.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=pr,t.RunsPage=ao,t.Messages=hr,t.MessagesPage=io})(gr||(gr={}));const Ap=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};let mr=class extends Q{create(e,n,s){return this._client.post(`/vector_stores/${e}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},s){return Ie(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,_r,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...s,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Hn(a);break;case"failed":case"completed":return o}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}};class _r extends Ke{}(function(t){t.VectorStoreFilesPage=_r})(mr||(mr={}));class wr extends Q{create(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s={},r){return Ie(s)?this.listFiles(e,n,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,_r,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Hn(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),u=[...s];async function c(p){for(let m of p){const k=await a.files.create({file:m,purpose:"assistants"},r);u.push(k.id)}}const h=Array(o).fill(l).map(c);return await Ap(h),await this.createAndPoll(e,{file_ids:u})}}wr||(wr={});class br extends Q{constructor(){super(...arguments),this.files=new mr(this._client),this.fileBatches=new wr(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/vector_stores/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Ie(e)?this.list({},e):this._client.getAPIList("/vector_stores",lo,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class lo extends Ke{}(function(t){t.VectorStoresPage=lo,t.Files=mr,t.VectorStoreFilesPage=_r,t.FileBatches=wr})(br||(br={}));class yr extends Q{constructor(){super(...arguments),this.vectorStores=new br(this._client),this.chat=new ar(this._client),this.assistants=new Zs(this._client),this.threads=new gr(this._client)}}(function(t){t.VectorStores=br,t.VectorStoresPage=lo,t.Chat=ar,t.Assistants=Zs,t.AssistantsPage=Wi,t.Threads=gr})(yr||(yr={}));class xr extends Q{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}xr||(xr={});class vr extends Q{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}vr||(vr={});class Sr extends Q{create(e,n){return this._client.post("/files",rn({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Ie(e)?this.list({},e):this._client.getAPIList("/files",co,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await Hn(n),o=await this.retrieve(e),Date.now()-i>s)throw new Vi({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return o}}class co extends Ui{}(function(t){t.FileObjectsPage=co})(Sr||(Sr={}));class kr extends Q{list(e,n={},s){return Ie(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,uo,{query:n,...s})}}class uo extends Ke{}(function(t){t.FineTuningJobCheckpointsPage=uo})(kr||(kr={}));class Cr extends Q{constructor(){super(...arguments),this.checkpoints=new kr(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Ie(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",fo,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return Ie(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,ho,{query:n,...s})}}class fo extends Ke{}class ho extends Ke{}(function(t){t.FineTuningJobsPage=fo,t.FineTuningJobEventsPage=ho,t.Checkpoints=kr,t.FineTuningJobCheckpointsPage=uo})(Cr||(Cr={}));class Er extends Q{constructor(){super(...arguments),this.jobs=new Cr(this._client)}}(function(t){t.Jobs=Cr,t.FineTuningJobsPage=fo,t.FineTuningJobEventsPage=ho})(Er||(Er={}));class Ar extends Q{createVariation(e,n){return this._client.post("/images/variations",rn({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",rn({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}Ar||(Ar={});class Rr extends Q{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",po,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class po extends Ui{}(function(t){t.ModelsPage=po})(Rr||(Rr={}));class Pr extends Q{create(e,n){return this._client.post("/moderations",{body:e,...n})}}Pr||(Pr={});class $r extends Q{create(e,n,s){return this._client.post(`/uploads/${e}/parts`,rn({body:n,...s}))}}$r||($r={});class Mr extends Q{constructor(){super(...arguments),this.parts=new $r(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(`/uploads/${e}/complete`,{body:n,...s})}}(function(t){t.Parts=$r})(Mr||(Mr={}));var Oc;class ue extends op{constructor({baseURL:e=Vs("OPENAI_BASE_URL"),apiKey:n=Vs("OPENAI_API_KEY"),organization:s=Vs("OPENAI_ORG_ID")??null,project:r=Vs("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new z("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:s,project:r,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&_p())throw new z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new xr(this),this.chat=new Ws(this),this.embeddings=new vr(this),this.files=new Sr(this),this.images=new Ar(this),this.audio=new Gs(this),this.moderations=new Pr(this),this.models=new Rr(this),this.fineTuning=new Er(this),this.beta=new yr(this),this.batches=new Xs(this),this.uploads=new Mr(this),this._options=o,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}Oc=ue,ue.OpenAI=Oc,ue.DEFAULT_TIMEOUT=6e5,ue.OpenAIError=z,ue.APIError=pe,ue.APIConnectionError=Us,ue.APIConnectionTimeoutError=Vi,ue.APIUserAbortError=qe,ue.NotFoundError=ac,ue.ConflictError=lc,ue.RateLimitError=uc,ue.BadRequestError=rc,ue.AuthenticationError=ic,ue.InternalServerError=fc,ue.PermissionDeniedError=oc,ue.UnprocessableEntityError=cc,ue.toFile=Kl,ue.fileFromPath=Vl,function(t){t.Page=Ui,t.CursorPage=Ke,t.Completions=xr,t.Chat=Ws,t.Embeddings=vr,t.Files=Sr,t.FileObjectsPage=co,t.Images=Ar,t.Audio=Gs,t.Moderations=Pr,t.Models=Rr,t.ModelsPage=po,t.FineTuning=Er,t.Beta=yr,t.Batches=Xs,t.BatchesPage=zi,t.Uploads=Mr}(ue||(ue={}));var Rp=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Fc;const Tr=t=>Fc=t,Lc=Symbol();function go(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Qn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Qn||(Qn={}));function Pp(){const t=Oo(!0),e=t.run(()=>Qe({}));let n=[],s=[];const r=si({install(i){Tr(r),r._a=i,i.provide(Lc,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!Rp?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const jc=()=>{};function Dc(t,e,n,s=jc){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Fo()&&Vu(r),r}function gn(t,...e){t.slice().forEach(n=>{n(...e)})}const $p=t=>t(),Bc=Symbol(),mo=Symbol();function _o(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];go(r)&&go(s)&&t.hasOwnProperty(n)&&!ce(s)&&!vt(s)?t[n]=_o(r,s):t[n]=s}return t}const Mp=Symbol();function Tp(t){return!go(t)||!t.hasOwnProperty(Mp)}const{assign:At}=Object;function Ip(t){return!!(ce(t)&&t.effect)}function Op(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=r?r():{});const c=gf(n.state.value[t]);return At(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=si(ll(()=>{Tr(n);const m=n._s.get(t);return o[p].call(m,m)})),h),{}))}return l=Nc(t,u,e,n,s,!0),l}function Nc(t,e,n={},s,r,i){let o;const a=At({actions:{}},n),l={deep:!0};let u,c,h=[],p=[],m;const k=s.state.value[t];!i&&!k&&(s.state.value[t]={}),Qe({});let b;function S(H){let D;u=c=!1,typeof H=="function"?(H(s.state.value[t]),D={type:Qn.patchFunction,storeId:t,events:m}):(_o(s.state.value[t],H),D={type:Qn.patchObject,payload:H,storeId:t,events:m});const se=b=Symbol();pi().then(()=>{b===se&&(u=!0)}),c=!0,gn(h,D,s.state.value[t])}const L=i?function(){const{state:D}=n,se=D?D():{};this.$patch(G=>{At(G,se)})}:jc;function T(){o.stop(),h=[],p=[],s._s.delete(t)}const C=(H,D="")=>{if(Bc in H)return H[mo]=D,H;const se=function(){Tr(s);const G=Array.from(arguments),Re=[],Rt=[];function os(W){Re.push(W)}function Nr(W){Rt.push(W)}gn(p,{args:G,name:se[mo],store:P,after:os,onError:Nr});let fe;try{fe=H.apply(this&&this.$id===t?this:P,G)}catch(W){throw gn(Rt,W),W}return fe instanceof Promise?fe.then(W=>(gn(Re,W),W)).catch(W=>(gn(Rt,W),Promise.reject(W))):(gn(Re,fe),fe)};return se[Bc]=!0,se[mo]=D,se},_={_p:s,$id:t,$onAction:Dc.bind(null,p),$patch:S,$reset:L,$subscribe(H,D={}){const se=Dc(h,H,D.detached,()=>G()),G=o.run(()=>$s(()=>s.state.value[t],Re=>{(D.flush==="sync"?c:u)&&H({storeId:t,type:Qn.direct,events:m},Re)},At({},l,D)));return se},$dispose:T},P=Sn(_);s._s.set(t,P);const B=(s._a&&s._a.runWithContext||$p)(()=>s._e.run(()=>(o=Oo()).run(()=>e({action:C}))));for(const H in B){const D=B[H];if(ce(D)&&!Ip(D)||vt(D))i||(k&&Tp(D)&&(ce(D)?D.value=k[H]:_o(D,k[H])),s.state.value[t][H]=D);else if(typeof D=="function"){const se=C(D,H);B[H]=se,a.actions[H]=D}}return At(P,B),At(K(P),B),Object.defineProperty(P,"$state",{get:()=>s.state.value[t],set:H=>{S(D=>{At(D,H)})}}),s._p.forEach(H=>{At(P,o.run(()=>H({store:P,app:s._a,pinia:s,options:a})))}),k&&i&&n.hydrate&&n.hydrate(P.$state,k),u=!0,c=!0,P}function Fp(t,e,n){let s,r;const i=typeof e=="function";s=t,r=i?n:e;function o(a,l){const u=ph();return a=a||(u?Yt(Lc,null):null),a&&Tr(a),a=Fc,a._s.has(s)||(i?Nc(s,e,r,a):Op(s,r,a)),a._s.get(s)}return o.$id=s,o}function Lp(t){return t&&typeof t.then=="function"}Promise.resolve(!1),Promise.resolve(!0);var Vt=Promise.resolve();function Hc(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function jp(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function wo(){return Math.random().toString(36).substring(2)}var bo=0;function Yn(){var t=Date.now()*1e3;return t<=bo&&(t=bo+1),bo=t,t}var Dp=Yn,Bp="native";function Np(t){var e={time:Yn(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(n){e.messagesCallback&&e.messagesCallback(n.data)},e}function Hp(t){t.bc.close(),t.subFns=[]}function Vp(t,e){try{return t.bc.postMessage(e,!1),Vt}catch(n){return Promise.reject(n)}}function Up(t,e){t.messagesCallback=e}function zp(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Wp(){return 150}var qp={create:Np,close:Hp,onMessage:Up,postMessage:Vp,canBeUsed:zp,type:Bp,averageResponseTime:Wp,microSeconds:Dp};class Vc{constructor(e){X(this,"ttl");X(this,"map",new Map);X(this,"_to",!1);this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,Uc()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,Kp(this)},0))}clear(){this.map.clear()}}function Kp(t){const e=Uc()-t.ttl,n=t.map[Symbol.iterator]();for(;;){const s=n.next().value;if(!s)return;const r=s[0];if(s[1]<e)t.map.delete(r);else return}}function Uc(){return Date.now()}function yo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var Jp=Yn,Gp="pubkey.broadcast-channel-0-",_t="messages",Ir={durability:"relaxed"},Xp="idb";function zc(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function xo(t){t.commit&&t.commit()}function Zp(t){var e=zc(),n=Gp+t,s=e.open(n);return s.onupgradeneeded=function(r){var i=r.target.result;i.createObjectStore(_t,{keyPath:"id",autoIncrement:!0})},new Promise(function(r,i){s.onerror=function(o){return i(o)},s.onsuccess=function(){r(s.result)}})}function Qp(t,e,n){var s=Date.now(),r={uuid:e,time:s,data:n},i=t.transaction([_t],"readwrite",Ir);return new Promise(function(o,a){i.oncomplete=function(){return o()},i.onerror=function(u){return a(u)};var l=i.objectStore(_t);l.add(r),xo(i)})}function Yp(t,e){var n=t.transaction(_t,"readonly",Ir),s=n.objectStore(_t),r=[],i=IDBKeyRange.bound(e+1,1/0);if(s.getAll){var o=s.getAll(i);return new Promise(function(l,u){o.onerror=function(c){return u(c)},o.onsuccess=function(c){l(c.target.result)}})}function a(){try{return i=IDBKeyRange.bound(e+1,1/0),s.openCursor(i)}catch{return s.openCursor()}}return new Promise(function(l,u){var c=a();c.onerror=function(h){return u(h)},c.onsuccess=function(h){var p=h.target.result;p?p.value.id<e+1?p.continue(e+1):(r.push(p.value),p.continue()):(xo(n),l(r))}})}function eg(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(_t,"readwrite",Ir),s=n.objectStore(_t);return Promise.all(e.map(function(r){var i=s.delete(r);return new Promise(function(o){i.onsuccess=function(){return o()}})}))}function tg(t,e){var n=Date.now()-e,s=t.transaction(_t,"readonly",Ir),r=s.objectStore(_t),i=[];return new Promise(function(o){r.openCursor().onsuccess=function(a){var l=a.target.result;if(l){var u=l.value;u.time<n?(i.push(u),l.continue()):(xo(s),o(i))}else o(i)}})}function ng(t){return tg(t.db,t.options.idb.ttl).then(function(e){return eg(t,e.map(function(n){return n.id}))})}function sg(t,e){return e=yo(e),Zp(t).then(function(n){var s={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:wo(),eMIs:new Vc(e.idb.ttl*2),writeBlockPromise:Vt,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){s.closed=!0,e.idb.onclose&&e.idb.onclose()},Wc(s),s})}function Wc(t){t.closed||qc(t).then(function(){return Hc(t.options.idb.fallbackInterval)}).then(function(){return Wc(t)})}function rg(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function qc(t){return t.closed||!t.messagesCallback?Vt:Yp(t.db,t.lastCursorId).then(function(e){var n=e.filter(function(s){return!!s}).map(function(s){return s.id>t.lastCursorId&&(t.lastCursorId=s.id),s}).filter(function(s){return rg(s,t)}).sort(function(s,r){return s.time-r.time});return n.forEach(function(s){t.messagesCallback&&(t.eMIs.add(s.id),t.messagesCallback(s.data))}),Vt})}function ig(t){t.closed=!0,t.db.close()}function og(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return Qp(t.db,t.uuid,e)}).then(function(){jp(0,10)===0&&ng(t)}),t.writeBlockPromise}function ag(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,qc(t)}function lg(){return!!zc()}function cg(t){return t.idb.fallbackInterval*2}var ug={create:sg,close:ig,onMessage:ag,postMessage:og,canBeUsed:lg,type:Xp,averageResponseTime:cg,microSeconds:Jp},fg=Yn,hg="pubkey.broadcastChannel-",dg="localstorage";function Kc(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Jc(t){return hg+t}function pg(t,e){return new Promise(function(n){Hc().then(function(){var s=Jc(t.channelName),r={token:wo(),time:Date.now(),data:e,uuid:t.uuid},i=JSON.stringify(r);Kc().setItem(s,i);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=s,o.newValue=i,window.dispatchEvent(o),n()})})}function gg(t,e){var n=Jc(t),s=function(i){i.key===n&&e(JSON.parse(i.newValue))};return window.addEventListener("storage",s),s}function mg(t){window.removeEventListener("storage",t)}function _g(t,e){if(e=yo(e),!Gc())throw new Error("BroadcastChannel: localstorage cannot be used");var n=wo(),s=new Vc(e.localstorage.removeTimeout),r={channelName:t,uuid:n,eMIs:s};return r.listener=gg(t,function(i){r.messagesCallback&&i.uuid!==n&&(!i.token||s.has(i.token)||i.data.time&&i.data.time<r.messagesCallbackTime||(s.add(i.token),r.messagesCallback(i.data)))}),r}function wg(t){mg(t.listener)}function bg(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function Gc(){var t=Kc();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function yg(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var xg={create:_g,close:wg,onMessage:bg,postMessage:pg,canBeUsed:Gc,type:dg,averageResponseTime:yg,microSeconds:fg},Xc=Yn,vg="simulate",vo=new Set;function Sg(t){var e={time:Xc(),name:t,messagesCallback:null};return vo.add(e),e}function kg(t){vo.delete(t)}var Zc=5;function Cg(t,e){return new Promise(function(n){return setTimeout(function(){var s=Array.from(vo);s.forEach(function(r){r.name===t.name&&r!==t&&r.messagesCallback&&r.time<e.time&&r.messagesCallback(e)}),n()},Zc)})}function Eg(t,e){t.messagesCallback=e}function Ag(){return!0}function Rg(){return Zc}var Pg={create:Sg,close:kg,onMessage:Eg,postMessage:Cg,canBeUsed:Ag,type:vg,averageResponseTime:Rg,microSeconds:Xc},Qc=[qp,ug,xg];function $g(t){var e=[].concat(t.methods,Qc).filter(Boolean);if(t.type){if(t.type==="simulate")return Pg;var n=e.find(function(r){return r.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(r){return r.type!=="idb"}));var s=e.find(function(r){return r.canBeUsed()});if(s)return s;throw new Error("No usable method found in "+JSON.stringify(Qc.map(function(r){return r.type})))}var Yc=new Set,Mg=0,So=function(e,n){this.id=Mg++,Yc.add(this),this.name=e,eu&&(n=eu),this.options=yo(n),this.method=$g(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Tg(this)};So._pubkey=!0;var eu;So.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return tu(this,"message",e)},postInternal:function(e){return tu(this,"internal",e)},set onmessage(t){var e=this.method.microSeconds(),n={time:e,fn:t};ru(this,"message",this._onML),t&&typeof t=="function"?(this._onML=n,su(this,"message",n)):this._onML=null},addEventListener:function(e,n){var s=this.method.microSeconds(),r={time:s,fn:n};su(this,e,r)},removeEventListener:function(e,n){var s=this._addEL[e].find(function(r){return r.fn===n});ru(this,e,s)},close:function(){var e=this;if(!this.closed){Yc.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Vt;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(s){return s()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function tu(t,e,n){var s=t.method.microSeconds(),r={time:s,type:e,data:n},i=t._prepP?t._prepP:Vt;return i.then(function(){var o=t.method.postMessage(t._state,r);return t._uMP.add(o),o.catch().then(function(){return t._uMP.delete(o)}),o})}function Tg(t){var e=t.method.create(t.name,t.options);Lp(e)?(t._prepP=e,e.then(function(n){t._state=n})):t._state=e}function nu(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function su(t,e,n){t._addEL[e].push(n),Ig(t)}function ru(t,e,n){t._addEL[e]=t._addEL[e].filter(function(s){return s!==n}),Og(t)}function Ig(t){if(!t._iL&&nu(t)){var e=function(r){t._addEL[r.type].forEach(function(i){r.time>=i.time&&i.fn(r.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function Og(t){if(t._iL&&!nu(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}function iu(t,e={serialize:JSON.stringify,deserialize:JSON.parse}){return e.deserialize(e.serialize(t))}function Fg(t,e){return Object.keys(e).includes(t)}function Lg({enable:t=!0,initialize:e=!0,type:n,serializer:s}){return({store:r,options:i})=>{var m,k,b;const o=((m=i==null?void 0:i.share)==null?void 0:m.enable)??t,a=((k=i==null?void 0:i.share)==null?void 0:k.omit)??[];if(!o)return;const l=new So(r.$id,{type:n});let u=0,c=!1;const h=Object.keys(r.$state).filter(S=>!a.includes(S)&&Fg(S,r.$state));l.onmessage=S=>{if(S===void 0){l.postMessage({timestamp:u,state:iu(r.$state,s)});return}S.timestamp<=u||(c=!0,u=Date.now(),r.$patch(L=>{h.forEach(T=>{L[T]=S.state[T]})}))},(((b=i==null?void 0:i.share)==null?void 0:b.initialize)??e)&&l.postMessage(void 0),r.$subscribe((S,L)=>{c||(u=Date.now(),l.postMessage({timestamp:u,state:iu(L,s)})),c=!1})}}const ou=Symbol("client"),jg=({client:t,systemPrompt:e})=>n=>{const s=Pp();s.use(Lg({enable:!0,initialize:!1,type:"localstorage"})),n.use(s).provide(ou,{client:t,systemPrompt:e})};function Dg(){return Yt(ou)}const au=Fp("chatbox",{state:()=>({models:[],selectedModel:"",systemPrompt:"",userMessages:[],newMessage:"",maxTokens:5e3}),actions:{setSystemPrompt(t){this.systemPrompt=t},setModels(t){this.models=t},setSelectedModel(t){this.selectedModel=t},addMessage(t){this.userMessages.push(t)},setNewMessage(t){this.newMessage=t},clearNewMessage(){this.newMessage=""},clearMessages(){this.userMessages=[]}},getters:{messages:t=>[...t.systemPrompt?[{role:"system",content:t.systemPrompt}]:[],...t.userMessages]}});function ko(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ut=ko();function lu(t){Ut=t}const cu=/[&<>"']/,Bg=new RegExp(cu.source,"g"),uu=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ng=new RegExp(uu.source,"g"),Hg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fu=t=>Hg[t];function Le(t,e){if(e){if(cu.test(t))return t.replace(Bg,fu)}else if(uu.test(t))return t.replace(Ng,fu);return t}const Vg=/(^|[^\[])\^/g;function ne(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const s={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Vg,"$1"),n=n.replace(r,o),s},getRegex:()=>new RegExp(n,e)};return s}function hu(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const es={exec:()=>null};function du(t,e){const n=t.replace(/\|/g,(i,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),s=n.split(/ \|/);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(/\\\|/g,"|");return s}function ts(t,e,n){const s=t.length;if(s===0)return"";let r=0;for(;r<s;){const i=t.charAt(s-r-1);if(i===e&&!n)r++;else if(i!==e&&n)r++;else break}return t.slice(0,s-r)}function Ug(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return-1}function pu(t,e,n,s){const r=e.href,i=e.title?Le(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const a={type:"link",raw:n,href:r,title:i,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:i,text:Le(o)}}function zg(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(r=>{const i=r.match(/^\s+/);if(i===null)return r;const[o]=i;return o.length>=s.length?r.slice(s.length):r}).join(`
`)}class Or{constructor(e){X(this,"options");X(this,"rules");X(this,"lexer");this.options=e||Ut}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:ts(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],r=zg(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const r=ts(s,"#");(this.options.pedantic||!r||/ $/.test(r))&&(s=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:ts(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let s=ts(n[0],`
`).split(`
`),r="",i="";const o=[];for(;s.length>0;){let a=!1;const l=[];let u;for(u=0;u<s.length;u++)if(/^ {0,3}>/.test(s[u]))l.push(s[u]),a=!0;else if(!a)l.push(s[u]);else break;s=s.slice(u);const c=l.join(`
`),h=c.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${c}`:c,i=i?`${i}
${h}`:h;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=p,s.length===0)break;const m=o[o.length-1];if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const k=m,b=k.raw+`
`+s.join(`
`),S=this.blockquote(b);o[o.length-1]=S,r=r.substring(0,r.length-k.raw.length)+S.raw,i=i.substring(0,i.length-k.text.length)+S.text;break}else if((m==null?void 0:m.type)==="list"){const k=m,b=k.raw+`
`+s.join(`
`),S=this.list(b);o[o.length-1]=S,r=r.substring(0,r.length-m.raw.length)+S.raw,i=i.substring(0,i.length-k.raw.length)+S.raw,s=b.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim();const r=s.length>1,i={type:"list",raw:"",ordered:r,start:r?+s.slice(0,-1):"",loose:!1,items:[]};s=r?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=r?s:"[*+-]");const o=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;e;){let l=!1,u="",c="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let h=n[2].split(`
`,1)[0].replace(/^\t+/,L=>" ".repeat(3*L.length)),p=e.split(`
`,1)[0],m=!h.trim(),k=0;if(this.options.pedantic?(k=2,c=h.trimStart()):m?k=n[1].length+1:(k=n[2].search(/[^ ]/),k=k>4?1:k,c=h.slice(k),k+=n[1].length),m&&/^[ \t]*$/.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),l=!0),!l){const L=new RegExp(`^ {0,${Math.min(3,k-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,k-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),C=new RegExp(`^ {0,${Math.min(3,k-1)}}(?:\`\`\`|~~~)`),_=new RegExp(`^ {0,${Math.min(3,k-1)}}#`);for(;e;){const P=e.split(`
`,1)[0];let V;if(p=P,this.options.pedantic?(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),V=p):V=p.replace(/\t/g,"    "),C.test(p)||_.test(p)||L.test(p)||T.test(p))break;if(V.search(/[^ ]/)>=k||!p.trim())c+=`
`+V.slice(k);else{if(m||h.replace(/\t/g,"    ").search(/[^ ]/)>=4||C.test(h)||_.test(h)||T.test(h))break;c+=`
`+p}!m&&!p.trim()&&(m=!0),u+=P+`
`,e=e.substring(P.length+1),h=V.slice(k)}}i.loose||(a?i.loose=!0:/\n[ \t]*\n[ \t]*$/.test(u)&&(a=!0));let b=null,S;this.options.gfm&&(b=/^\[[ xX]\] /.exec(c),b&&(S=b[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:u,task:!!b,checked:S,loose:!1,text:c,tokens:[]}),i.raw+=u}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const u=i.items[l].tokens.filter(h=>h.type==="space"),c=u.length>0&&u.some(h=>/\n.*\n/.test(h.raw));i.loose=c}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:r,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const s=du(n[1]),r=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===r.length){for(const a of r)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<s.length;a++)o.header.push({text:s[a],tokens:this.lexer.inline(s[a]),header:!0,align:o.align[a]});for(const a of i)o.rows.push(du(a,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Le(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const o=ts(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{const o=Ug(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(s)?r=r.slice(1):r=r.slice(1,-1)),pu(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const r=(s[2]||s[1]).replace(/\s+/g," "),i=n[r.toLowerCase()];if(!i){const o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return pu(s,i,s[0],this.lexer)}}emStrong(e,n,s=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const o=[...r[0]].length-1;let a,l,u=o,c=0;const h=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+o);(r=h.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){u+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const p=[...r[0]][0].length,m=e.slice(0,o+r.index+p+l);if(Math.min(o,l)%2){const b=m.slice(1,-1);return{type:"em",raw:m,text:b,tokens:this.lexer.inlineTokens(b)}}const k=m.slice(2,-2);return{type:"strong",raw:m,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const r=/[^ ]/.test(s),i=/^ /.test(s)&&/ $/.test(s);return r&&i&&(s=s.substring(1,s.length-1)),s=Le(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let s,r;return n[2]==="@"?(s=Le(n[1]),r="mailto:"+s):(s=Le(n[1]),r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=Le(n[0]),i="mailto:"+r;else{let o;do o=n[0],n[0]=((s=this.rules.inline._backpedal.exec(n[0]))==null?void 0:s[0])??"";while(o!==n[0]);r=Le(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=n[0]:s=Le(n[0]),{type:"text",raw:n[0],text:s}}}}const Wg=/^(?:[ \t]*(?:\n|$))+/,qg=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Kg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ns=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Jg=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,gu=/(?:[*+-]|\d{1,9}[.)])/,mu=ne(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,gu).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Co=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Gg=/^[^\n]+/,Eo=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Xg=ne(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Eo).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Zg=ne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,gu).getRegex(),Fr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ao=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Qg=ne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ao).replace("tag",Fr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_u=ne(Co).replace("hr",ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex(),Ro={blockquote:ne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_u).getRegex(),code:qg,def:Xg,fences:Kg,heading:Jg,hr:ns,html:Qg,lheading:mu,list:Zg,newline:Wg,paragraph:_u,table:es,text:Gg},wu=ne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex(),Yg={...Ro,table:wu,paragraph:ne(Co).replace("hr",ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",wu).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex()},em={...Ro,html:ne(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ao).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:es,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ne(Co).replace("hr",ns).replace("heading",` *#{1,6} *[^
]`).replace("lheading",mu).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},bu=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tm=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,yu=/^( {2,}|\\)\n(?!\s*$)/,nm=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ss="\\p{P}\\p{S}",sm=ne(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ss).getRegex(),rm=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,im=ne(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ss).getRegex(),om=ne("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ss).getRegex(),am=ne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ss).getRegex(),lm=ne(/\\([punct])/,"gu").replace(/punct/g,ss).getRegex(),cm=ne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),um=ne(Ao).replace("(?:-->|$)","-->").getRegex(),fm=ne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",um).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Lr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,hm=ne(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Lr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xu=ne(/^!?\[(label)\]\[(ref)\]/).replace("label",Lr).replace("ref",Eo).getRegex(),vu=ne(/^!?\[(ref)\](?:\[\])?/).replace("ref",Eo).getRegex(),dm=ne("reflink|nolink(?!\\()","g").replace("reflink",xu).replace("nolink",vu).getRegex(),Po={_backpedal:es,anyPunctuation:lm,autolink:cm,blockSkip:rm,br:yu,code:tm,del:es,emStrongLDelim:im,emStrongRDelimAst:om,emStrongRDelimUnd:am,escape:bu,link:hm,nolink:vu,punctuation:sm,reflink:xu,reflinkSearch:dm,tag:fm,text:nm,url:es},pm={...Po,link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",Lr).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Lr).getRegex()},$o={...Po,escape:ne(bu).replace("])","~|])").getRegex(),url:ne(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},gm={...$o,br:ne(yu).replace("{2,}","*").getRegex(),text:ne($o.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},jr={normal:Ro,gfm:Yg,pedantic:em},rs={normal:Po,gfm:$o,breaks:gm,pedantic:pm};class He{constructor(e){X(this,"tokens");X(this,"options");X(this,"state");X(this,"tokenizer");X(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ut,this.options.tokenizer=this.options.tokenizer||new Or,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:jr.normal,inline:rs.normal};this.options.pedantic?(n.block=jr.pedantic,n.inline=rs.pedantic):this.options.gfm&&(n.block=jr.gfm,this.options.breaks?n.inline=rs.breaks:n.inline=rs.gfm),this.tokenizer.rules=n}static get rules(){return{block:jr,inline:rs}}static lex(e,n){return new He(n).lex(e)}static lexInline(e,n){return new He(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let r,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&(i==null?void 0:i.type)==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let s,r,i,o=e,a,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(s=c.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,o,u)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),n.push(s);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},h),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(i=e.substring(0,c+1))}if(s=this.tokenizer.inlineText(i)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(u=s.raw.slice(-1)),l=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Dr{constructor(e){X(this,"options");X(this,"parser");this.options=e||Ut}space(e){return""}code({text:e,lang:n,escaped:s}){var o;const r=(o=(n||"").match(/^\S*/))==null?void 0:o[0],i=e.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+Le(r)+'">'+(s?i:Le(i,!0))+`</code></pre>
`:"<pre><code>"+(s?i:Le(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,s=e.start;let r="";for(let a=0;a<e.items.length;a++){const l=e.items[a];r+=this.listitem(l)}const i=n?"ol":"ul",o=n&&s!==1?' start="'+s+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){let n="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" "}):n+=s+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",s="";for(let i=0;i<e.header.length;i++)s+=this.tablecell(e.header[i]);n+=this.tablerow({text:s});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];s="";for(let a=0;a<o.length;a++)s+=this.tablecell(o[a]);r+=this.tablerow({text:s})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+n+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:s}){const r=this.parser.parseInline(s),i=hu(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image({href:e,title:n,text:s}){const r=hu(e);if(r===null)return s;e=r;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Mo{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Ve{constructor(e){X(this,"options");X(this,"renderer");X(this,"textRenderer");this.options=e||Ut,this.options.renderer=this.options.renderer||new Dr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Mo}static parse(e,n){return new Ve(n).parse(e)}static parseInline(e,n){return new Ve(n).parseInline(e)}parse(e,n=!0){let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){s+=l||"";continue}}const o=i;switch(o.type){case"space":{s+=this.renderer.space(o);continue}case"hr":{s+=this.renderer.hr(o);continue}case"heading":{s+=this.renderer.heading(o);continue}case"code":{s+=this.renderer.code(o);continue}case"table":{s+=this.renderer.table(o);continue}case"blockquote":{s+=this.renderer.blockquote(o);continue}case"list":{s+=this.renderer.list(o);continue}case"html":{s+=this.renderer.html(o);continue}case"paragraph":{s+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],l+=`
`+this.renderer.text(a);n?s+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):s+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}parseInline(e,n){n=n||this.renderer;let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=a||"";continue}}const o=i;switch(o.type){case"escape":{s+=n.text(o);break}case"html":{s+=n.html(o);break}case"link":{s+=n.link(o);break}case"image":{s+=n.image(o);break}case"strong":{s+=n.strong(o);break}case"em":{s+=n.em(o);break}case"codespan":{s+=n.codespan(o);break}case"br":{s+=n.br(o);break}case"del":{s+=n.del(o);break}case"text":{s+=n.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}}class is{constructor(e){X(this,"options");X(this,"block");this.options=e||Ut}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?He.lex:He.lexInline}provideParser(){return this.block?Ve.parse:Ve.parseInline}}X(is,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class mm{constructor(...e){X(this,"defaults",ko());X(this,"options",this.setOptions);X(this,"parse",this.parseMarkdown(!0));X(this,"parseInline",this.parseMarkdown(!1));X(this,"Parser",Ve);X(this,"Renderer",Dr);X(this,"TextRenderer",Mo);X(this,"Lexer",He);X(this,"Tokenizer",Or);X(this,"Hooks",is);this.use(...e)}walkTokens(e,n){var r,i;let s=[];for(const o of e)switch(s=s.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)s=s.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const u of l)s=s.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=o;s=s.concat(this.walkTokens(a.items,n));break}default:{const a=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const u=a[l].flat(1/0);s=s.concat(this.walkTokens(u,n))}):a.tokens&&(s=s.concat(this.walkTokens(a.tokens,n)))}}return s}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const r={...s};if(r.async=this.defaults.async||r.async||!1,s.extensions&&(s.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[i.level];o?o.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),r.extensions=n),s.renderer){const i=this.defaults.renderer||new Dr(this.defaults);for(const o in s.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,l=s.renderer[a],u=i[a];i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h||""}}r.renderer=i}if(s.tokenizer){const i=this.defaults.tokenizer||new Or(this.defaults);for(const o in s.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=s.tokenizer[a],u=i[a];i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}r.tokenizer=i}if(s.hooks){const i=this.defaults.hooks||new is;for(const o in s.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,l=s.hooks[a],u=i[a];is.passThroughHooks.has(o)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(i,c)).then(p=>u.call(i,p));const h=l.call(i,c);return u.call(i,h)}:i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}r.hooks=i}if(s.walkTokens){const i=this.defaults.walkTokens,o=s.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return He.lex(e,n??this.defaults)}parser(e,n){return Ve.parse(e,n??this.defaults)}parseMarkdown(e){return(s,r)=>{const i={...r},o={...this.defaults,...i},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const l=o.hooks?o.hooks.provideLexer():e?He.lex:He.lexInline,u=o.hooks?o.hooks.provideParser():e?Ve.parse:Ve.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>u(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(s=o.hooks.preprocess(s));let c=l(s,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let h=u(c,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(c){return a(c)}}}onError(e,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Le(s.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(s);throw s}}}const zt=new mm;function Y(t,e){return zt.parse(t,e)}Y.options=Y.setOptions=function(t){return zt.setOptions(t),Y.defaults=zt.defaults,lu(Y.defaults),Y},Y.getDefaults=ko,Y.defaults=Ut,Y.use=function(...t){return zt.use(...t),Y.defaults=zt.defaults,lu(Y.defaults),Y},Y.walkTokens=function(t,e){return zt.walkTokens(t,e)},Y.parseInline=zt.parseInline,Y.Parser=Ve,Y.parser=Ve.parse,Y.Renderer=Dr,Y.TextRenderer=Mo,Y.Lexer=He,Y.lexer=He.lex,Y.Tokenizer=Or,Y.Hooks=is,Y.parse=Y,Y.options,Y.setOptions,Y.use,Y.walkTokens,Y.parseInline,Ve.parse,He.lex;const _m={key:0,class:"chat-history-overlay"},wm=$n({__name:"ChatHistory",setup(t,{expose:e}){au();const n=Qe(!1),s=()=>{n.value=!0},r=()=>{n.value=!1};return e({show:s,hide:r}),(i,o)=>n.value?(Ce(),Ne("div",_m,[F("div",{class:"chat-history-modal"},[F("div",{class:"chat-history-header"},[o[0]||(o[0]=F("h2",{class:"chat-history-title"},"TeacherAIde",-1)),o[1]||(o[1]=F("div",{class:"chat-history-subtitle"},"Chat History",-1)),F("img",{onClick:r,src:Bs,alt:"close",class:"chat-history-close"})]),o[2]||(o[2]=F("div",{class:"chat-history-content"},[F("div",{class:"chat-history-empty-container"},[F("div",{class:"chat-history-empty"},[F("p",null,"Your chat history is currently empty."),F("p",null,"Return to Home screen and start a new conversation!")])])],-1))])])):jn("",!0)}}),bm=".chat-history-overlay[data-v-03609742]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.chat-history-modal[data-v-03609742]{background-color:#fff;border-radius:12px;width:90%;max-width:500px;height:90vh;display:flex;flex-direction:column;overflow:hidden;border:1px solid #e5e7eb}.chat-history-header[data-v-03609742]{padding:20px;border-bottom:1px solid #e5e7eb;position:relative}.chat-history-title[data-v-03609742]{color:#003274;font-size:24px;font-weight:600;margin:0}.chat-history-subtitle[data-v-03609742]{color:#93a3bc;font-size:16px;margin-top:4px}.chat-history-close[data-v-03609742]{position:absolute;top:20px;right:20px;width:15px;height:15px;cursor:pointer}.chat-history-content[data-v-03609742]{flex:1;overflow-y:auto;overflow-x:hidden;position:relative}.chat-history-empty-container[data-v-03609742]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;padding:0 20px}.chat-history-empty[data-v-03609742]{text-align:center;color:#666}.chat-history-empty p[data-v-03609742]{margin:8px 0;line-height:1.5}",Br=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},Su=Br(wm,[["styles",[bm]],["__scopeId","data-v-03609742"]]),ym={key:0,class:"help-overlay"},xm={class:"help-modal"},vm={class:"help-content"},Sm=["onMouseenter","onMouseleave","onClick"],km={class:"help-question"},Cm={key:0,class:"help-answer"},ku=Br($n({__name:"HelpDialog",setup(t,{expose:e}){const n=Qe(!1),s=()=>{n.value=!0},r=()=>{n.value=!1,i.forEach(a=>a.isExpanded=!1)},i=Sn([{id:1,question:"Who is TeacherAIde?",answer:"TeacherAIde is a helpful assistant designed to support teachers in their daily tasks.",isExpanded:!1,isHovered:!1},{id:2,question:"How to copy answer?",answer:"Click the copy icon (clipboard symbol) below any message to copy its content.",isExpanded:!1,isHovered:!1},{id:3,question:"How to regenerate answer?",answer:"Click the refresh icon below any message to generate a new response.",isExpanded:!1,isHovered:!1},{id:4,question:"How to insert answer to editor?",answer:"Click the share icon below any message to insert it into your current document.",isExpanded:!1,isHovered:!1},{id:5,question:"How to retrieve chat history?",answer:"Click the list icon at the bottom left of the screen to view your chat history.",isExpanded:!1,isHovered:!1},{id:6,question:"How to edit or delete chat history?",answer:"In the chat history view, you can click the pen icon to edit chat session name or click the bin icon to delete the chat session from the chat history.",isExpanded:!1,isHovered:!1}]),o=a=>{a.isExpanded=!a.isExpanded};return e({show:s,hide:r}),(a,l)=>n.value?(Ce(),Ne("div",ym,[F("div",xm,[F("div",{class:"help-header"},[l[0]||(l[0]=F("h2",{class:"help-title"},"TeacherAIde",-1)),l[1]||(l[1]=F("div",{class:"help-subtitle"},"Help",-1)),F("img",{onClick:r,src:Bs,alt:"close",class:"help-close"})]),F("div",vm,[(Ce(!0),Ne(We,null,Aa(i,u=>(Ce(),Ne("div",{key:u.id,class:Cs(["help-item",{active:u.isHovered,expanded:u.isExpanded}]),onMouseenter:c=>u.isHovered=!0,onMouseleave:c=>u.isHovered=!1,onClick:c=>o(u)},[F("div",km,En(u.id)+". "+En(u.question),1),u.isExpanded?(Ce(),Ne("div",Cm,En(u.answer),1)):jn("",!0)],42,Sm))),128))])])])):jn("",!0)}}),[["styles",[".help-overlay[data-v-c830c8ad]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.help-modal[data-v-c830c8ad]{background-color:#fff;border-radius:12px;width:90%;max-width:500px;height:90vh;display:flex;flex-direction:column;overflow:hidden}.help-header[data-v-c830c8ad]{padding:20px;border-bottom:1px solid #e5e7eb;position:relative}.help-title[data-v-c830c8ad]{color:#003274;font-size:24px;font-weight:600;margin:0}.help-subtitle[data-v-c830c8ad]{color:#93a3bc;font-size:18px;margin-top:4px}.help-close[data-v-c830c8ad]{position:absolute;top:20px;right:20px;width:15px;height:15px;cursor:pointer}.help-content[data-v-c830c8ad]{flex:1;overflow-y:auto;padding:20px}.help-item[data-v-c830c8ad]{background-color:#e7eef7;border-radius:8px;padding:16px;margin-bottom:12px;cursor:pointer;transition:all .2s ease}.help-item.active[data-v-c830c8ad],.help-item.expanded[data-v-c830c8ad]{background-color:#b8cce8}.help-question[data-v-c830c8ad]{font-size:16px;color:#003274;font-weight:500}.help-answer[data-v-c830c8ad]{margin-top:12px;padding-top:12px;border-top:1px solid rgba(0,50,116,.1);color:#4a5568;font-size:14px;line-height:1.4}.help-close[data-v-c830c8ad]:hover{opacity:.8}"]],["__scopeId","data-v-c830c8ad"]]),Em={class:"chat-container"},Am={class:"messages-container"},Rm={key:0,class:"empty-state"},Pm={key:0,class:"user-message"},$m={class:"message-content"},Mm={key:1,class:"assistant-message"},Tm=["innerHTML"],Im={class:"bottom-container"},Om={class:"input-wrapper"},Fm={class:"input-area"},Lm=Br($n({__name:"SimpleChat",props:{textMessage:{type:String}},emits:["back-to-home"],setup(t,{emit:e}){const n=t,s=e,r=au(),{client:i,systemPrompt:o}=Dg(),a=Qe(null),l=Qe(null),u=new AbortController,c=async()=>{if(!r.newMessage)return;const T=r.newMessage;r.addMessage({content:T,role:"user"}),r.clearNewMessage();try{const C=await i.chat.completions.create({model:r.selectedModel,messages:r.messages,max_tokens:r.maxTokens},{signal:u.signal});r.addMessage({content:C.choices[0].message.content,role:"assistant"})}catch(C){console.error("Failed to send message:",C)}},h=async T=>{var C,_;try{const P=(_=(C=T.target.closest(".inline-block.p-2.rounded-lg"))==null?void 0:C.querySelector("p"))==null?void 0:_.textContent;P?(await navigator.clipboard.writeText(P),alert(`copied ${P} to clipboard!`)):console.warn("No text found in <p> tag")}catch(P){console.error("Failed to copy:",P)}},p=async T=>{var C,_;try{const P=(_=(C=T.target.closest(".inline-block.p-2.rounded-lg"))==null?void 0:C.querySelector("p"))==null?void 0:_.textContent;P?(await navigator.clipboard.writeText(P),alert(`copied ${P} to clipboard!`)):console.warn("No text found in <p> tag")}catch(P){console.error("Failed to copy:",P)}},m=async T=>{var C,_;try{const P=(_=(C=T.target.closest(".inline-block.p-2.rounded-lg"))==null?void 0:C.querySelector("p"))==null?void 0:_.textContent;P?(await navigator.clipboard.writeText(P),alert(`copied ${P} to clipboard!`)):console.warn("No text found in <p> tag")}catch(P){console.error("Failed to copy:",P)}},k=async T=>{try{if(!a.value){console.warn("Chat history component not initialized");return}await a.value.show(),console.log("Chat history displayed successfully")}catch(C){console.error("Failed to display chat history:",C),alert("Failed to open chat history. Please try again.")}},b=async T=>{try{console.log("Home navigation to be implemented"),alert("Home navigation coming soon!")}catch(C){console.error("Failed to navigate home:",C)}},S=async T=>{try{if(!l.value){console.warn("Help dialog component not initialized");return}await l.value.show(),console.log("Help dialog displayed successfully")}catch(C){console.error("Failed to display help dialog:",C),alert("Failed to open help. Please try again.")}};Ca(()=>{n.textMessage&&(r.newMessage=n.textMessage,c())});const L=()=>{s("back-to-home")};return(T,C)=>(Ce(),Ne("div",Em,[F("div",{class:"header"},[C[1]||(C[1]=F("h2",{class:"title"},"TeacherAIde",-1)),F("img",{onClick:L,src:Bs,alt:"close",class:"close-icon",title:"close"})]),F("div",Am,[Mt(r).messages.length===0?(Ce(),Ne("div",Rm,C[2]||(C[2]=[F("p",null,"You are a helpful assistant that aids teachers.",-1)]))):(Ce(!0),Ne(We,{key:1},Aa(Mt(r).messages,(_,P)=>(Ce(),Ne("div",{key:P,class:"message-wrapper"},[_.role==="user"?(Ce(),Ne("div",Pm,[F("div",$m,En(_.content),1)])):jn("",!0),_.role==="assistant"?(Ce(),Ne("div",Mm,[C[3]||(C[3]=F("div",{class:"assistant-label"},"TeacherAIde:",-1)),F("div",{class:"message-content",innerHTML:Mt(Y).parse(_.content)},null,8,Tm),F("div",{class:"message-actions"},[F("img",{onClick:h,src:Hd,alt:"copy",class:"action-icon",title:"copy"}),F("img",{onClick:p,src:Vd,alt:"refresh",class:"action-icon",title:"refresh"}),F("img",{onClick:m,src:Ud,alt:"share",class:"action-icon",title:"share"})])])):jn("",!0)]))),128))]),F("div",Im,[F("div",Om,[F("div",Fm,[ya(F("input",{"onUpdate:modelValue":C[0]||(C[0]=_=>Mt(r).newMessage=_),onKeyup:Rl(c,["enter"]),type:"text",placeholder:"Ask TeacherAIde...",class:"message-input"},null,544),[[Al,Mt(r).newMessage]]),F("img",{onClick:c,src:Tl,alt:"send",class:"send-icon",title:"send"})])]),F("div",{class:"navigation"},[F("img",{onClick:k,src:Il,alt:"chat history",class:"nav-icon",title:"chat history"}),F("img",{onClick:b,src:Ol,alt:"home",class:"nav-icon",title:"home"}),F("img",{onClick:S,src:Fl,alt:"help",class:"nav-icon",title:"help"})])]),Ee(Su,{ref_key:"chatHistoryRef",ref:a},null,512),Ee(ku,{ref_key:"helpDialogRef",ref:l},null,512)]))}}),[["styles",[".chat-container[data-v-2a3b7f84]{width:90%;max-width:500px;height:90vh;margin:20px auto;background:#fff;border-radius:12px;display:flex;flex-direction:column;border:1px solid #e5e7eb;box-shadow:0 2px 10px #0000001a}.header[data-v-2a3b7f84]{padding:16px 20px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.title[data-v-2a3b7f84]{color:#003274;font-size:24px;font-weight:600;margin:0}.close-icon[data-v-2a3b7f84]{width:15px;height:15px;cursor:pointer}.messages-container[data-v-2a3b7f84]{flex:1;overflow-y:auto;padding:16px 32px;display:flex;flex-direction:column;gap:16px}.message-wrapper[data-v-2a3b7f84]{margin-bottom:8px;width:100%}.user-message[data-v-2a3b7f84]{margin-bottom:4px}.user-message .message-content[data-v-2a3b7f84]{color:#003274;text-align:left;font-weight:800}.assistant-message[data-v-2a3b7f84]{background-color:#f8f9fa;padding:16px 32px;margin:0 -32px;position:relative}.assistant-label[data-v-2a3b7f84]{color:#003274;font-weight:800;margin-bottom:4px}.assistant-message .message-content[data-v-2a3b7f84]{color:#000;text-align:left;margin-bottom:24px}.message-content[data-v-2a3b7f84]{line-height:1.4;white-space:pre-wrap}.message-content[data-v-2a3b7f84] p{margin:8px 0}.message-content[data-v-2a3b7f84] p:first-child{margin-top:0}.message-content[data-v-2a3b7f84] ul{margin:4px 0;padding-left:16px}.message-content[data-v-2a3b7f84] li{margin:2px 0}.message-actions[data-v-2a3b7f84]{position:absolute;bottom:8px;left:32px;display:flex;gap:16px;align-items:center}.action-icon[data-v-2a3b7f84]{width:16px;height:16px;cursor:pointer;filter:brightness(0);opacity:.8;transition:opacity .2s ease;padding:2px}.action-icon[data-v-2a3b7f84]:hover{opacity:1}.empty-state[data-v-2a3b7f84]{text-align:center;color:#666;padding:16px}.bottom-container[data-v-2a3b7f84]{margin-top:auto}.input-wrapper[data-v-2a3b7f84]{padding:0 16px;margin-bottom:8px}.input-area[data-v-2a3b7f84]{background-color:#003274;border-radius:25px;display:flex;align-items:center;padding:8px 16px}.message-input[data-v-2a3b7f84]{flex:1;padding:8px;border:none;background:transparent;color:#fff;outline:none;font-size:14px}.message-input[data-v-2a3b7f84]::-moz-placeholder{color:#fff;opacity:.8}.message-input[data-v-2a3b7f84]::placeholder{color:#fff;opacity:.8}.send-icon[data-v-2a3b7f84]{width:20px;height:20px;cursor:pointer;margin-left:8px}.navigation[data-v-2a3b7f84]{background:#f8f9fa;padding:12px 20px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e5e7eb;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.nav-icon[data-v-2a3b7f84]{width:24px;height:24px;cursor:pointer;transition:opacity .2s ease}.nav-icon[data-v-2a3b7f84]:hover,.send-icon[data-v-2a3b7f84]:hover,.close-icon[data-v-2a3b7f84]:hover{opacity:.8}.messages-container[data-v-2a3b7f84]::-webkit-scrollbar{width:6px}.messages-container[data-v-2a3b7f84]::-webkit-scrollbar-track{background:transparent}.messages-container[data-v-2a3b7f84]::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px}"]],["__scopeId","data-v-2a3b7f84"]]),jm={key:0,class:"home-container"},Dm={class:"content-container"},Bm={class:"input-container"},Nm=Br($n({__name:"HomeScreen",setup(t){const e=Qe(!1),n=Qe(""),s=Qe(null),r=Qe(null),i=async()=>{var c;(c=s.value)==null||c.show()},o=async()=>{var c;(c=r.value)==null||c.show()},a=()=>{n.value.trim()&&(e.value=!0)},l=()=>{e.value=!1,n.value=""},u=()=>{e.value=!1,n.value=""};return(c,h)=>e.value?(Ce(),el(Lm,{key:1,"text-message":n.value,onBackToHome:u},null,8,["text-message"])):(Ce(),Ne("div",jm,[F("img",{onClick:l,src:Bs,alt:"close",class:"close-icon"}),F("div",Dm,[h[1]||(h[1]=F("h1",{class:"title"},"TeacherAIde",-1)),h[2]||(h[2]=F("p",{class:"subtitle"},"Your personal teaching assistant",-1)),F("div",Bm,[ya(F("input",{"onUpdate:modelValue":h[0]||(h[0]=p=>n.value=p),type:"text",placeholder:"Ask TeacherAIde...",class:"ask-input",onKeyup:Rl(a,["enter"])},null,544),[[Al,n.value]]),F("img",{onClick:a,src:Tl,alt:"send",class:"send-icon"})])]),F("div",{class:"navigation"},[F("img",{onClick:i,src:Il,alt:"chat history",class:"nav-icon"}),h[3]||(h[3]=F("img",{src:Ol,alt:"home",class:"nav-icon active"},null,-1)),F("img",{onClick:o,src:Fl,alt:"help",class:"nav-icon"})]),Ee(Su,{ref_key:"chatHistoryRef",ref:s},null,512),Ee(ku,{ref_key:"helpDialogRef",ref:r},null,512)]))}}),[["styles",[".home-container[data-v-f9e94673]{width:90%;max-width:500px;height:90vh;margin:20px auto;background:#fff;border-radius:12px;display:flex;flex-direction:column;position:relative;border:1px solid #e5e7eb;box-shadow:0 2px 10px #0000001a}.close-icon[data-v-f9e94673]{position:absolute;top:20px;right:20px;width:15px;height:15px;cursor:pointer}.content-container[data-v-f9e94673]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.title[data-v-f9e94673]{color:#003274;font-size:32px;font-weight:600;margin:0}.subtitle[data-v-f9e94673]{color:#666;margin-top:8px}.input-container[data-v-f9e94673]{margin-top:24px;width:100%;max-width:400px;position:relative}.ask-input[data-v-f9e94673]{width:100%;padding:12px 40px 12px 16px;border-radius:25px;border:none;background-color:#003274;color:#fff;font-size:16px;outline:none}.ask-input[data-v-f9e94673]::-moz-placeholder{color:#fffc}.ask-input[data-v-f9e94673]::placeholder{color:#fffc}.send-icon[data-v-f9e94673]{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:24px;height:24px;cursor:pointer}.navigation[data-v-f9e94673]{padding:12px 20px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e5e7eb}.nav-icon[data-v-f9e94673]{width:24px;height:24px;cursor:pointer;opacity:.5}.nav-icon.active[data-v-f9e94673]{opacity:1}"]],["__scopeId","data-v-f9e94673"]]);async function Hm({endpoint:t,method:e,params:n}){return ot.call([{methodname:"local_teacheraide_openai_gateway",args:{endpoint:t,method:e,params:n}}])[0]}const Cu=`${M.cfg.wwwroot}/webservice/restful/server.php/local_teacheraide_openai_gateway`,Vm=async(t,e)=>{const n=`${t}`.replace(Cu,""),s=e==null?void 0:e.method,r=e==null?void 0:e.body,i=await Hm({endpoint:n,method:s,params:r});return new Response(i.data,{status:200,headers:{"Content-Type":"application/json"}})};async function Um({systemPrompt:t}){const e=new ue({baseURL:Cu,apiKey:"dummy",dangerouslyAllowBrowser:!0,fetch:Vm}),n=jg({client:e,systemPrompt:t});customElements.define("teacheraide-simple-chat",Id(Nm,{configureApp:n}))}wt.init=Um,Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=app-lazy.min.js.map
